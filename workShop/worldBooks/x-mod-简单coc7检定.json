{"entries":{"0":{"key":[],"keysecondary":[],"comment":"🎲简单coc7检定","content":" {{setvar::dice_use::true}}\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 1);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1)){\n_%>\n{\n  \"COC7规则配置\": {\n    \"核心规则\": [\n      \"性爱不进行检定\"\n    ],\n    \"骰子检定核心要求\": {\n      \"难度与骰子规则\": [\n        \"数值超过120时，默认使用极难骰子难度\",\n        \"新增「不可能」难度，需投出十分之一骰子才能成功\",\n        \"不许修改骰子池里面的骰子数值\",\n        \"必须明确输出骰子检定\"\n      ]\n    },\n    \"伤害记录规则\": \"持续受伤需记录，每回合投掷相关骰子进行伤害判定\",\n    \"检定场景要求\": \"话术、调查、物品获取、战斗等符合COC规则的场景，均需进行检定\",\n    \"输出规范\": \"必须输出一次骰子原本的数值在检定过程中\",\n    \"物品获取规则\": \"物品的获取要进行幸运检定\"\n  },\n  \"当前检定执行指令\": \"根据coc7跑团规则对当前情况进行检定，根据骰子拿取规则来进行骰子拿取进行检定，在场全部敌人和友方都要进行骰子检定。检定失败则是这个行为就失败了，不能换个办法让<user>成功，命中骰子失败了就是不命中。\",\n  \"骰子拿取规则\": {\n    \"骰子来源\": \"COC检定所需骰子从指定骰子池获取\",\n    \"拿取顺序原则\": {\n      \"基础顺序\": \"敌方从1号骰子开始，我方从2号骰子开始，按「敌方1个→我方1个」的顺序交替拿取\",\n      \"编号限制\": \"我方仅可拿取双数号骰子，敌方仅可拿取单数号骰子\",\n      \"多人排序\": \"若敌方/我方存在多人，按各成员名字中文首字的声母顺序排序，声母顺序靠前的人优先拿取\"\n    },\n    \"检定过程要求\": [\n      \"需明确输出检定过程\",\n      \"检定过程需自然融入正文故事内容\"\n    ]\n  }\n}\n\n下面是骰子池\n<% \nfunction rollDice(sides, count) {\n    const results = [];\n    for (let i = 0; i < count; i++) {\n        const randomArray = new Uint32Array(1);\n        crypto.getRandomValues(randomArray);\n        results.push((randomArray[0] % sides) + 1);\n    }\n    return results;\n}\n\nconst d4 = rollDice(4, 20);\nconst d8 = rollDice(8, 20);\nconst d10 = rollDice(10, 20);\nconst d20 = rollDice(20, 20);\nconst d100 = rollDice(100, 20);\n%>\n\n<h3>d100骰子(20个):</h3>\n<% for(let i = 0; i < 20; i+=4) { %>\n  <%= i+1 %>号[<%= d100[i] %>] <%= i+2 %>号[<%= d100[i+1] %>] <%= i+3 %>号[<%= d100[i+2] %>] <%= i+4 %>号[<%= d100[i+3] %>]\n<% } %>\n<%_  \n}\n_%>","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":2,"position":4,"disable":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"group":"骰子检定","groupOverride":true,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":false,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"uid":0,"displayIndex":0,"triggers":[]},"1":{"uid":1,"key":[],"keysecondary":[],"comment":"[diyattribute]","content":"\n{\n  \"name\": \"coc7模板\",\n  \"desc\": \"coc7检定的属性模板\",\n     \"attr\": {\n      \"生理属性\": {\n        \"力量(STR)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"体质(CON)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"外貌(APP)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"敏捷(DEX)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"体型(SIZ)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"智力(INT)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"教育(EDU)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"幸运(LUCK)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"性别\": {\n          \"基础\": [\n            0,\n            \"根据描述，选择一个性别，有男/女和无性别\"\n          ]\n        },\n        \"外貌\": {\n          \"基础\": [\n            0,\n            \"查找网络内容，找到这个角色的一切信息，客观描述这个角色在ta所在作品的外貌\"\n          ]\n        },\n        \"身高\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"体重\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"技能熟练项\": {\n          \"基础\": [\n            0,\n            \"查找网络资料，找到这个角色的一切信息，根据coc规则来添加这个角色的技能熟练项\"\n          ]\n        },\n        \"工具熟练项\": {\n          \"基础\": [\n            0,\n            \"查找网络资料，找到这个角色的一切信息，根据coc规则来添加这个角色的工具熟练项\"\n          ]\n        },\n        \"生命值(HP)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"伤害加值\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写\"\n          ]\n        },\n        \"移动速度(MOV)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写移动速度(MOV)\"\n          ]\n        },\n        \"体力(MP)\": {\n          \"基础\": [\n            0,\n            \"根据coc跑团规则来写魔法值(MP)\"\n          ]\n        }\n      },\n      \"新分类_4898\": {}\n    },\n    \"skill\": {\n      \"互动技能\": {\n        \"动物沟通\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"感受\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"表达\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"胁迫\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"交际\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"掩饰\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"潜行\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"侦查\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ],\n        \"急救\": [\n          0,\n          \"根据coc跑团规则来写\"\n        ]\n      },\n      \"技能\": {\n        \"驾驶\": [\n          0,\n          \"根据coc跑团规则来写，衡量操控地面、水面或空中载具的能力\"\n        ],\n        \"手上功夫\": [\n          0,\n          \"根据coc跑团规则来写，衡量盗窃、开锁等手部精细操作能力\"\n        ],\n        \"隐藏\": [\n          0,\n          \"衡量潜行、伪装与隐蔽自身的能力\"\n        ],\n        \"求生\": [\n          0,\n          \"衡量在恶劣环境中生存与追踪的能力\"\n        ],\n        \"白刃\": [\n          0,\n          \"衡量使用刀剑等冷兵器的能力\"\n        ],\n        \"弓箭\": [\n          0,\n          \"衡量使用弓弩等抛射武器的能力\"\n        ],\n        \"格斗\": [\n          0,\n          \"衡量徒手格斗技巧\"\n        ],\n        \"特技\": [\n          0,\n          \"衡量跑、跳、攀爬等身体活动能力\"\n        ],\n        \"射击\": [\n          0,\n          \"衡量使用各类火器的能力\"\n        ]\n      },\n      \"技艺\": {\n        \"学识\": [\n          0,\n          \"衡量人文、历史、地理等知识广度\"\n        ],\n        \"电脑\": [\n          0,\n          \"衡量操作、编程与黑客技术\"\n        ],\n        \"手艺\": [\n          0,\n          \"衡量制作的知识\"\n        ],\n        \"调查\": [\n          0,\n          \"衡量搜集线索、分析现场的能力\"\n        ],\n        \"医学\": [\n          0,\n          \"衡量诊断、治疗与药理知识\"\n        ],\n        \"神秘学\": [\n          0,\n          \"衡量对超自然现象与魔法的知识\"\n        ],\n        \"科学\": [\n          0,\n          \"衡量物理、化学、生物等自然科学知识\"\n        ],\n        \"驾驶(陆地)\": [\n          0,\n          \"会驾驶陆上工具，汽车、大车小车等车辆\"\n        ],\n        \"特种驾驶\": [\n          0,\n          \"会驾驶叉车、铲车、塔吊、挖掘机和压路车等具备专用功能用于特种作业场景的车辆\"\n        ],\n        \"厨艺\": [\n          0,\n          \"\"\n        ],\n        \"机械\": [\n          0,\n          \"会制作使用机械设备\"\n        ]\n      }\n    }}","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":100,"position":0,"disable":true,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":4,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":null,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":1}}}