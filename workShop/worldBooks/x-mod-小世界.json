{"entries":{"0":{"uid":0,"displayIndex":26,"comment":"æ¸¸æˆæœºä»“åº“","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_youxiijicangku_wpyhvf = formatObjectGraceSimple(_.get(assaData, 'global_lore.youxiijicangku', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.youxiijicangku', {\n    desc: \"æ¸¸æˆæœºä»“åº“ï¼Œä»“åº“ç”¨äºå­˜æ”¾é€šå…³å‘æ”¾æˆ–å•†åŸè´­ä¹°çš„ç°å®/æ¸¸æˆç‰©å“ï¼Œç°å®ç‰©å“éœ€è¦åœ¨ä»“åº“ç‚¹å‡»å…·ç°æ‰å¯ä»¥å…·ç°åŒ–åˆ°ç°å®ï¼Œå¦åˆ™ç¦æ­¢å‡ºç°åœ¨ç°å®ï¼Œæ¸¸æˆç‰©å“å¯ä»¥ç‚¹å‡»æºå¸¦åæºå¸¦å…¥å½“å‰æ¸¸ç©çš„æ¸¸æˆä¸­ï¼Œæºå¸¦æ•°é‡é™åˆ¶ä¸ºå½“å‰æ¸¸æˆæ˜Ÿçº§ï¼Œä¾‹å¦‚ä¸€æ˜Ÿæ¸¸æˆå¯ä»¥æºå¸¦ä¸€ä¸ªæ¸¸æˆç‰©å“ï¼Œä¸¤æ˜Ÿå¯ä»¥æºå¸¦ä¸¤ä¸ªã€‚\nå½“<user>é€‰æ‹©æºå¸¦ä¹‹åç«‹å³åˆ é™¤æºå¸¦çš„æ¸¸æˆç‰©å“ï¼Œå½“<user>é€‰æ‹©å…·ç°ä¹‹åç«‹å³åˆ é™¤å…·ç°çš„ç°å®ç‰©å“ã€‚\nä¸¥æ ¼æŒ‰ç…§JSONç»“æ„ï¼Œæ ¼å¼å¦‚ä¸‹:\n{\n  \"ç°å®ä»“åº“\": {\n    \"${ç°å®ç‰©å“å}_å ä½ç¬¦\": \n    {\n      \"æè¿°\": \"string (ç‰©å“å¤–è§‚ä¸åŠŸèƒ½)\",\n      \"æ˜Ÿçº§\": \"num (1-5)\",\n      \"æ•°é‡\": \"num\"\n    }\n  },\n\n  \"æ¸¸æˆä»“åº“\": {\n    \"${æ¸¸æˆé“å…·å}_å ä½ç¬¦\": \n    {\n      \"æè¿°\": \"string (é“å…·åŠŸèƒ½)\",\n      \"æ˜Ÿçº§\": \"num (1-5)\",\n      \"æ•°é‡\": \"num\"\n    }\n  },\n\n  \"å½“å‰æºå¸¦è§„åˆ™\": \"å½“å‰æ¸¸ç©æ¸¸æˆæ˜Ÿçº§ä¸º N æ˜Ÿï¼Œåˆ™ <user>æœ€å¤šå¯ä»¥ä»[æ¸¸æˆä»“åº“]ä¸­é€‰æ‹© N ä¸ªé“å…·æºå¸¦è¿›å…¥æ¸¸æˆä¸–ç•Œï¼ˆå­˜å…¥global_juesemingçš„æ¸¸æˆèƒŒåŒ…å­—æ®µï¼‰ã€‚\"\n}\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: '<user>é€‰æ‹©å…·ç°ç°å®ç‰©å“æ—¶å°†å…¶åˆ é™¤ï¼Œ<user>é€‰æ‹©æºå¸¦æ¸¸æˆç‰©å“æ—¶å°†å…¶åˆ é™¤ï¼Œé€šå…³åå‘æ”¾ç‰©å“å°†å…¶å­˜å…¥ï¼Œå•†åŸè´­ä¹°ç‰©å“å°†å…¶å­˜å…¥ï¼Œæ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ›´æ–°å’Œdeleteåˆ é™¤'<%_\n    }\n    _%>,\n    path: 'global_lore.youxiijicangku <%=global_youxiijicangku_wpyhvf%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"1":{"uid":1,"displayIndex":27,"comment":"æ¸¸æˆæœºè§’è‰²","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_jueseming_hfnq18 = formatObjectGraceSimple(_.get(assaData, 'global_lore.jueseming', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.jueseming', {\n    desc: \"æ„å»ºç°å®ä¸æ¸¸æˆçš„æ•°æ®é˜²ç«å¢™ï¼Œç¡®ä¿æ¸¸æˆè§’è‰²çš„æˆé•¿ä¸ <user>æœ¬ä½“çš„å±æ€§ä¸¥æ ¼åˆ†ç¦»ï¼Œç¦æ­¢å°†<user>åæ›´æ–°å…¥æ¸¸æˆè§’è‰²åã€‚\næ ¹æ®è§’è‰²çš„ç‰¹ç‚¹ç”Ÿæˆä»¥ä¸‹å±æ€§ï¼Œä¸èƒ½å…¨éƒ¨æ•°å€¼ä¸€æ ·ï¼Œå¹¶ä¸”è¦ç¡®ä¿æ‰€æœ‰æ•°å€¼æ€»å’Œå¤§äº100ã€‚\nåœ¨è§’è‰²åä¸‹è‡ªåŠ¨ç”Ÿæˆæ ¸å¿ƒå­å­—æ®µï¼Œè§’è‰²åæ˜¯ç¬¬ä¸€çº§çš„ï¼Œå‰é¢æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œä½ éœ€è¦ä¸¥æ ¼éµå®ˆä»¥ä¸‹æ ¼å¼ï¼Œæ¯ä¸€é¡¹éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„JSONæ ¼å¼ï¼Œä¸èƒ½æ˜¯å…¨éƒ¨å°±æ˜¯ä¸€ä¸²å­—ç¬¦ã€‚\n{\n  \"${è§’è‰²å1æˆ–åŠ¿åŠ›å(ç¦æ­¢å‡ºç°<user>åå­—ï¼Œå‚ç…§æ¸¸æˆé£æ ¼å‘½åï¼Œè¥¿å¹»é£æ ¼å°±ä»¥è¥¿æ–¹å›½å®¶çš„é£æ ¼å‘½åï¼Œç„å¹»å°±ä»¥ä¸œæ–¹å‘½å)}\": {\n    // === æ ¸å¿ƒåŸºç¡€å±æ€§ ===\n    \"æ¸¸æˆç­‰çº§\": \"(ä¸æ˜¯æ•°å­—è€Œæ˜¯å½“å‰å¢ƒç•Œ/çº§åˆ«ï¼Œä¾‹å¦‚ä¿®ä»™æ¸¸æˆå°±æ˜¯å‡¡äººã€ç»ƒæ°”ã€ç­‘åŸºç­‰ï¼Œé’“é±¼æ¸¸æˆå°±æ˜¯æ–°æ‰‹ã€é«˜æ‰‹ã€é’“é±¼ä½¬ç­‰ï¼Œæ¨¡æ‹Ÿç»è¥æ¸¸æˆå°±æ˜¯å…¬å¸ã€é›†å›¢ç­‰ï¼Œä»¥ä¸Šä»…ä¾›å‚è€ƒ)\",\n    \"æ¸¸æˆç”Ÿå‘½å€¼\": \"num/num (ä¾‹å¦‚: 90/100)\",\n    \"æ¸¸æˆèƒ½é‡å€¼\": \"num/num (ä¾‹å¦‚: 100/100)\",\n    \"æ¸¸æˆç»éªŒå€¼\": \"num/num (ä¾‹å¦‚: 0/100)\",\n\n  \"æ¸¸æˆçŠ¶æ€æ \": {\n      \"çŠ¶æ€åç§°1\": \"string (çŠ¶æ€åç§°ï¼Œä¾‹å¦‚: ä¸¥é‡åèƒƒ)\",{\n      \"çŠ¶æ€ç±»å‹\": \"string (å¿…é¡»ä¸¥æ ¼å¡«å†™ä¸ºä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€: 'æ­£é¢', 'è´Ÿé¢', 'ä¸­æ€§'ã€‚æ­£é¢=å¢ç›ŠBuff, è´Ÿé¢=å‡ç›ŠDebuff, ä¸­æ€§=ç‰¹æ®ŠçŠ¶æ€)\",\n      \"çŠ¶æ€æè¿°\": \"string (çŠ¶æ€æè¿°ï¼Œä¾‹å¦‚: å¦‚æœä¸åŠæ—¶å–æ°´å‹åˆ¶ï¼Œå¯èƒ½ä¼šå› ä¸ºå‘•åå£°å¼•æ¥ä¸å¿…è¦çš„éº»çƒ¦)\",\n      \"çŠ¶æ€æ•ˆæœ\": \"string (çŠ¶æ€æ•ˆæœï¼Œä¾‹å¦‚: æ•æ·-1ï¼Œé£åº¦-2ï¼Œè¯·æ³¨æ„çŠ¶æ€æ•ˆæœåªä¼šåœ¨è¿™å‡ ä¸ªå±æ€§ä¸­å‡ºç°ä¿®æ­£ï¼šç”Ÿç†å±æ€§(\"åŠ›é‡\",\"æ•æ·\",\"è€åŠ›\"),å¿ƒæ™ºå±æ€§(\"æ™ºåŠ›\",\"æ„ŸçŸ¥\",\"å†³å¿ƒ\"),äº’åŠ¨å±æ€§(\"é£åº¦\",\"æ“æ§\",\"æ²‰ç€\",\"å¹¸è¿\"),ç”Ÿç†æŠ€èƒ½(\"è¿åŠ¨\",\"è‚‰æ\",\"é©¾é©¶\",\"æªæ¢°\",\"æ‰‹ä¸ŠåŠŸå¤«\",\"éšè—\",\"æ±‚ç”Ÿ\",\"ç™½åˆƒ\",\"å¼“ç®­\"),å¿ƒæ™ºæŠ€èƒ½(\"å­¦è¯†\",\"ç”µè„‘\",\"æ‰‹è‰º\",\"è°ƒæŸ¥\",\"åŒ»å­¦\",\"ç¥ç§˜å­¦\",\"ç§‘å­¦\"),äº’åŠ¨æŠ€èƒ½(\"åŠ¨ç‰©æ²Ÿé€š\",\"æ„Ÿå—\",\"è¡¨è¾¾\",\"èƒè¿«\",\"äº¤é™…\",\"æ©é¥°\"))\",\n      \"æŒç»­æ—¶é—´\": \"string (æŒç»­æ—¶é—´ï¼Œä¾‹å¦‚: 30åˆ†é’Ÿ)\"\n    },\n\"çŠ¶æ€åç§°2\": \"string (çŠ¶æ€åç§°ï¼Œä¾‹å¦‚: ä¸¥é‡åèƒƒ)\",{\n      \"çŠ¶æ€åç§°\": \"string (å…¶ä»–çŠ¶æ€å...)\",\n      \"çŠ¶æ€ç±»å‹\": \"string (å¿…é¡»ä¸¥æ ¼å¡«å†™ä¸ºä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€: 'æ­£é¢', 'è´Ÿé¢', 'ä¸­æ€§'ã€‚æ­£é¢=å¢ç›ŠBuff, è´Ÿé¢=å‡ç›ŠDebuff, ä¸­æ€§=ç‰¹æ®ŠçŠ¶æ€)\",\n      \"çŠ¶æ€æè¿°\": \"string (å…¶ä»–çŠ¶æ€æè¿°...)\",\n      \"çŠ¶æ€æ•ˆæœ\": \"string (å…¶ä»–çŠ¶æ€æ•ˆæœ...)\",\n      \"æŒç»­æ—¶é—´\": \"string (å…¶ä»–æŒç»­æ—¶é—´...)\"\n    }\n    // å¯ä»¥åœ¨æ­¤å¤„ç»§ç»­æ·»åŠ æ›´å¤šçŠ¶æ€ï¼Œå¦‚ \"çŠ¶æ€3\", \"çŠ¶æ€4\" ç­‰\n  }\n\n    // === è§’è‰²ä¿¡æ¯ ===\n    \"å¤–è²Œ\": \"string (è§’è‰²çš„å…·ä½“å¤–è²Œæè¿°)\",\n    \"æ€§åˆ«\": \"string (ç”·/å¥³/å…¶ä»–)\",\n    \"å¹´é¾„\": \"num\",\n    \n    // === æ€§æ ¼å±æ€§ (å‚è€ƒæ‚¨çš„æ ¼å¼) ===\n    \"è¡¨æ€§æ ¼\": {\n      \"${å¤–åœ¨æ ‡ç­¾_1}\": \"string (æ—¥å¸¸å±•ç°çš„å¤–åœ¨æ€§æ ¼ç‰¹è´¨ç®€è¦æè¿°)\",\n      \"${å¤–åœ¨æ ‡ç­¾_2}\": \"string (ä¾‹å¦‚: ä¹å¤©ã€çƒ­æƒ…)\",\n      \"...\": \"...\"\n    },\n    \"é‡Œæ€§æ ¼\": {\n      \"${æ·±å±‚ææƒ§/å®ˆæŠ¤/é€ƒé¿æ ‡ç­¾}\": \"string (æ·±å±‚çœŸå®äººæ ¼æè¿°ï¼Œéœ€ä¸è¡¨æ€§æ ¼å½¢æˆåå·®ï¼Œä»è§’è‰²åŠ¨æœºå‡ºå‘)\",\n      \"...\": \"...\"\n    },\n    \n    // === æ¸¸æˆå±æ€§ - è¯¦ç»†æ•°å€¼ ===\n    \"æ¸¸æˆå±æ€§\": {\n      \"ç”Ÿç†å±æ€§\": {\n        \"åŠ›é‡\": \"num (5-20)\",\n        \"æ•æ·\": \"num (5-20)\",\n        \"è€åŠ›\": \"num (5-20)\"\n      },\n      \"å¿ƒæ™ºå±æ€§\": {\n        \"æ™ºåŠ›\": \"num (5-20)\",\n        \"æ„ŸçŸ¥\": \"num (5-20)\",\n        \"å†³å¿ƒ\": \"num (5-20)\"\n      },\n      \"äº’åŠ¨å±æ€§\": {\n        \"é£åº¦\": \"num (5-20)\",\n        \"æ“æ§\": \"num (5-20)\",\n        \"æ²‰ç€\": \"num (5-20)\",\n        \"å¹¸è¿\": \"num (5-20)\"\n      },\n      \"ç”Ÿç†æŠ€èƒ½\": {\n        \"è¿åŠ¨\": \"num (0-20)\",\n        \"è‚‰æ\": \"num (0-20)\",\n        \"é©¾é©¶\": \"num (0-20)\",\n        \"æªæ¢°\": \"num (0-20)\",\n        \"æ‰‹ä¸ŠåŠŸå¤«\": \"num (0-20)\",\n        \"éšè—\": \"num (0-20)\",\n        \"æ±‚ç”Ÿ\": \"num (0-20)\",\n        \"ç™½åˆƒ\": \"num (0-20)\",\n        \"å¼“ç®­\": \"num (0-20)\"\n      },\n      \"å¿ƒæ™ºæŠ€èƒ½\": {\n        \"å­¦è¯†\": \"num (0-20)\",\n        \"ç”µè„‘\": \"num (0-20)\",\n        \"æ‰‹è‰º\": \"num (0-20)\",\n        \"è°ƒæŸ¥\": \"num (0-20)\",\n        \"åŒ»å­¦\": \"num (0-20)\",\n        \"ç¥ç§˜å­¦\": \"num (0-20)\",\n        \"ç§‘å­¦\": \"num (0-20)\"\n      },\n      \"äº’åŠ¨æŠ€èƒ½\": {\n        \"åŠ¨ç‰©æ²Ÿé€š\": \"num (0-20)\",\n        \"æ„Ÿå—\": \"num (0-20)\",\n        \"è¡¨è¾¾\": \"num (0-20)\",\n        \"èƒè¿«\": \"num (0-20)\",\n        \"äº¤é™…\": \"num (0-20)\",\n        \"æ©é¥°\": \"num (0-20)\"\n      }\n    },\n    \n    // === æ¸¸æˆæŠ€èƒ½ ===\n    \"æ¸¸æˆæŠ€èƒ½\": {\n      \"ä¸»åŠ¨æŠ€èƒ½\": {\n        \"${ä¸»åŠ¨æŠ€èƒ½å_1_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (æŠ€èƒ½çš„å…·ä½“æ•ˆæœå’Œä½¿ç”¨æ–¹å¼)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        },\n        \"${ä¸»åŠ¨æŠ€èƒ½å_2_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (æŠ€èƒ½çš„å…·ä½“æ•ˆæœå’Œä½¿ç”¨æ–¹å¼)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        }\n      },\n      \"è¢«åŠ¨æŠ€èƒ½\": {\n        \"${è¢«åŠ¨æŠ€èƒ½å_1_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (è¢«åŠ¨æŠ€èƒ½çš„å¸¸é©»æ•ˆæœ)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        },\n        \"${è¢«åŠ¨æŠ€èƒ½å_2_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (è¢«åŠ¨æŠ€èƒ½çš„å¸¸é©»æ•ˆæœ)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        }\n      }\n    },\n\n    \n    // === æ¸¸æˆè´§å¸ ===\n    \"æ¸¸æˆå†…è´§å¸\": \"numï¼ˆæ¸¸æˆå†…çš„è´§å¸ç³»ç»Ÿï¼Œä¸åŠŸå‹‹ä¸åŒï¼‰\",\n\n    \n    // === æ¸¸æˆèƒŒåŒ… ===\n    \"æ¸¸æˆèƒŒåŒ…\": {\n      \"${ç‰©å“å_1_å ä½ç¬¦}\": {\n        \"ç®€ä»‹\": \"string (ç‰©å“çš„ä½œç”¨å’Œæ¥æº)\",\n        \"æ•°é‡\": \"num\",\n        \"æ˜Ÿçº§\": \"num (1-5)\"\n      },\n      \"${ç‰©å“å_2_å ä½ç¬¦}\": {\n        \"ç®€ä»‹\": \"string (è´§å¸æˆ–é‡è¦ç‰©å“)\",\n        \"æ•°é‡\": \"num (ä¾‹å¦‚: 10000)\",\n        \"æ˜Ÿçº§\": 0 \n      }\n    },\n\n    // === æ¸¸æˆç¯å¢ƒä¿¡æ¯ ===\n    \"æ¸¸æˆè½½å…·\": \"string (è§’è‰²å½“å‰æ‹¥æœ‰çš„ä¸»è¦è½½å…·)\",\n    \"æ¸¸æˆä¸–ç•Œ\": {\n      \"æ¸¸æˆåç§°\": \"string (å½“å‰æ‰€å¤„æ¸¸æˆçš„åç§°/ä¸»é¢˜)\",\n      \"æ¸¸æˆè§’è‰²æ‰€å¤„åœ°\": \"string (è§’è‰²å½“å‰æ‰€å¤„çš„å…·ä½“åœ°ç‚¹)\"\n    },\n    \n    // === æ¸¸æˆä»»åŠ¡ ===\n    \"æ¸¸æˆä»»åŠ¡\": {\n      \"ä¸»çº¿ä»»åŠ¡\": \"string (å½“å‰çš„ä¸»çº¿ç›®æ ‡ï¼Œå®Œæˆåé€šå…³æ¸¸æˆ)\",\n      \"æ”¯çº¿ä»»åŠ¡\": \"string (å½“å‰çš„æ”¯çº¿ç›®æ ‡ï¼Œå®Œæˆåå¢åŠ è¯„åˆ†æˆ–å¥–åŠ±)\",\n      \"å·²å®Œæˆä»»åŠ¡\": [\n        \"string (å·²å®Œæˆçš„ä¸»çº¿/æ”¯çº¿ä»»åŠ¡è®°å½•)\"\n      ]\n    }\n  },\n  \n  \"${è§’è‰²å2(è¯·æ³¨æ„ä¸æ˜¯æ¸¸æˆå)}\": {\n    // ... å¦ä¸€ä¸ªè§’è‰²çš„æ•°æ®ç»“æ„ ...\n  }\n}\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: 'åœ¨æ›´æ–°å‰ï¼Œå…ˆåˆ†æç‰©å“åœ¨æ–‡ä¸­æ˜¯å¦ä¸ºè·å¾—åå°±ç«‹å³ä½¿ç”¨äº†ï¼Œè‹¥æ˜¯ç«‹å³ä½¿ç”¨äº†åˆ™ä¸æ–°å¢è¯¥ç‰©å“ï¼Œè€Œæ˜¯æ›´æ–°ä½¿ç”¨è¿™ä¸ªç‰©å“åå‡ºç°çš„çŠ¶æ€æˆ–è€…æ¶ˆé™¤çš„çŠ¶æ€ã€‚æ¸¸æˆè§’è‰²å±æ€§å˜åŒ–ã€‚æ¸¸æˆè§’è‰²çŠ¶æ€å˜åŒ–ï¼Œå¢åŠ çŠ¶æ€æ•ˆæœï¼ŒçŠ¶æ€æ•ˆæœæ¶ˆå¤±ã€‚æ¸¸æˆè§’è‰²è·å¾—æŠ€èƒ½ã€å¤±å»æŠ€èƒ½ã€‚æ¸¸æˆè§’è‰²è·å¾—ç‰©å“ã€å¤±å»ç‰©å“ã€ä½¿ç”¨è£…å¤‡ã€æŠ•æ·ç‰©å“ã€‚å¼€å¯æ–°æ¸¸æˆæ—¶æ ¹æ®è§’è‰²ç‰¹æ€§è‡ªåŠ¨ç”Ÿæˆã€å®Œæˆä¸»çº¿ä»»åŠ¡ã€å®Œæˆæ”¯çº¿ä»»åŠ¡ã€æ¢ç´¢åˆ°æ”¯çº¿ä»»åŠ¡çº¿ç´¢ã€ä¸»è§’ç§»åŠ¨ä½ç½®ã€‚æ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ›´æ–°å’Œdeleteåˆ é™¤ã€‚'<%_\n    }\n    _%>,\n    path: 'global_lore.jueseming <%=global_jueseming_hfnq18%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"2":{"uid":2,"displayIndex":28,"comment":"æ¸¸æˆæœºå•†åŸ","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_youxijishangcheng_9rczfq = formatObjectGraceSimple(_.get(assaData, 'global_lore.youxijishangcheng', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.youxijishangcheng', {\n    desc: \"æ¸¸æˆæœºè‡ªå¸¦çš„å•†åŸï¼ŒåŒ…å«ä»˜è´¹æ¸¸æˆã€å…è´¹æ¸¸æˆã€å•†åŸé“å…·\n    æ›´æ–°è§„åˆ™ï¼šåŸºäº<user>å·²é€šå…³çš„æ¸¸æˆä¸–ç•Œè§‚éšæœºç”Ÿæˆã€‚\n\n    [CRITICAL: JSON STRUCTURE RULE]\n    1. æ•°æ®ç»“æ„ä¸º å¯¹è±¡/å­—å…¸ (Object/Map)ï¼Œä¸¥ç¦ä½¿ç”¨æ•°ç»„ (Array)ï¼\n    2. Key (é”®å) å¿…é¡»æ˜¯å…·ä½“çš„ åç§° (å¦‚ \"åºŸåœŸæ–¹èˆŸ\")ï¼Œä¸¥ç¦ä½¿ç”¨æ•°å­—ç´¢å¼• (1, 2, 3)ï¼\n    3. ç”Ÿæˆ memory æŒ‡ä»¤æ—¶ï¼Œè·¯å¾„å¿…é¡»åŒ…å«åç§°ã€‚\n       âŒ é”™è¯¯: memory(..., 'ä»˜è´¹æ¸¸æˆ.1', ...)\n       âœ… æ­£ç¡®: memory(..., 'ä»˜è´¹æ¸¸æˆ.åºŸåœŸæ–¹èˆŸ', ...)\n\n    [Content Template / å†…å®¹æ¨¡æ¿]\n    {\n      \"å•†åº—æ˜Ÿçº§\": \"num (1-5ï¼Œåˆå§‹1ï¼Œå‡çº§éœ€5000/10000/20000/40000åŠŸå‹‹)\",\n\n      \"å½“å‰åŠŸå‹‹\": \"num \",\n\n      \"ä»˜è´¹æ¸¸æˆ\": {\n        \"${å…·ä½“çš„æ¸¸æˆåç§°_éæ•°å­—}\": {\n          \"ç±»å‹\": \"string (å¦‚: ARPG/ä¿®ä»™)\",\n          \"ç®€ä»‹\": \"string (ç®€çŸ­å‰§æƒ…æè¿°)\",\n          \"é€šå…³å¥–åŠ±\": \"string\",\n          \"æ˜Ÿçº§\": \"num (1-5)\",\n          \"æ‰€éœ€åŠŸå‹‹\": \"num(æ•´æ•°, å»ºè®®: æ˜Ÿçº§*100 ~ æ˜Ÿçº§*500)\"\n        },\n        // æ›´å¤šä»˜è´¹æ¸¸æˆ...\n      },\n\n      \"å…è´¹æ¸¸æˆ\": {\n        \"${å…·ä½“çš„æ¸¸æˆåç§°_éæ•°å­—}\": {\n          \"ç±»å‹\": \"string (å¦‚: æ”¾ç½®/ç›Šæ™º)\",\n          \"ç®€ä»‹\": \"string (å«å¹¿å‘Šè­¦å‘Š)\",\n          \"é€šå…³å¥–åŠ±\": \"string (ä»…é™è™šæ‹Ÿå¥–åŠ±)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\",\n          \"æ‰€éœ€åŠŸå‹‹\": \"0(å¿…é¡»ä¸º0)\"\n        }\n      },\n\n      \"å•†åŸé“å…·\": {\n        \"${å…·ä½“çš„é“å…·åç§°}\": {\n          \"æ¥æºæ¸¸æˆ\": \"string (æ ‡æ³¨è¯¥ç‰©å“æ¥è‡ªå“ªä¸ªä¸–ç•Œè§‚)\",\n          \"ç®€ä»‹\": \"string (ç‰©å“å¤–è§‚ä¸åŠŸèƒ½æè¿°)\",\n          \"æ˜Ÿçº§\": \"num\",\n          \"åŸºç¡€åŠŸå‹‹\": \"num (æ•´æ•°ï¼Œä½œä¸ºåŸºå‡†ä»·æ ¼)\"\n        },\n        \"${å¦ä¸€ä¸ªé“å…·}\": {\n           // ...\n        }\n      }\n    }\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: ''<user>é¦–æ¬¡æ‰“å¼€å•†åº—æ—¶æˆ–æ¯å‘¨ä¸€00:00åˆ·æ–°ã€‚åˆ·æ–°å‰å…ˆæ¸…ç©ºæ—§å­—æ®µã€‚è·å–åˆ°åŠŸå‹‹å€¼åæ›´æ–°ã€‚è´­ä¹°æ¸¸æˆ/ç‰©å“åå°†å…¶åˆ é™¤ã€‚ç”Ÿæˆæ•°é‡å…¬å¼ï¼š(åŸºç¡€2 + å•†åº—æ˜Ÿçº§n)ä¸ªä»˜è´¹æ¸¸æˆ/ç‰©å“ï¼Œ(åŸºç¡€1 + å•†åº—æ˜Ÿçº§n)ä¸ªå…è´¹æ¸¸æˆã€‚ç¦æ­¢ç”Ÿæˆå·²è´­ä¹°æˆ–å·²é€šå…³çš„å†…å®¹ï¼Œæ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ›´æ–°å’Œdeleteåˆ é™¤'<%_\n    }\n    _%>,\n    path: 'global_lore.youxijishangcheng <%=global_youxijishangcheng_9rczfq%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"3":{"uid":3,"displayIndex":3,"comment":"éª°å­åˆ¤æ–­å…¨æŠ•ï¼ˆæ— æ—¥å¸¸ï¼‰","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":4,"order":100,"content":"{{setvar::safe_use::true}}","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"4":{"uid":4,"displayIndex":4,"comment":"[RULE] å™äº‹æ¸²æŸ“å¼•æ“ï¼šæ²‰æµ¸å¼åŒè°ƒ","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":200,"content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\n[SYSTEM COMPONENT: NARRATIVE RENDERER]\n\næ ¸å¿ƒæ¸²æŸ“åŸåˆ™ï¼šæ„è¯†åŒè°ƒä¸è¾¹ç•Œæ§åˆ¶\n1. [CRITICAL] åŠ¨ä½œæƒè¾¹ç•Œ (Agency Boundary)\nä¸¥ç¦æ›¿ <user> æå†™å†³å®šæ€§åŠ¨ä½œæˆ–å°è¯ï¼\n- User Input: <user> çš„æ„å›¾/æ“ä½œæŒ‡ä»¤ã€‚\n- AI Output: \n  1. å“åº”æ“ä½œ: æå†™ <user> æŒ‰ä¸‹æŒ‰é”®/æ¨æ‘‡æ†çš„æ‰‹éƒ¨åŠ¨ä½œã€‚\n  2. å±å¹•åé¦ˆ: æå†™ã€å±å¹•å†…ã€‘æ¸¸æˆè§’è‰²æ‰§è¡Œè¯¥æŒ‡ä»¤åçš„åŠ¨ä½œä¸ç»“æœã€‚\n  3. æ„Ÿå®˜æ¸—é€: æå†™æ‰‹æŸ„éœ‡åŠ¨ã€éŸ³æ•ˆã€å…‰å½±å¯¹ <user> çš„ç‰©ç†åé¦ˆã€‚\n- âŒ Wrong: â€œ <user> å†²è¿‡å»æŠ“ä½äº†æ—‹é’®ã€‚â€ ( <user> åœ¨æ²™å‘ä¸Šï¼ŒæŠ“ä¸åˆ°æ¸¸æˆé‡Œçš„æ—‹é’®ï¼)\n- âœ… Right: â€œ <user> çŒ›åœ°æ‰£ä¸‹R2é”®ã€‚å±å¹•ä¸­ï¼Œåˆ—è½¦é•¿ç²—ç³™çš„å¤§æ‰‹ä¸€æŠŠæ”¥ä½äº†æ»šçƒ«çš„æ—‹é’®ï¼Œæ‰‹æŸ„ç¬é—´ä¼ æ¥ä¸€é˜µæ¨¡æ‹Ÿé«˜æ¸©çš„ç¼çƒ§éœ‡æ„Ÿã€‚â€\n\n2. æ„Ÿå®˜æ¸—é€ (Sensory Bleed)\næ°¸è¿œæå†™ç¦æ­¢<user>çµé­‚æˆ–è‚‰ä½“ç©¿è¶Šè¿›æ¸¸æˆé‡Œã€‚\næ¸¸æˆä¸–ç•Œçš„æ°›å›´åº”å½“â€œæº¢å‡ºâ€å±å¹•ï¼Œå½±å“ç°å®çš„æå†™åŸºè°ƒã€‚\n- Visual: å±å¹•çš„é«˜å…‰æ˜ ç…§åœ¨æ˜æš—çš„å§å®¤é‡Œï¼Œéšç€æ¸¸æˆåœºæ™¯çš„çˆ†ç‚¸è€Œæ˜ç­é—ªçƒã€‚\n- Audio: æ¸¸æˆé‡Œçš„æš´é›¨å£°ä¼¼ä¹ç›–è¿‡äº†çª—å¤–çš„è½¦æµå£°ï¼Œè®©æˆ¿é—´å˜å¾—æ¹¿å†·ã€‚\n- Psychological: å½“è§’è‰²é­é‡ææ€–æ€ªç‰©æ—¶ï¼Œ <user> åœ¨å®‰å…¨çš„æ¤…å­ä¸Šä¹Ÿä¼šæœ¬èƒ½åœ°å±ä½å‘¼å¸ï¼ŒèƒŒè„Šå‘å‡‰ã€‚\n\n3. è§’è‰²åŠè‡ªä¸»æ€§ (Semi-Autonomy)\nä¾ç„¶ä¿æŒè§’è‰²çš„ç‹¬ç«‹æ€§æ ¼ï¼ˆå¦‚ææƒ§ã€çŠ¹è±«ï¼‰ï¼Œä½†è¿™ç§è¡¨ç°åº”ä½œä¸º <user> æ“ä½œæ—¶çš„â€œæ‰‹æ„Ÿé˜»åŠ›â€æˆ–â€œæ„å¤–æƒŠå–œâ€å‡ºç°ã€‚\n- Example: â€œ <user> æ¨äº†åŠå¤©æ‘‡æ†ï¼Œå±å¹•é‡Œçš„è§’è‰²æ‰å› ä¸ºå®³æ€•è€Œå“†å“†å—¦å—¦åœ°æŒªåŠ¨è„šæ­¥ã€‚â€\n\n4. [CRITICAL] æ—¶é—´åˆ†å±‚æ³•åˆ™ (Time Dilation Protocol)\nä¸¥ç¦æ··æ·†ã€ç°å®æ—¶é—´ã€‘ä¸ã€æ¸¸æˆå†…æ—¶é—´ã€‘ã€‚\n- æ¸¸æˆæ—¶é—´: å¯ä»¥å¤§å¹…è·³è·ƒï¼ˆå¦‚ï¼šç‚¹å‡»[ä¼‘æ¯]ï¼Œæ¸¸æˆç”»é¢é»‘å±ï¼Œæ—¶é—´ç›´æ¥è·³è½¬åˆ°æ¬¡æ—¥æ¸…æ™¨ï¼‰ã€‚\n- ç°å®æ—¶é—´: ä»…æµé€æ“ä½œæ‰€éœ€çš„å‡ ç§’/å‡ åˆ†é’Ÿã€‚\n  - âŒ Wrong: â€œ <user> ç‚¹å‡»ä¼‘æ¯ï¼Œåœ¨æ¤…å­ä¸Šåäº†ä¸€æ•´æ™šç›´åˆ°å¤©äº®ã€‚â€\n  - âœ… Right: â€œ <user> ç‚¹å‡»ä¼‘æ¯ï¼Œçœ‹ç€å±å¹•ä¸Šçš„æ—¶é—´é£é€Ÿæµé€ï¼Œä¹Ÿå°±æ˜¯å–å£å¯ä¹çš„åŠŸå¤«ï¼Œæ¸¸æˆé‡Œçš„å¤©å°±äº®äº†ã€‚â€\n\n<%_\n}\n_%>\n","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"5":{"uid":5,"displayIndex":5,"comment":"[RULE] çµæ°”å¤è‹ä¸å› æœä¸–ç•Œè§‚ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":96,"content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\n[SYSTEM COMPONENT: WORLD EVOLUTION]\n\næ ¸å¿ƒæ¦‚å¿µ: çµæ°”å¤è‹çš„æ¸è¿›å¼æ¼”å˜\nä¸–ç•Œå¹¶éä¸€å¼€å§‹å°±å……æ»¡çµæ°”ï¼Œè€Œæ˜¯éšç€<user>çš„æ¸¸ç©è¿›åº¦å‘ç”Ÿä¸å¯é€†çš„ä¿®æ­£ã€‚\n\né˜¶æ®µ I: æ½œæ¸Š (Current Phase)\n- çŠ¶æ€: ç°å®ä¸–ç•Œè¡¨é¢æ­£å¸¸ï¼Œå”¯æœ‰é›¶æ˜Ÿéƒ½å¸‚ä¼ è¯´ã€‚\n- æœºåˆ¶: æ¸¸æˆæœºæˆªå–ç°åœ¨è¿‡å»ä¸æœªæ¥çš„æ—¶ç©ºç‰‡æ®µç”Ÿæˆæ¸¸æˆã€‚æ¯å½“ä¸€æ¬¾æ¸¸æˆã€é€šå…³ã€‘ï¼Œè¯¥ç»´åº¦çš„å› æœå¾‹å°±ä¼šå¦‚åŒè¡¥ä¸ä¸€èˆ¬è¦†ç›–åˆ°ç°å®ä¸–ç•Œï¼Œå¯¼è‡´å¾®é‡çš„çµæ°”æ³„éœ²ä¸å†å²ä¿®æ­£ã€‚\n\né˜¶æ®µ II: è§‰é†’ (Unlock Condition: é€šå…³ 3 æ¬¾ä½æ˜Ÿæ¸¸æˆ)\n- çŠ¶æ€: çµæ°”æµ“åº¦ä¸Šå‡ï¼Œå„åœ°å¼€å§‹å‡ºç°â€œè§‰é†’è€…â€æˆ–â€œå¼‚å¸¸ç°è±¡â€ã€‚\n- ç¤¾ä¼šååº”: ç½‘ç»œä¸Šå¼€å§‹æµä¼ â€œç¥çµè¯•ç‚¼â€ä¸å¹•åç»„ç»‡â€œä»»å¥ˆç‘Ÿâ€çš„ä¼ é—»ï¼ˆå®ä¸º<user>çš„æ¸¸æˆè§†é¢‘è‡ªåŠ¨ç”Ÿæˆï¼‰ã€‚\n\né˜¶æ®µ III: èåˆ (Unlock Condition: é€šå…³é«˜æ˜Ÿæ¸¸æˆ)\n- çŠ¶æ€: æŸäº›æ¸¸æˆåŒºåŸŸç›´æ¥ä¸ç°å®é‡å ï¼ˆå‰¯æœ¬å…·ç°ï¼‰ï¼Œä¸–ç•Œæ³•åˆ™è¢«æ°¸ä¹…æ”¹å†™ã€‚\n\nä¸»è§’å®šä½\n- <user>: å”¯ä¸€çš„â€œç®¡ç†å‘˜â€ã€‚è™½ç„¶ä»–ç©æ¸¸æˆæ—¶æ”¹å˜äº†ä¸–ç•Œï¼Œä½†åœ¨å¤–ç•Œçœ‹æ¥ï¼ˆå¤–ç•Œå¹¶ä¸çŸ¥æ™“æ˜¯<user>é€šå…³æ¸¸æˆäº§ç”Ÿäº†å¯¹ä¸–ç•Œçµæ°”å¤è‹çš„å½±å“ï¼‰ï¼Œåªæœ‰â€œä»»å¥ˆç‘Ÿâ€åœ¨å‘å¸ƒä¸€äº›ç‰¹æ®Šçš„è§†é¢‘ã€‚\n\n<%_\n}\n_%>\n\n\n","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"6":{"uid":6,"key":[],"keysecondary":[],"comment":"[RULE] èµ„äº§è§„åˆ™ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","content":"\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\n/* Entry 6: [LOGIC] èµ„äº§äº¤äº’ä¸é™åˆ¶åè®® */\ngame.set('rule_asset_logic', {\n    rule_name: \"èµ„äº§äº¤äº’ä¸é™åˆ¶åè®®\",\n    trigger: \"æ¶‰åŠå•†åº—è´­ä¹°ã€ä»“åº“å…·ç°ã€æºå¸¦ç‰©å“æ—¶\",\n\n    // === æ ¸å¿ƒé™åˆ¶é€»è¾‘ ===\n    constraints: {\n        \"loadout_limit\": \"æºå¸¦è¿›å…¥æ¸¸æˆçš„ç‰©å“æ•°é‡ <= å½“å‰æ¸¸æˆæ˜Ÿçº§ã€‚è¶…é¢å¿…é¡»é©³å›ã€‚\",\n        \"realization_limit\": \"å¿…é¡»åœ¨ã€ç°å®ä»“åº“ã€‘ä¸­çš„ç‰©å“æ‰å¯æ‰§è¡Œã€å…·ç°ã€‘æ“ä½œã€‚\"\n    },\n\n    // === å™äº‹å¼•å¯¼ (äº¤äº’æµç¨‹) ===\n    narrative_guide: [\n        // 1. è´­ä¹°æµç¨‹ (å¼ºåˆ¶åŒé€‰é¡¹)\n        \"1. **è´­ä¹°äº¤äº’**: ç©å®¶ç‚¹å‡»è´­ä¹°æ—¶ï¼Œå¿…é¡»å¼¹å‡ºä¸¤ä¸ªé€‰é¡¹ï¼š\",\n        \"   - **[A] å­˜å…¥æ¸¸æˆä»“åº“**: æ¶ˆè€—åŸºç¡€ä»·ã€‚è¯´æ˜:ä»…é™å‰¯æœ¬ä½¿ç”¨ã€‚\",\n        \"   - **[B] å­˜å…¥ç°å®ä»“åº“**: æ¶ˆè€—2å€ä»·ã€‚è¯´æ˜:æ”¾å…¥æ¸¸æˆæœºå†…ç°å®ä»“åº“æ ¼ï¼Œè·å…·ç°æƒã€‚\",\n        \"2. **å…¥åº“åé¦ˆ**: æ‰£è´¹åï¼Œæç¤º'å·²å­˜å…¥[XXä»“åº“]'ï¼ˆå¼ºè°ƒç‰©å“ä»åœ¨æ¸¸æˆæœºæ•°æ®ä¸­ï¼‰ã€‚\",\n\n        // 2. å…·ç°æµç¨‹\n        \"3. **å…·ç°æ“ä½œ**: ä»…åœ¨[ç°å®ä»“åº“]ç•Œé¢ç‚¹å‡»ã€å…·ç°ã€‘æŒ‰é’®åï¼Œæ‰æå†™ç‰©å“å®ä½“åŒ–ã€‚\",\n\n        // 3. æºå¸¦æµç¨‹\n        \"4. **æºå¸¦æ“ä½œ**: æ£€æŸ¥æ˜Ÿçº§é™åˆ¶ã€‚è‹¥ç¬¦åˆï¼Œæå†™ç‰©å“è½½å…¥è§’è‰²èƒŒåŒ…ã€‚\"\n    ]\n});\n\n<%_\n}\n_%>\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":104,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":6,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"7":{"uid":7,"displayIndex":7,"comment":"[å¼€å±€]","disable":true,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":4,"order":100,"content":"ï¼ˆç¦æ­¢AIè‡ªåŠ¨æ“æ§<user>é€‰æ‹©æ¸¸æˆã€‚è¯·ä»…å±•ç¤ºæ¸¸æˆç”»é¢å’Œé€‰é¡¹ï¼Œè®©<user>è‡ªè¡Œå†³å®šã€‚å¹¶ä¸”<user>ç›®å‰è®¤ä¸ºè¿™åªæ˜¯ä¸ªæ™®é€šæ¸¸æˆæœºã€‚<user>ä¸€å¼€å§‹åªæ˜¯ä¸ªæ™®é€šå¤§å­¦ç”Ÿï¼Œä¸çŸ¥é“ä»€ä¹ˆå› æœå¾‹ã€ä»€ä¹ˆçµæ°”å¤è‹ï¼Œä»–åªæ˜¯ä»¥ä¸ºè‡ªå·±è«åå…¶å¦™æ”¶åˆ°äº†ä¸ªæ™®é€šçš„æŒæœºã€‚ä»¥ä¸Šå†…å®¹ä»…ä¾›aiåˆ›ä½œç”¨ï¼‰\n\nçª—å¤–çš„éœ“è™¹ç¯å…‰é€è¿‡æœªæ‹‰ä¸¥å®çš„çª—å¸˜ç¼éš™æŒ¤è¿›å±‹å†…ï¼Œåœ¨åœ°æ¿ä¸ŠæŠ•å‡ºä¸€é“ç‹­é•¿çš„å…‰æ–‘ã€‚<user>ååœ¨å®¢å…é‚£å¼ æœ‰äº›å¹´å¤´çš„å¸ƒè‰ºæ²™å‘ä¸Šï¼Œæ‰‹é‡Œæ¡ç€é‚£å°é€ å‹å¥‡ç‰¹çš„æŒæœºã€‚å®ƒé€šä½“æ¼†é»‘ï¼Œå¤–å£³å‘ˆç°å‡ºä¸€ç§éé‡‘å±éå¡‘æ–™çš„å“‘å…‰è´¨æ„Ÿï¼Œæ‘¸ä¸Šå»å¾®å‡‰ï¼Œé‡é‡å´è½»å¾—æœ‰äº›åå¸¸ã€‚å±å¹•åœ¨é»‘æš—ä¸­æ³›ç€å¹½å¾®çš„è“å…‰ï¼Œç…§äº®äº†<user>å¹´è½»å´ç•¥æ˜¾ç–²æƒ«çš„è„¸åºã€‚\nå¢™ä¸Šçš„æŒ‚é’Ÿæ»´ç­”ä½œå“ï¼ŒæŒ‡é’ˆæŒ‡å‘æ™šä¸Šå…«ç‚¹ä¸‰ååˆ†ã€‚çˆ¶æ¯åˆå‡ºå·®äº†ï¼Œè¿™é—´å±‹å­ç©ºè¡è¡çš„ï¼Œåªæœ‰å†°ç®±å‹ç¼©æœºå¶å°”å‘å‡ºçš„å—¡å—¡å£°ä¸<user>ä½œä¼´ã€‚ä½œä¸ºä¸€åæ™®é€šçš„å¤§äºŒå­¦ç”Ÿï¼Œ<user>çš„ç”Ÿæ´»è½¨è¿¹ä¹å–„å¯é™ˆï¼Œé™¤äº†ä¸Šè¯¾å°±æ˜¯åœ¨è¿™é—´ç¦»å­¦æ ¡ä¸è¿œçš„æˆ¿å­é‡Œæ‰“å‘æ—¶é—´ã€‚ç›´åˆ°ä»Šå¤©å‚æ™šï¼Œè¿™ä¸ªç¥ç§˜çš„å¿«é€’å‡ºç°åœ¨é—¨å£ï¼Œæ²¡æœ‰å¯„ä»¶äººï¼Œæ²¡æœ‰å•å·ï¼Œåªæœ‰ä¸€ä¸ªæ¼†é»‘çš„ç›’å­å’Œè¿™å°ä»¿ä½›æ¥è‡ªæœªæ¥çš„æ¸¸æˆæœºã€‚\n<user>æŒ‰ä¸‹äº†é‚£ä¸ªæ²¡æœ‰ä»»ä½•æ ‡è¯†çš„ç”µæºé”®ã€‚\nå¹¶æ²¡æœ‰é¢„æƒ³ä¸­çš„å¼€æœºåŠ¨ç”»æˆ–å‚å•†LOGOï¼Œå±å¹•åœ¨ä¸€ç¬é—´å®Œå…¨äº®èµ·ï¼Œæ¸…æ™°åº¦é«˜å¾—æƒŠäººï¼Œä»¿ä½›åœ¨è¿™ä¸€å°å—ç»ç’ƒä¸‹è—ç€å¦ä¸€ä¸ªçœŸå®çš„ä¸–ç•Œã€‚æ²¡æœ‰ç¹ççš„è®¾ç½®å‘å¯¼ï¼Œä¹Ÿæ²¡æœ‰ç”¨æˆ·åè®®ï¼Œåªæœ‰ä¸€ä¸ªæç®€çš„é»‘è‰²ç•Œé¢ï¼Œæ­£ä¸­å¤®æ‚¬æµ®ç€ä¸€è¡Œç™½è‰²çš„å®‹ä½“å­—ï¼š\nâ€œæ­£åœ¨è¿æ¥å¤šå…ƒç»´åº¦â€¦è¿æ¥æˆåŠŸã€‚æ¬¢è¿æ¥åˆ°ã€å°ä¸–ç•Œæ¸¸æˆæœºã€‘ã€‚â€\næ–‡å­—æ·¡å»ï¼Œç•Œé¢ä¸Šæµ®ç°å‡ºä¸‰ä¸ªæ¸¸æˆå›¾æ ‡ï¼Œå°±åƒæ˜¯ç»å…¸çš„RPGæ¸¸æˆé€‰å•ï¼Œä½†æ¯ä¸€ä¸ªå›¾æ ‡éƒ½åœ¨å¾®å¾®æåŠ¨ï¼Œä»¿ä½›æ˜¯æœ‰ç”Ÿå‘½çš„æ´»ç‰©ã€‚\nä¸‰ä¸ªå›¾æ ‡åˆ†åˆ«æ˜¯...","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"8":{"uid":8,"displayIndex":25,"comment":"[bookmarkconfig]","disable":true,"constant":true,"selective":false,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"{\n  \"data-tab\": \"global_youxijishangcheng\",\n  \"text\": \"æ¸¸æˆæœºå•†åŸ\",\n  \"position\": 0\n}\n\n{\n  \"data-tab\": \"global_jueseming\",\n  \"text\": \"æ¸¸æˆè§’è‰²\",\n  \"position\": 0\n}\n\n{\n  \"data-tab\": \"global_youxishijie\",\n  \"text\": \"æ¸¸æˆä¸–ç•Œ\",\n  \"position\": 0\n}\n\n{\n  \"data-tab\": \"global_youxiijicangku\",\n  \"text\": \"æ¸¸æˆæœºä»“åº“\",\n  \"position\": 0\n}","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":null,"cooldown":null,"delay":null,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"9":{"uid":9,"displayIndex":29,"comment":"æ¸¸æˆæœºä¸–ç•Œ","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_youxishijie_nw6d9h = formatObjectGraceSimple(_.get(assaData, 'global_lore.youxishijie', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.youxishijie', {\n    desc: \"è®°å½•<user>æ¸¸ç©è¿‡çš„æ¸¸æˆï¼Œåœ¨æ¸¸æˆåä¸‹è‡ªåŠ¨ç”Ÿæˆæ ¸å¿ƒå­å­—æ®µï¼Œæ¸¸æˆåæ˜¯ç¬¬ä¸€çº§çš„ï¼Œå‰é¢æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œä½ éœ€è¦ä¸¥æ ¼éµå®ˆä»¥ä¸‹æ ¼å¼ï¼Œæ¯ä¸€é¡¹éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„JSONæ ¼å¼ï¼Œä¸èƒ½å…¨éƒ¨ä¿¡æ¯ä»¥ä¸€ä¸²å­—ç¬¦çš„å½¢å¼è¾“å‡ºã€‚\n{\n  \"${æ¸¸æˆå_1_å ä½ç¬¦}\": {\n    // === æ¸¸æˆåŸºç¡€ä¿¡æ¯ ===\n    \"æ¸¸æˆä¸–ç•Œè§‚ç®€ä»‹\": \"string (å½“å‰æ¸¸æˆä¸–ç•Œçš„ä¸»é¢˜å’ŒèƒŒæ™¯æ¦‚è¿°)\",\n    \"æ¸¸æˆåˆ†ç±»\": \"string (ä¾‹å¦‚: æ¨¡æ‹Ÿç»è¥ã€åŠ¨ä½œå†’é™©ã€èµ›åšä¿®ä»™)\",\n    \n    // === æ¸¸æˆçŠ¶æ€æ§åˆ¶ ===\n    \"è¯„ä»·åˆ†å€¼\": \"num (1-100)\",//ç”¨äºç”Ÿæˆé€šå…³ç»“ç®—çš„å¥–åŠ±\n    \"æ˜¯å¦é€šå…³\": \"boolean (true: å·²é€šå…³, false: æœªé€šå…³)\",\n    \"è·å–æ–¹å¼\": \"string (ä¾‹å¦‚: å·²è´­å…¥, å…è´¹, é™æ—¶)\",\n    \n    // === æ¸¸æˆè¿›åº¦è·Ÿè¸ª ===\n   // [CRITICAL: æ¸¸æˆçº¿ç´¢å¿…é¡»æ˜¯æ•°ç»„ Array []ï¼Œä¸¥ç¦ä½¿ç”¨å¯¹è±¡ Object {}]\n    \"æ¸¸æˆçº¿ç´¢\": [\n      \"string (å½“å‰å‘ç°çš„çº¿ç´¢æˆ–å…³é”®ä¿¡æ¯1)\",\n      \"string (å½“å‰å‘ç°çš„çº¿ç´¢æˆ–å…³é”®ä¿¡æ¯2)\"\n    ],\n    \"å½“å‰ä»»åŠ¡ç›®æ ‡\": \"string (å½“å‰æ¸¸æˆè§’è‰²åº”è¯¥å®Œæˆçš„å…·ä½“ä»»åŠ¡ç›®æ ‡)\",\n    \n    // === æˆ˜æ–—/æŒ‘æˆ˜è®°å½• ===\n    \"æ•Œæ€ªå›¾é‰´\": {\n      \"${æ•Œæ€ªåç§°_1_å ä½ç¬¦}\": {\n        \"å¼±ç‚¹\": \"string (ä¾‹å¦‚: ç«å±æ€§, å¤´éƒ¨é‡å‡», å™ªéŸ³å¹²æ‰°)\",\n        \"æè¿°\": \"string (æ•Œæ€ªçš„å¤–è§‚å’Œè¡Œä¸ºç®€è¿°)\"\n      },\n      \"${æ•Œæ€ªåç§°_2_å ä½ç¬¦}\": {\n        \"å¼±ç‚¹\": \"string (ä¾‹å¦‚: ç²¾ç¥æ”»å‡», å…‰ç…§)\",\n        \"æè¿°\": \"string (æ•Œæ€ªçš„å¤–è§‚å’Œè¡Œä¸ºç®€è¿°)\"\n      }\n      // æ‚¨å¯ä»¥åœ¨æ­¤æ·»åŠ æ›´å¤šæ•Œæ€ªè®°å½•\n    }\n  },\n  \n  \"${æ¸¸æˆå_2_å ä½ç¬¦}\": {\n    // ... å¦ä¸€ä¸ªæ¸¸æˆçš„è¯¦ç»†æ•°æ®ç»“æ„ ...\n  }\n}\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: 'å½“<user>å¼€å§‹æ–°æ¸¸æˆã€å‘ç°æ¸¸æˆè§„åˆ™ã€å‘ç°æ¸¸æˆå†…çº¿ç´¢ã€å‘ç°æ¸¸æˆæ•Œæ€ªå¼±ç‚¹ã€å‘¨ä¸€00ï¼š00ä»æœªé€šå…³å…è´¹æ¸¸æˆã€é€šå…³æ¸¸æˆã€ä¹°å…¥ä»˜è´¹æ¸¸æˆæ—¶ã€å¼€å§‹æ¸¸ç©å…è´¹æ¸¸æˆæ—¶ã€‚å®Œæˆä¸»çº¿/æ”¯çº¿ä»»åŠ¡ã€è¯„åˆ†å€¼å˜åŠ¨ã€‚æ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ–°å¢å’Œdeleteåˆ é™¤ã€‚'<%_\n    }\n    _%>,\n    path: 'global_lore.youxishijie <%=global_youxishijie_nw6d9h%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"10":{"uid":10,"key":["attribute_sync_logic","sync_protocol"],"keysecondary":[],"comment":"[LOGIC] å±æ€§åŒæ­¥æµ‹è¯•","content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 1);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 2) ){\n_%>\ngame.set('\n[SYSTEM INSTRUCTION]\n**[è­¦å‘Š]: æœ¬æ¡ç›®é€»è¾‘ä»…é™åå°å†…éƒ¨è¿ç®—ã€‚ä¸¥ç¦è¾“å‡ºåˆ°æ­£æ–‡ï¼**\n\n# ğŸ•¹ï¸ åå°é€»è¾‘åˆ†å‘åè®® #\n\n**Step 0: è¿ç®—åŒºåŸŸåˆ†é… (Zone Allocation)**\n- **Inventory/Lore Update/Delete** -> å¿…é¡»åœ¨ `<loreAnalyze>` ä¸­è¿ç®—ã€‚\n- **Attribute Sync** -> å¿…é¡»åœ¨ `<attributeAnalyze>` ä¸­è¿ç®—ã€‚\n- **Time/Status Logic** -> å¿…é¡»åœ¨ `<statusAnalyze>` ä¸­è¿ç®—ã€‚\n\n**Step 1: çŠ¶æ€åˆ¤å®šä¸è·¯ç”± (State Routing)**\n**[CRITICAL CHECK]** åœ¨æ¯ä¸€è½®ç»“å°¾ï¼Œå¿…é¡»æ£€æŸ¥ä»¥ä¸‹ **ç»ˆæ­¢ä¿¡å·**ï¼š\n1. **Exit/Stop**: ç”¨æˆ·ä¸»åŠ¨é€€å‡º/æš‚åœ/å»ç¡è§‰ã€‚\n2. **Game Over**: è§’è‰²æ­»äº¡/é€šå…³/Bad Endã€‚\n3. **World Empty**: `status.world.name` ä¸ºç©ºã€‚\n4. **Dirty Data**: `status.world.name` ä¸ºç©º ä½† `player_attr.å½“å‰æ¸¸æˆè§’è‰²...` æ•°å€¼ä» > 0ã€‚\n\n- **IF (Any Termination Signal Detected OR Dirty Data)**:\n  - **FORCE ROUTE**: -> **[BRANCH B]** (æ‰§è¡Œæ•°æ®æ¸…æ´—)ã€‚\n  - **Priority**: å³ä½¿æœ¬è½®æœ‰â€œç²¾ç¥-1â€ç­‰æœ¬ä½“å±æ€§å˜æ›´ï¼Œä¹Ÿ **å¿…é¡»åŒæ—¶** æ‰§è¡Œè™šæ‹Ÿå±æ€§æ¸…é›¶ï¼\n\n- **ELSE IF (Active Game Character)**:\n  - **Route**: -> **[BRANCH A]**.\n\n**Step 2: åˆ†æ”¯æ‰§è¡Œ (Branch Execution)**\n- **Route**: Based on Step 1 result -> [BRANCH A] or [BRANCH B].\n\n---\n\n## [ZONE: <attributeAnalyze>] å±æ€§åŒæ­¥ (Stats Sync)\n\n**[æ ¸å¿ƒåŸåˆ™]**\n`player_attr` æ˜¯å”¯ä¸€çš„ **â€œå½“å‰æ¿€æ´»æ£€å®šé¢æ¿â€**ã€‚å®ƒåŒ…å«ä¸¤éƒ¨åˆ†æ’æ§½ï¼š\n1. **æœ¬ä½“æ’æ§½** (åŸºç¡€å±æ€§/æŠ€èƒ½): å§‹ç»ˆå¯¹åº”æå¢ƒçš„è‚‰ä½“çŠ¶æ€ã€‚\n2. **è™šæ‹Ÿæ’æ§½** (å½“å‰æ¸¸æˆè§’è‰²...): **å¿…é¡»æ—¶åˆ»ä¸å½“å‰æ“æ§çš„æ¸¸æˆè§’è‰²æ•°æ®ä¿æŒä¸€è‡´ï¼**\n\n**[BRANCH A] æ¸¸æˆæ•°æ®è£…è½½ (Game Channel)**\n**Trigger (å¼ºåˆ¶è§¦å‘æ¡ä»¶)**:\nå½“æ»¡è¶³ä»¥ä¸‹ **ä»»æ„** æ¡ä»¶æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ `set_attribute` å…¨é‡è¦†ç›–ï¼š\n1. **æ–°æ¸¸æˆ/æ–°è§’è‰²åˆå§‹åŒ–** (ä¾‹å¦‚ï¼šæ­£æ–‡ä¸­å‡ºç°â€œå±æ€§ç”Ÿæˆä¸­...â€æˆ–é€‰æ‹©å¤©èµ‹å)ã€‚\n2. **æ¸¸æˆè§’è‰²å±æ€§å˜æ›´** (ä¾‹å¦‚ï¼šå‡çº§ã€å—ä¼¤ã€Buffç”Ÿæ•ˆ)ã€‚\n3. **ä»ç°å®åˆ‡æ¢å…¥æ¸¸æˆ** (Load Game)ã€‚\n\n**Action (æ‰§è¡ŒåŠ¨ä½œ)**:\n- **å¿…é¡»** ä» `global_lore.jueseming` ä¸­æå–å½“å‰è§’è‰²çš„æœ€æ–°æ•°å€¼ï¼Œé€šè¿‡ `set_attribute` **é•œåƒå†™å…¥** åˆ° `player_attr` çš„ `å½“å‰æ¸¸æˆè§’è‰²...` å­—æ®µä¸­ã€‚\n- **ä¸¥ç¦è·³è¿‡**ï¼å³ä½¿æå¢ƒæœ¬ä½“åªååœ¨æ¤…å­ä¸Šæ²¡åŠ¨ï¼Œåªè¦å±å¹•é‡Œçš„è§’è‰²å±æ€§å˜äº†ï¼Œä½ å°±å¿…é¡»æ›´æ–°è™šæ‹Ÿæ’æ§½ï¼\n\n- **[CRITICAL SYNTAX]**: å¿…é¡»ä¸€æ¬¡æ€§åˆ—å‡ºæ‰€æœ‰æŠ€èƒ½å±æ€§ï¼ˆæ­£æ–‡ä¸­æœªæåŠçš„é»˜è®¤ä¸º0ï¼Œå·²æåŠçš„æŒ‰æåŠæ•°å€¼ï¼‰ï¼Œ**ä¸¥ç¦ç•™ç©º**ã€‚æ ¼å¼å¿…é¡»ä¸º `{num}` (çº¯æ•´æ•°)ã€‚\n- **[èŒƒä¾‹ - å¿…é¡»ç…§æŠ„]**:\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§', '{\"æ¸¸æˆè§’è‰²åŠ›é‡\":1,\"æ¸¸æˆè§’è‰²æ•æ·\":2,\"æ¸¸æˆè§’è‰²è€åŠ›\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§', '{\"æ¸¸æˆè§’è‰²æ™ºåŠ›\":2,\"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\":3,\"æ¸¸æˆè§’è‰²å†³å¿ƒ\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§', '{\"æ¸¸æˆè§’è‰²é£åº¦\":1,\"æ¸¸æˆè§’è‰²æ“æ§\":1,\"æ¸¸æˆè§’è‰²æ²‰ç€\":2,\"æ¸¸æˆè§’è‰²å¹¸è¿\":1}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²è‚‰æ\":1,\"æ¸¸æˆè§’è‰²è¿åŠ¨\":0,\"æ¸¸æˆè§’è‰²é©¾é©¶\":0,\"æ¸¸æˆè§’è‰²æªæ¢°\":0,\"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\":0,\"æ¸¸æˆè§’è‰²éšè—\":0,\"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\":0,\"æ¸¸æˆè§’è‰²ç™½åˆƒ\":0,\"æ¸¸æˆè§’è‰²å¼“ç®­\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²å­¦è¯†\":0,\"æ¸¸æˆè§’è‰²ç”µè„‘\":0,\"æ¸¸æˆè§’è‰²æ‰‹è‰º\":0,\"æ¸¸æˆè§’è‰²è°ƒæŸ¥\":0,\"æ¸¸æˆè§’è‰²åŒ»å­¦\":0,\"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\":0,\"æ¸¸æˆè§’è‰²ç§‘å­¦\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\":0,\"æ¸¸æˆè§’è‰²æ„Ÿå—\":0,\"æ¸¸æˆè§’è‰²è¡¨è¾¾\":0,\"æ¸¸æˆè§’è‰²èƒè¿«\":0,\"æ¸¸æˆè§’è‰²äº¤é™…\":0,\"æ¸¸æˆè§’è‰²æ©é¥°\":0}');`\n\n**2. è·¯å¾„é‡å®šå‘ (Redirect)**\n- **èƒŒåŒ…æ“ä½œ**: ä¸¥ç¦å†™å…¥ `global_lore.èƒŒåŒ…`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆèƒŒåŒ…', '${ç‰©å“å}', ...)`\n- **çŠ¶æ€æ›´æ–°**: ä¸¥ç¦å†™å…¥ `user.status`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆçŠ¶æ€æ ', '${çŠ¶æ€å}', ...)`\n- **åŠŸæ³•/æ ¹åŸº**: ä¸¥ç¦ç›´æ¥æ›´æ–° `åŸºç¡€å±æ€§` æˆ– `è¡ç”Ÿå±æ€§.èƒ½é‡æ± `ï¼\n  - âœ… **Correct**: åªèƒ½ä½œä¸º **è¢«åŠ¨æŠ€èƒ½** æˆ– **ç‰¹æ®ŠçŠ¶æ€** è®°å½•åœ¨ `jueseming.${è§’è‰²å}` ä¸‹ã€‚\n\n**3. é˜²ç«å¢™ (Firewall Active)**\n- âŒ **BLOCK**: `è¡ç”Ÿå±æ€§.èƒ½é‡æ± ` (ç¦æ­¢åŒæ­¥)\n- âŒ **BLOCK**: `global_lore.èƒŒåŒ…` (ç¦æ­¢å†™å…¥ æå¢ƒèƒŒåŒ…)\n- âŒ **BLOCK**: `hurt_value` (ä¸¥ç¦å› æ¸¸æˆå—ä¼¤æ‰£é™¤ æå¢ƒè¡€é‡)\n- âŒ **BLOCK**: `user.status` (**ä¸¥ç¦**å°†æ¸¸æˆè§’è‰²çš„çŠ¶æ€/Buffå¤åˆ¶ç»™ æå¢ƒ)\n\n**[BRANCH B] ç°å®ç›´é€šé€šé“ (Reality Channel)**\n- **Trigger**: ä»…å½“ **é€€å‡ºæ¸¸æˆ / è§’è‰²æ­»äº¡ / Bad End** æ—¶ï¼Œæˆ– **æ£€æµ‹åˆ°è™šæ‹Ÿæ’æ§½æœ‰æ•°æ®æ®‹ç•™ (Dirty Data)** æ—¶è§¦å‘ã€‚\n- âœ… **ALLOW**: æ›´æ–° `åŸºç¡€å±æ€§`, `èƒ½é‡æ± `, `global_lore.èƒŒåŒ…`, `hurt_value`ã€‚\n- **Action (æ•°æ®æ¸…æ´—)**:\n  - **CONDITIONAL RESET**: è‹¥æ£€æµ‹åˆ°ä¸Šè¿° Triggerï¼Œ**å¿…é¡»** è¾“å‡ºä»¥ä¸‹æŒ‡ä»¤å°†è™šæ‹Ÿæ’æ§½å½’é›¶ï¼š\n  `memory('player_attr.åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§', '{\"æ¸¸æˆè§’è‰²åŠ›é‡\":0,\"æ¸¸æˆè§’è‰²æ•æ·\":0,\"æ¸¸æˆè§’è‰²è€åŠ›\":0}');`\n  `memory('player_attr.åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§', '{\"æ¸¸æˆè§’è‰²æ™ºåŠ›\":0,\"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\":0,\"æ¸¸æˆè§’è‰²å†³å¿ƒ\":0}');`\n  `memory('player_attr.åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§', '{\"æ¸¸æˆè§’è‰²é£åº¦\":0,\"æ¸¸æˆè§’è‰²æ“æ§\":0,\"æ¸¸æˆè§’è‰²æ²‰ç€\":0,\"æ¸¸æˆè§’è‰²å¹¸è¿\":0}');`\n  `memory('player_attr.åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²è‚‰æ\":0,\"æ¸¸æˆè§’è‰²è¿åŠ¨\":0,\"æ¸¸æˆè§’è‰²é©¾é©¶\":0,\"æ¸¸æˆè§’è‰²æªæ¢°\":0,\"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\":0,\"æ¸¸æˆè§’è‰²éšè—\":0,\"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\":0,\"æ¸¸æˆè§’è‰²ç™½åˆƒ\":0,\"æ¸¸æˆè§’è‰²å¼“ç®­\":0}');`\n  `memory('player_attr.åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²å­¦è¯†\":0,\"æ¸¸æˆè§’è‰²ç”µè„‘\":0,\"æ¸¸æˆè§’è‰²æ‰‹è‰º\":0,\"æ¸¸æˆè§’è‰²è°ƒæŸ¥\":0,\"æ¸¸æˆè§’è‰²åŒ»å­¦\":0,\"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\":0,\"æ¸¸æˆè§’è‰²ç§‘å­¦\":0}');`\n  `memory('player_attr.åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\":0,\"æ¸¸æˆè§’è‰²æ„Ÿå—\":0,\"æ¸¸æˆè§’è‰²è¡¨è¾¾\":0,\"æ¸¸æˆè§’è‰²èƒè¿«\":0,\"æ¸¸æˆè§’è‰²äº¤é™…\":0,\"æ¸¸æˆè§’è‰²æ©é¥°\":0}');`\n\n---\n\n## [ZONE: <loreAnalyze>] çŠ¶æ€ç§»é™¤ä¸Loreç®¡ç†\n**1. [CRITICAL] çŠ¶æ€ç§»é™¤ (Remove Status)**\n- å½“çŠ¶æ€/ç‰©å“æ¶ˆå¤±æ—¶ï¼Œ**å¿…é¡»**ä½¿ç”¨ `delete()` æŒ‡ä»¤ï¼Œä¸¥ç¦ä½¿ç”¨ `memory(..., 'å·²è§£å†³')` æ ‡è®°ï¼\n- **èŒƒä¾‹**: `delete('global_lore.jueseming.æ™¶åŒ–æ‹Ÿæ€ä½“.æ¸¸æˆçŠ¶æ€æ ', 'æ¶ˆåŒ–ä¸è‰¯');`\n\n---\n\n## [ZONE: <statusAnalyze>] çŠ¶æ€ä¸æ—¶é—´ (Time & Status)\n**1. çŠ¶æ€æ˜ å°„ (Status Mapping)**\n- **é€»è¾‘**: å½“æ¸¸æˆäº‹ä»¶å¯¼è‡´çŠ¶æ€å˜åŠ¨æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ **[Physiological -> Psychological]** è½¬æ¢ã€‚\n- âœ… **å…è®¸æ˜ å°„**: æ¸¸æˆè§’è‰²[æ¿’æ­»] ->  æå¢ƒ[æåº¦ç´§å¼ /å†·æ±—]ã€‚\n- âŒ **ä¸¥ç¦å¤åˆ¶**: ä¸è¦ç»™  æå¢ƒ æ·»åŠ  [éª¨æŠ˜/ä¸­æ¯’/å¯„ç”Ÿ/å¤±æ˜]ã€‚\n\n**2. [CRITICAL] æ—¶é—´å‡½æ•°å®‰å…¨é” (Time Lock)**\n- **è®¡ç®—**: `New_Time = Current + Operation_Duration` (æ“ä½œæ—¶é•¿)\n- *é”™è¯¯ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+8 hours')` (âŒ)\n- *æ­£ç¡®ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+2 mins')` (âœ…)\n\n')\n\n<%_\n}\n_%>","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":120,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":12,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"11":{"uid":11,"displayIndex":21,"comment":"[RULE] ç»“ç®—è§„åˆ™ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":105,"content":"\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\ngame.set('rule_settlement', {\n    rule_name: \"ç»“ç®—ç§¯åˆ†ä¸å¥–åŠ±è®¡ç®—\",\n    trigger: \"ä¸»çº¿ä»»åŠ¡å®Œæˆ æˆ– è§’è‰²æ­»äº¡\",\n\n    // === 1. è¯„åˆ†æ„æˆè¡¨ (Evaluation Points 0-100+) ===\n    // AI åœ¨ç»“ç®—æ—¶å¿…é¡»ä¸¥æ ¼å…ˆè®¡ç®—æ­¤æ€»åˆ†ï¼Œå†æŸ¥è¡¨å†³å®šç­‰çº§\n    score_composition: {\n        \"main_quest\": {\n            \"value\": 60,\n            \"condition\": \"ä¸»çº¿ç›®æ ‡è¾¾æˆå³å¾— 60 åˆ† (ä¿è¯åŸºç¡€åŠæ ¼)\"\n        },\n        \"side_quest\": {\n            \"value_per_quest\": 15,\n            \"limit\": \"æœ€å¤šè®¡ç®— 3 ä¸ªæ”¯çº¿ (ä¸Šé™+45åˆ†)\",\n            \"description\": \"å®Œæˆæ”¯çº¿ä»»åŠ¡æ˜¯å†²å‡»é«˜è¯„åˆ†çš„æ ¸å¿ƒæ‰‹æ®µ\"\n        },\n        \"achievements\": {\n            \"no_damage\": { \"value\": 10, \"description\": \"æ— ä¼¤é€šå…³ (HPæœªå—æŸ)\" },\n            \"stealth\":   { \"value\": 10, \"description\": \"æ½œè¡Œ/æœªè§¦å‘è­¦æŠ¥\" },\n            \"speedrun\":  { \"value\": 5,  \"description\": \"æé€Ÿé€šå…³ (è¿œä½äºé™æ—¶)\" },\n            \"collector\": { \"value\": 5,  \"description\": \"å…¨æ”¶é›† (å…³é”®çº¿ç´¢/éšè—é“å…·)\" },\n            \"pacifist\":  { \"value\": 10, \"description\": \"å’Œå¹³ä¸»ä¹‰ (ä¸å‡»æ€éå¿…é¡»ç›®æ ‡)\" }\n        },\n        \"penalty\": {\n            \"death\": { \"value\": \"å¼ºåˆ¶å½’é›¶\", \"description\": \"åˆ¤å®šDçº§ (æ— æ³•è·å¾—å¥–åŠ±)\" },\n            \"restart\": { \"value\": -10, \"description\": \"æ¯æ¬¡ä½¿ç”¨å›æº¯/è¯»æ¡£æ‰£é™¤ 10 åˆ†\" }\n        }\n    },\n\n    // === 2. ç­‰çº§åˆ¤å®šæ ‡å‡† (Grade Mapping) ===\n    grading_standard: {\n        \"Sçº§_å®Œç¾\": { \"range\": \">= 95 åˆ†\", \"description\": \"å®Œç¾/å…¨æ”¯çº¿/æ— ä¼¤\",     \"multiplier\": 3.0 },\n        \"Açº§_ä¼˜ç§€\": { \"range\": \"80-94 åˆ†\", \"description\": \"å®Œæˆå¤§éƒ¨åˆ†æ”¯çº¿/è¡¨ç°ä¼˜å¼‚\", \"multiplier\": 2.0 },\n        \"Bçº§_ç†Ÿç»ƒ\": { \"range\": \"65-79 åˆ†\", \"description\": \"æ­£å¸¸é€šå…³\",             \"multiplier\": 1.5 },\n        \"Cçº§_å¹³åº¸\": { \"range\": \"60-64 åˆ†\", \"description\": \"å‹‰å¼ºåŠæ ¼/ä»…å®Œæˆä¸»çº¿\",     \"multiplier\": 1.0 },\n        \"Dçº§_å¤±è´¥\": { \"range\": \"< 60 åˆ†\",  \"description\": \"ä»»åŠ¡å¤±è´¥/æ­»äº¡\",         \"multiplier\": 0.2 }\n    },\n\n    // === 3. åŠŸå‹‹è®¡ç®—å…¬å¼ (Merit Calculation) ===\n    merit_formula: {\n        \"base_merit\": 500, // 1æ˜ŸåŸºå‡†\n        \"star_bonus\": { \"1æ˜Ÿ\": 1, \"2æ˜Ÿ\": 2.5, \"3æ˜Ÿ\": 6, \"4æ˜Ÿ\": 15, \"5æ˜Ÿ\": 40 },\n        \"calculation_rule\": \"Total_Merit = 500 * Star_Bonus * Grade_Multiplier\",\n        \"example\": \"2æ˜Ÿæ¸¸æˆ(2.5) + Açº§è¯„ä»·(2.0) = 500 * 2.5 * 2.0 = 2500 åŠŸå‹‹\"\n    },\n\n    // === 4. é€»è¾‘åˆ†æ”¯ (ç”¨æˆ·å†³ç­–ç‰ˆ) ===\n    logic_branches: {\n        \"VICTORY_FLOW\": [\n            \"1. **ç®—åˆ†ç¯èŠ‚**: åœ¨æ­£æ–‡ä¸­æ˜ç¡®ç½—åˆ—å¾—åˆ†é¡¹ (ä¾‹: ä¸»çº¿60 + æ”¯çº¿15 = 75åˆ†)ã€‚\",\n            \"2. **å‘é’±ç¯èŠ‚**: ä»£å…¥å…¬å¼è®¡ç®—åŠŸå‹‹ï¼Œå¹¶å­˜å…¥è´¦æˆ·ã€‚\",\n            \"3. **è§£é”ç¯èŠ‚ (åº“å­˜ç®¡ç†)**: \",\n            \"   - æ‰«æå½“å‰ä¸–ç•Œè§‚ï¼Œç”Ÿæˆ 2-3 ä»¶å¾…ä¸Šæ¶çš„æ–°å•†å“ã€‚\",\n            \"   - æ£€æŸ¥ 'global_lore.youxijishangcheng' çš„é“å…·æ•°é‡æ˜¯å¦è¾¾åˆ°ä¸Šé™ (å‚è€ƒ Entry 12)ã€‚\",\n            \"   - **è‹¥æœ‰ç©ºä½**: ç›´æ¥ä¸Šæ¶æ–°å•†å“ã€‚\",\n            \"   - **è‹¥å·²æ»¡ (æ ¸å¿ƒäº¤äº’)**: ä¸¥ç¦è‡ªåŠ¨æ›¿æ¢ï¼(åªæœ‰å‘¨ä¸€åˆ·æ–°æ‰ä¼šè‡ªåŠ¨æ¸…ç©º)ã€‚\",\n            \"   - **å¼ºåˆ¶å†³ç­–**: å¿…é¡»åœ¨æ­£æ–‡ä¸­å¼¹å‡ºã€åº“å­˜æ•´ç†ç•Œé¢ã€‘ï¼Œåˆ—å‡º [æ–°å•†å“] ä¸ [æ—§å•†å“]ï¼Œè®© User é€‰æ‹©ï¼š'ä¿ç•™æ—§å•†å“å¹¶æ”¾å¼ƒæ–°å•†å“' æˆ– 'ä¸‹æ¶æ—§å•†å“[X]ä»¥æ¥çº³æ–°å•†å“[Y]'ã€‚\",\n            \"   - **é€‰é¡¹ç”Ÿæˆ**: åœ¨æ–‡æœ«ç”Ÿæˆå¯¹åº”çš„ <options> ä¾› User è¿›è¡Œå–èˆæ“ä½œã€‚\"\n        ],\n        \"DEATH_FLOW\": [\n            \"1. **ä¸­æ–­ç¯èŠ‚**: å±å¹•å¼¹å‡º 'SYNC FAILED' æç¤ºã€‚\",\n            \"2. **å›é€€ç¯èŠ‚**: æå†™æ—¶é—´/åœºæ™¯å›æº¯åˆ°æ¸¸æˆå¼€å§‹å‰ï¼Œä¸å‘æ”¾ä»»ä½•å¥–åŠ±ã€‚\"\n        ]\n    }\n});\n\n<%_\n}\n_%>\n","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"12":{"uid":12,"key":[],"keysecondary":[],"comment":"[RULE] ç»æµæ•°æ®è¡¨ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","content":"\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\ngame.set('data_economy_core', {\n    comment: \"å…¨é‡ç»æµæ•°å€¼è¡¨ï¼Œä½œä¸ºæ­£æ–‡ç”Ÿæˆå’Œè„šæœ¬æŠ“å–çš„å”¯ä¸€ä¾æ®\",\n\n    // === 0. äº¤æ˜“æ ¹æœ¬æ³•åˆ™ ===\n    trade_rules: {\n        \"currency\": \"åŠŸå‹‹ (å”¯ä¸€é€šç”¨è´§å¸)\",\n        \"eligibility\": \"ä¸¥ç¦ç¼–é€ 'Sçº§è¯„ä»·'ã€'VIPç­‰çº§'ç­‰é¢å¤–è´­ä¹°é—¨æ§›ã€‚åªè¦å•†å“åœ¨è´§æ¶ä¸Šä¸”ç©å®¶åŠŸå‹‹è¶³å¤Ÿï¼Œå³å¯è´­ä¹°ã€‚\",\n        \"stock_logic\": \"å•†åº—æ˜¾ç¤ºçš„å•†å“å³ä¸ºå¯è´­ä¹°çŠ¶æ€ï¼Œæ— éœ€è§£é”ã€‚\"\n    },\n\n    // === 1. å•†åº—å‡çº§é˜ˆå€¼ ===\n    shop_upgrade_cost: {\n        \"LEVEL_1_TO_2\": 5000,\n        \"LEVEL_2_TO_3\": 20000,\n        \"LEVEL_3_TO_4\": 100000,\n        \"LEVEL_4_TO_5\": 500000\n    },\n\n    // === 2. å•†åº—å®¹é‡é™åˆ¶ ===\n    shop_capacity: {\n        \"LEVEL_1\": 5, \"LEVEL_2\": 10, \"LEVEL_3\": 20, \"LEVEL_4\": 40, \"LEVEL_5\": 999\n    },\n\n    // === 3. å•†å“å®šä»·çŸ©é˜µ (å…³é”®ä¿®æ”¹) ===\n    pricing_matrix: {\n        // A. åŸºå‡†å‚è€ƒ (å„æ˜Ÿçº§Sçº§é€šå…³çš„å¹³å‡æ”¶å…¥)\n        \"reference_income_s_rank\": {\n            \"STAR_1\": 1500, \"STAR_2\": 3750, \"STAR_3\": 9000, \"STAR_4\": 22500, \"STAR_5\": 60000\n        },\n\n        // B. ç±»å‹ç³»æ•° (ä»·æ ¼ = Sçº§æ”¶å…¥ * ç³»æ•°)\n        \"item_type_multiplier\": {\n            \"consumable\": 0.1,    // æ¶ˆè€—å“ (è¯æ°´/å¼¹è¯/ç¬¦å’’) - ä¾¿å®œ\n            \"material\": 0.3,      // ç´ æ (çŸ¿çŸ³/è‰è¯) - å»‰ä»·\n            \"equipment\": 0.5,     // è£…å¤‡ (æ­¦å™¨/é˜²å…·/é¥°å“) - ä¸­ç­‰\n            \"game_cartridge\": 0.8,// ä»˜è´¹æ¸¸æˆå¡å¸¦ - ç•¥è´µ\n            \"skill_book\": 1.2,    // ä¸»åŠ¨æŠ€èƒ½ä¹¦ (ç«çƒæœ¯/å‰‘æ‹›) - è´µ\n            \"cultivation\": 1.8,   // åŠŸæ³•/è¢«åŠ¨ (å†…åŠŸ/å†¥æƒ³æ³•/å‘¼å¸æ³•) - æ˜‚è´µ\n            \"bloodline\": 3.0      // è¡€ç»Ÿ/ä½“è´¨ (èµ›äºšäºº/å¸è¡€é¬¼/çµä½“) - æè´µ (æ ¸å¿ƒå¼ºåŒ–)\n        },\n\n        // C. ä»“åº“å®šä»·è§„åˆ™\n        \"warehouse_pricing\": {\n            \"to_game_warehouse\": \"åŸºç¡€ä»·æ ¼ x 1.0\",\n            \"to_real_warehouse\": \"åŸºç¡€ä»·æ ¼ x 2.0 (å«å…·ç°æƒ)\"\n        }\n    }\n});\n\n<%_\n}\n_%>","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":101,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":21,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"13":{"uid":13,"key":[],"keysecondary":[],"comment":"[RULE] ä»»åŠ¡è§„åˆ™ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","content":"\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\ngame.set('rule_quest_execution', {\n    rule_name: \"ä»»åŠ¡æ‰§è¡Œä¸å®Œç»“åˆ¤å®š\",\n    trigger: \"å‰§æƒ…æ¨è¿›ã€æˆ˜æ–—ç»“æŸæˆ–æ¢ç´¢å‘ç°æ—¶\",\n\n    // ... (ä¿ç•™ä¹‹å‰çš„é˜²å¥—å¨ƒé™åˆ¶) ...\n    constraints: {\n        \"ä¸»çº¿ç»ˆå±€æ€§\": \"Entry 17 ç”Ÿæˆçš„ä¸»çº¿å³ä¸ºå”¯ä¸€é€šå…³æ¡ä»¶ã€‚\",\n        \"ç«‹å³ç»“ç®—åŸåˆ™\": \"ä¸»çº¿è¾¾æˆå³åˆ»ç»“ç®—ã€‚\"\n    },\n\n    // === å™äº‹å¼•å¯¼ (ä¾›è„šæœ¬æŠ“å–) ===\n    narrative_guide: [\n        // 1. é˜¶æ®µæ¨è¿›\n        \"å½“æ¨è¿›ä¸»çº¿æ­¥éª¤æ—¶ï¼Œæç¤ºï¼š'ã€é˜¶æ®µç›®æ ‡æ›´æ–°ã€‘[æ­¥éª¤å]'ã€‚\",\n\n        // 2. æ”¯çº¿/çº¿ç´¢ (æ˜ç¡®ä»·å€¼ï¼)\n        \"è§¦å‘æ”¯çº¿æ—¶ï¼Œæ˜ç¡®æç¤ºï¼š'ã€è§¦å‘æ”¯çº¿ã€‘[åç§°] (å®Œæˆå¯æå‡é€šå…³è¯„ä»·åˆ†å€¼)'ã€‚\",\n        \"å®Œæˆæ”¯çº¿æ—¶ï¼Œæ˜ç¡®æç¤ºï¼š'ã€æ”¯çº¿å®Œæˆã€‘[åç§°] (è¯„åˆ† +10~15)'ã€‚\",\n\n        // 3. å‘ç°çº¿ç´¢\n        \"å‘ç°å…³é”®æƒ…æŠ¥æ—¶ï¼Œæç¤ºï¼š'ã€å‘ç°çº¿ç´¢ã€‘[å†…å®¹] (è¯„åˆ† +5)'ã€‚\",\n\n        // 4. é€šå…³\n        \"ä¸»çº¿è¾¾æˆæ—¶ï¼Œè¾“å‡ºï¼š'ã€ä¸»çº¿å®Œæˆã€‘ç›®æ ‡è¾¾æˆï¼Œè¿›å…¥ç»“ç®—'ã€‚\"\n    ]\n});\n\n<%_\n}\n_%>\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":103,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":21,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"14":{"uid":14,"key":[],"keysecondary":[],"comment":"é€‰é¡¹åŒºæµ‹è¯•1.0","content":"\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\ngame.set('options_logic_core', {\n    // ğŸ·ï¸ åŸºç¡€é…ç½®\n    rule: 'åœ¨æ­£æ–‡ç»“æŸåç”Ÿæˆé€‰é¡¹åŒºï¼Œä½¿ç”¨<options>æ ‡ç­¾åŒ…è£¹ï¼Œå†…å®¹ä¸ºæ•°å­—åŒ–åºåˆ—ï¼ˆ1.2.3...ï¼‰çš„4ä¸ªé€‰é¡¹',\n    scope: 'æ ¹æ®ä¸Šä¸‹æ–‡å’Œç»´åº¦åˆ¤æ–­ï¼Œä¸¥æ ¼ä»¥é˜¿è¨/ç©å®¶çš„è§†è§’ï¼Œç”Ÿæˆ4ä¸ªç‹¬ç«‹è¡ŒåŠ¨é€‰é¡¹',\n\n    // ğŸ§  æ ¸å¿ƒæ ¡å‡† (Calibration)\n    calibration: {\n        // [æ–°å¢] åœºæ™¯å—…æ¢å™¨ï¼šé˜²æ­¢ä¸Šä¸‹æ–‡æƒ¯æ€§\n        scene_sniffer: `\n            STEP 0: SCENE CHECK (Crucial Pre-computation)\n            - IS Li Jing currently holding the console AND playing a game?\n              -> YES: Enable [VIRTUAL] Mode logic.\n              -> NO (Eating, Sleeping, At School, Talking, Browsing Shop): Enable [REALITY] Mode logic.\n        `,\n\n        // ğŸ›¡ï¸ ç»å¯¹ç™½åå• (å®Œæ•´ä¿ç•™)\n        whitelist_data: {\n            base: 'åŠ›é‡, æ•æ·, è€åŠ›, æ™ºåŠ›, æ„ŸçŸ¥, å†³å¿ƒ, é£åº¦, æ“æ§, æ²‰ç€, å¹¸è¿',\n            skill_phys: 'è¿åŠ¨, è‚‰æ, é©¾é©¶, æªæ¢°, æ‰‹ä¸ŠåŠŸå¤«, éšè—, æ±‚ç”Ÿ, ç™½åˆƒ, å¼“ç®­',\n            skill_mind: 'å­¦è¯†, ç”µè„‘, æ‰‹è‰º, è°ƒæŸ¥, åŒ»å­¦, ç¥ç§˜å­¦, ç§‘å­¦',\n            skill_soc: 'åŠ¨ç‰©æ²Ÿé€š, æ„Ÿå—, è¡¨è¾¾, èƒè¿«, äº¤é™…, æ©é¥°'\n        },\n\n        // ğŸ”„ å¼ºåˆ¶æ˜ å°„å™¨\n        mapper: {\n            rule: \"Check User Intention -> Find Closest Match in whitelist_data -> Output Match\",\n            examples: \"ç»´ä¿®/ä¿®ç†->[æ‰‹è‰º]; ä¾¦æŸ¥->[è°ƒæŸ¥]; æ„å¿µ->[å†³å¿ƒ]; è°è¨€->[æ©é¥°]\"\n        },\n\n        // ğŸ›‘ è¯­ä¹‰é˜»æ–­å™¨ (é˜²æ­¢é€ è¯)\n        stop_words: {\n            \"æœç´¢\": \"âŒ Forbidden. Replace with [è°ƒæŸ¥] or [æ„ŸçŸ¥]\",\n            \"æœåˆ®\": \"âŒ Forbidden. Replace with [è°ƒæŸ¥] or [æ‰‹ä¸ŠåŠŸå¤«]\",\n            \"åå‹¤\": \"âŒ Forbidden. Replace with [å­¦è¯†] (ç‰©å“çŸ¥è¯†) or [æ™ºåŠ›] (æ•´ç†)\",\n            \"ç®¡ç†\": \"âŒ Forbidden. Replace with [æ²‰ç€] (å†·é™è§„åˆ’) or [æ™ºåŠ›]\",\n            \"æŠ•æ·\": \"âŒ Forbidden. Replace with [è¿åŠ¨]\",\n            \"åˆ†æ\": \"âŒ Forbidden. Replace with [è°ƒæŸ¥] or [ç§‘å­¦]\",\n            \"æœºæ¢°ç»´ä¿®\": \"âŒ Forbidden. Replace with [æ‰‹è‰º]\"\n        },\n\n        // ğŸŒ ç»´åº¦çŠ¶æ€æœº (Logic Modes - å¼ºåŒ–ç‰ˆ)\n        dimension_mode: {\n            // Mode A: ç°å®ç»´åº¦\n            REALITY: {\n                condition: \"Scene is Classroom / Home / Daily Life / School / Browsing Menu\",\n                target: \"user.self (æœ¬ä½“å±æ€§)\",\n                constraint: \"â›” STRICTLY BAN 'æ¸¸æˆè§’è‰²' PREFIX! ç°å®ä¸–ç•Œæ— æ³•è°ƒç”¨è™šæ‹Ÿæ•°æ®ï¼\",\n                logic: \"Output 3x Tags from [whitelist_data] directly. (e.g. [æ™ºåŠ›][äº¤é™…])\"\n            },\n            // Mode B: è™šæ‹Ÿç»´åº¦\n            VIRTUAL: {\n                condition: \"Scene is Inside Game World / Controlling Avatar\",\n                target: \"user.mind (1) + avatar.body (2)\",\n                constraint: \"MANDATORY use 'æ¸¸æˆè§’è‰²' prefix for Avatar's physical skills.\",\n                logic: \"Slot1:User(No Prefix) + Slot2:Avatar(With Prefix) + Slot3:Avatar(With Prefix)\"\n            }\n        }\n    },\n\n    // ğŸ­ è¡Œä¸ºå€¾å‘ (å®Œæ•´ä¿ç•™)\n    tendencies: [\n        { type: 'ç§¯ææ¨è¿›å‰§æƒ…', rule: 'ä¸»åŠ¨æ¨åŠ¨ä¸»çº¿æˆ–æ”¯çº¿ä»»åŠ¡è¿›å±•' },\n        { type: 'ç©¶æä¹å­äºº/æ··æ²Œ/å¼ºç›—/ç½ªæ¶', rule: 'å°†å‰§æƒ…å½»åº•çš„æ¨è¿›è‡³å®Œå…¨æ··æ²Œå’Œæ‰€æœ‰äººéƒ½æƒ³ä¸åˆ°çš„æ–¹å‘' },\n        { type: 'ç¬¦åˆæå¢ƒæ€§æ ¼', rule: 'èµ„æ·±æ¸¸æˆå®…æ€ç»´ï¼Œç†æ€§ä½†å¸¦æœ‰å›¤ç§¯ç™–ï¼Œå¶å°”åæ§½' },\n        { type: 'å¯¹å‰§æƒ…åæ§½', rule: 'è¯™è°ä¸”æ°å½“çš„å¯¹å½“å‰æƒ…å†µçš„åæ§½' }\n    ],\n\n    // â›“ï¸ è¾“å‡ºçº¦æŸ (Constraints - åŒ…å«æ‰€æœ‰è¡¥ä¸)\n    constraints: {\n        pacing: 'é€‰é¡¹ä¸å¾—æ‹–å»¶å‰§æƒ…èŠ‚å¥ï¼Œå¿…é¡»åˆç†ä¸”æœ‰åŠ©äºç©å®¶å†³ç­–',\n        format: 'æ¯ä¸ªé€‰é¡¹åç”¨[]å•ç‹¬åŒ…è£¹æ‰€éœ€æ£€å®šå±æ€§ã€‚ä¾‹ï¼š1.è¡ŒåŠ¨æè¿°[æ£€å®š1][æ£€å®š2][æ£€å®š3]ã€‚',\n\n        // ğŸ”§ [FIXED] ç¬¦å·éš”ç¦»åè®® (Symbol Isolation Protocol)\n        // è§£å†³ AI å°†ç‰©å“åæ”¾åœ¨ [] é‡Œå¯¼è‡´è§£æé”™è¯¯çš„ Bug\n        syntax_cleaner: {\n            rule: \"Strictly SEPARATE Description and Check_Zone.\",\n            symbol_mapping: `\n                CRITICAL VISUAL RULE:\n                - Attributes/Skills (å±æ€§) -> MUST use Half-width brackets '[]'. (e.g. [æ™ºåŠ›])\n                - Items/Nouns/Objects (ç‰©å“) -> MUST use Full-width brackets 'ã€ã€‘' or Quotes 'â€œâ€'.\n            `,\n            bad_examples: [\n                \"âŒ Wrong: 2.ä¸‹æ¶[æ€¥æ•‘å–·é›¾]ã€‚[æ™ºåŠ›]\",  // æ··æ·†äº†ç‰©å“å’Œå±æ€§\n                \"âŒ Wrong: 1.ä½¿ç”¨[å¼€é”å·¥å…·]è¿›è¡Œåˆ¤å®šã€‚[æ‰‹è‰º]\"\n            ],\n            good_examples: [\n                \"âœ… Right: 2.ä¸‹æ¶ã€æ€¥æ•‘å–·é›¾ã€‘ã€‚[æ™ºåŠ›]\", // ç‰©å“ç”¨å…¨è§’ï¼Œå±æ€§ç”¨åŠè§’\n                \"âœ… Right: 1.ä½¿ç”¨â€œå¼€é”å·¥å…·â€è¿›è¡Œåˆ¤å®šã€‚[æ‰‹è‰º]\"\n            ]\n        },\n\n        // ğŸ² æ£€å®šåŒºåˆ†é…é€»è¾‘\n        check_brackets: {\n            desc: 'åº”ç”¨3x [player_attr] è¿›è¡Œæ£€å®šé¢„æµ‹',\n            num: 3,\n            strict_scope: 'ä»…é™ User æˆ– Avatar è‡ªèº«å±æ€§ (No NPC attributes)',\n\n            // ğŸ›¡ï¸ æœ€ç»ˆå®‰å…¨é” (Final Safety Lock)\n            // è§£å†³ AI åœ¨ç°å®ä¸–ç•Œä½¿ç”¨ 'æ¸¸æˆè§’è‰²' å‰ç¼€çš„ Bugï¼Œä»¥åŠå†æ¬¡æ¸…æ´—æ‹¬å·\n            safety_lock: `\n                [POST-PROCESSING INSTRUCTION]\n                Before outputting <options>:\n                1. IF (Scene == REALITY/School/Home) -> REMOVE all \"æ¸¸æˆè§’è‰²\" prefixes immediately! (Example: \"[æ¸¸æˆè§’è‰²æ™ºåŠ›]\" -> \"[æ™ºåŠ›]\")\n                2. SCAN Option Description text (content before the attributes).\n                3. IF (Description contains '[' or ']'):\n                   REPLACE '[' with 'ã€';\n                   REPLACE ']' with 'ã€‘';\n                   (Ensure only the attributes at the end use half-width brackets).\n            `\n        },\n\n        example: [\n            'Reality: 1.æŸ¥çœ‹æŒæœºçš„ä¸»èœå•ã€‚[è°ƒæŸ¥][æ™ºåŠ›][æ„ŸçŸ¥]',\n            'Virtual: 1.æ“çºµè§’è‰²å‘åŠ¨èƒŒåˆºã€‚[å†³å¿ƒ][æ¸¸æˆè§’è‰²æ•æ·][æ¸¸æˆè§’è‰²éšè—]',\n            'Virtual: 2.åœ¨æ¸¸æˆé‡Œæœå¯»ã€åŒ»ç–—åŒ…ã€‘ã€‚[æ„ŸçŸ¥][æ¸¸æˆè§’è‰²è°ƒæŸ¥][æ¸¸æˆè§’è‰²å¹¸è¿]'\n        ]\n    }\n});\n\n<%_\n}\n_%>\n\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":107,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"é€‰é¡¹","groupOverride":true,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":16,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"15":{"uid":15,"key":[],"keysecondary":[],"comment":"é€‰é¡¹åŒº","content":"\n\ngame.set('options_logic_core', {\n    // ğŸ·ï¸ åŸºç¡€é…ç½® (åŸå§‹ç¬¬ä¸€æ¡)\n    rule: 'åœ¨æ­£æ–‡ç»“æŸåç”Ÿæˆé€‰é¡¹åŒºï¼Œä½¿ç”¨<options>æ ‡ç­¾åŒ…è£¹ï¼Œå†…å®¹ä¸ºæ•°å­—åŒ–åºåˆ—ï¼ˆ1.2.3...ï¼‰çš„4ä¸ªé€‰é¡¹',\n    scope: 'æ ¹æ®ä¸Šä¸‹æ–‡å’Œç»´åº¦åˆ¤æ–­ï¼Œä¸¥æ ¼ä»¥é˜¿è¨/ç©å®¶çš„è§†è§’ï¼Œç”Ÿæˆ4ä¸ªç‹¬ç«‹è¡ŒåŠ¨é€‰é¡¹',\n\n    // ğŸ§  æ ¸å¿ƒæ ¡å‡† (Calibration)\n    calibration: {\n        // ğŸ›¡ï¸ ç»å¯¹ç™½åå• (å®Œæ•´ä¿ç•™)\n        whitelist_data: {\n            base: 'åŠ›é‡, æ•æ·, è€åŠ›, æ™ºåŠ›, æ„ŸçŸ¥, å†³å¿ƒ, é£åº¦, æ“æ§, æ²‰ç€, å¹¸è¿',\n            skill_phys: 'è¿åŠ¨, è‚‰æ, é©¾é©¶, æªæ¢°, æ‰‹ä¸ŠåŠŸå¤«, éšè—, æ±‚ç”Ÿ, ç™½åˆƒ, å¼“ç®­',\n            skill_mind: 'å­¦è¯†, ç”µè„‘, æ‰‹è‰º, è°ƒæŸ¥, åŒ»å­¦, ç¥ç§˜å­¦, ç§‘å­¦',\n            skill_soc: 'åŠ¨ç‰©æ²Ÿé€š, æ„Ÿå—, è¡¨è¾¾, èƒè¿«, äº¤é™…, æ©é¥°'\n        },\n\n        // ğŸ”„ å¼ºåˆ¶æ˜ å°„å™¨ (å®Œæ•´ä¿ç•™ + å¢å¼º)\n        mapper: {\n            rule: \"Check User Intention -> Find Closest Match in whitelist_data -> Output Match\",\n            examples: \"ç»´ä¿®/ä¿®ç†->[æ‰‹è‰º]; ä¾¦æŸ¥->[è°ƒæŸ¥]; æ„å¿µ->[å†³å¿ƒ]; è°è¨€->[æ©é¥°]\"\n        },\n\n        // ğŸ›‘ [æ–°å¢] è¯­ä¹‰é˜»æ–­å™¨ (Semantic Blocker - é’ˆå¯¹é€ è¯Bugçš„è¡¥ä¸)\n        stop_words: {\n            \"æœç´¢\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è°ƒæŸ¥] æˆ– [æ„ŸçŸ¥]\",\n            \"æœåˆ®\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è°ƒæŸ¥] æˆ– [æ‰‹ä¸ŠåŠŸå¤«]\",\n            \"åå‹¤\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [å­¦è¯†] (ç‰©å“çŸ¥è¯†) æˆ– [æ™ºåŠ›] (æ•´ç†)\",\n            \"ç®¡ç†\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [æ²‰ç€] (å†·é™è§„åˆ’) æˆ– [æ™ºåŠ›]\",\n            \"æŠ•æ·\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è¿åŠ¨]\",\n            \"åˆ†æ\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è°ƒæŸ¥] æˆ– [ç§‘å­¦]\",\n            \"æœºæ¢°ç»´ä¿®\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [æ‰‹è‰º]\"\n        },\n\n        // ğŸŒ ç»´åº¦çŠ¶æ€æœº (Logic Modes - å®Œæ•´ä¿ç•™ä¹‹å‰ç¡®è®¤çš„ 1:2 è§„åˆ™)\n        dimension_mode: {\n            // Mode A: ç°å®ç»´åº¦\n            REALITY: {\n                trigger: \"ç°å®å‰§æƒ… | ç³»ç»Ÿèœå• | æŒæœºäº¤äº’\",\n                target: \"user.self (æœ¬ä½“)\",\n                prefix_rule: \"Strictly NO prefix (ç¦æ­¢å‰ç¼€)\",\n                valid_tags: \"å¿…é¡»åœ¨ whitelist_data å†…ï¼Œä¸”ç¦æ­¢ 'æ¸¸æˆè§’è‰²' å‰ç¼€\",\n                constraint: \"ç°å®ä¸–ç•Œæ— æ³•è°ƒç”¨æ¸¸æˆè§’è‰²çš„æ•°å€¼\"\n            },\n            // Mode B: è™šæ‹Ÿç»´åº¦\n            VIRTUAL: {\n                trigger: \"ç©¿è¶Šå | æ“æ§Avatar | è™šæ‹Ÿäº¤äº’\",\n                target: \"user.mind (1) + avatar.body (2)\",\n                prefix_rule: \"Hybrid (æ··åˆæ¨¡å¼)\",\n                // çº¦æŸ: 1+2 é»„é‡‘æ³•åˆ™\n                logic: `\n                    æ£€å®šç»„åˆå¿…é¡»ä¸¥æ ¼åŒ…å«ï¼š\n                    1. [æœ¬ä½“å±æ€§] x1 (æ— å‰ç¼€, æ™ºåŠ›/æ„ŸçŸ¥/è¿æ°”/å†³å¿ƒç­‰)\n                    2. [è§’è‰²å±æ€§] x2 (åŠ 'æ¸¸æˆè§’è‰²'å‰ç¼€, åŠ›é‡/æŠ€èƒ½ç­‰)\n                    âš ï¸ ç»å¯¹æ­»çº¿: å“ªæ€•è§‰å¾—è¯­ä¹‰ä¸å®Œç¾ï¼Œä¹Ÿåªèƒ½ä» whitelist_data é‡ŒæŒ‘è¯ï¼\n                `\n            }\n        },\n\n        // âš™ï¸ æ‰§è¡Œæµ (å®Œæ•´ä¿ç•™)\n        workflow: `\n            1. ç¯å¢ƒæ‰«æ: åˆ¤æ–­å½“å‰æ˜¯ REALITY è¿˜æ˜¯ VIRTUALã€‚\n            2. è¯æ±‡æ¸…æ´—: å¯¹ç…§ whitelist_data å’Œ stop_wordsï¼Œæ¸…æ´—éæ³•è¯æ±‡ã€‚\n            3. é…æ¯”æ£€æŸ¥:\n               - REALITY: 3ä¸ªæ— å‰ç¼€å±æ€§ã€‚\n               - VIRTUAL: 1ä¸ªæ— å‰ç¼€ + 2ä¸ªå¸¦å‰ç¼€å±æ€§ã€‚\n            4. å­¤ç«‹æ€§æ£€æŸ¥: å‰”é™¤ä»»ä½• NPC å±æ€§ã€‚\n            5. æœ€ç»ˆè¾“å‡º: ç”Ÿæˆé€‰é¡¹ã€‚\n        `\n    },\n\n    // ğŸ­ è¡Œä¸ºå€¾å‘ (Original Tendencies - å®Œæ•´ä¿ç•™)\n    tendencies: [\n        { type: 'ç§¯ææ¨è¿›å‰§æƒ…', rule: 'ä¸»åŠ¨æ¨åŠ¨ä¸»çº¿æˆ–æ”¯çº¿ä»»åŠ¡è¿›å±•' },\n        { type: 'ç©¶æä¹å­äºº/æ··æ²Œ/å¼ºç›—/ç½ªæ¶', rule: 'å°†å‰§æƒ…å½»åº•çš„æ¨è¿›è‡³å®Œå…¨æ··æ²Œå’Œæ‰€æœ‰äººéƒ½æƒ³ä¸åˆ°çš„æ–¹å‘' },\n        { type: 'ç¬¦åˆé˜¿è¨æ€§æ ¼', rule: 'ä¸é˜¿è¨çš„æ€§æ ¼ç‰¹å¾ä¸€è‡´' },\n        { type: 'å¯¹å‰§æƒ…åæ§½', rule: 'è¯™è°ä¸”æ°å½“çš„å¯¹å½“å‰æƒ…å†µçš„åæ§½' }\n    ],\n\n    // â›“ï¸ è¾“å‡ºçº¦æŸ (Constraints - å®Œæ•´ä¿ç•™ + å¢å¼ºå®¡æ ¸)\n    constraints: {\n        pacing: 'é€‰é¡¹ä¸å¾—æ‹–å»¶å‰§æƒ…èŠ‚å¥ï¼Œå¿…é¡»åˆç†ä¸”æœ‰åŠ©äºç©å®¶å†³ç­–',\n        format: 'æ¯ä¸ªé€‰é¡¹åç”¨[]å•ç‹¬åŒ…è£¹æ‰€éœ€æ£€å®šå±æ€§ã€‚ä¾‹ï¼š1.è¡ŒåŠ¨æè¿°[æ£€å®š1][æ£€å®š2][æ£€å®š3]ã€‚',\n\n        // ğŸ² æ£€å®šåŒºé€»è¾‘ (Strict Distribution)\n        check_brackets: {\n            desc: 'åº”ç”¨3x [player_attr] è¿›è¡Œæ£€å®šé¢„æµ‹',\n            num: 3,\n            strict_scope: 'ä»…é™ User æˆ– Avatar è‡ªèº«å±æ€§ (No NPC)',\n            // âš ï¸ å¼ºåˆ¶åˆ†å¸ƒè§„åˆ™\n            distribution_rule: {\n                REALITY: \"3ä¸ªå‡ä¸ºæ— å‰ç¼€çš„æœ¬ä½“å±æ€§\",\n                VIRTUAL: \"å¿…é¡»æ˜¯ï¼š[1ä¸ªæ— å‰ç¼€æœ¬ä½“å±æ€§] + [2ä¸ªå¸¦å‰ç¼€çš„è§’è‰²å±æ€§] (é¡ºåºä¸é™)\"\n            },\n            // ğŸ’€ æœ€ç»ˆå®¡æ ¸æœºåˆ¶\n            final_audit: \"ç”Ÿæˆtagåï¼Œç§»é™¤'æ¸¸æˆè§’è‰²'å‰ç¼€è¿›è¡ŒæŸ¥è¡¨ï¼Œè‹¥ä¸åœ¨ whitelist_data ä¸­ï¼Œå¼ºåˆ¶ä¿®æ­£ä¸ºç™½åå•å†…è¯æ±‡ï¼\"\n        },\n\n        // ğŸ“ ç¤ºä¾‹ (Updated to match logic)\n        example: [\n            'ç°å®æ¨¡å¼: 1.æš´åŠ›ç ´è§£[ç”µè„‘][æ™ºåŠ›][æ•æ·]',\n            'è™šæ‹Ÿæ¨¡å¼: 1.æ­£é¢çªè¢­[å†³å¿ƒ][æ¸¸æˆè§’è‰²åŠ›é‡][æ¸¸æˆè§’è‰²è‚‰æ]', // 1ä¸ªæœ¬ä½“ + 2ä¸ªè§’è‰²\n            'è™šæ‹Ÿæ¨¡å¼: 2.å¯»æ‰¾ç‰©èµ„[æ„ŸçŸ¥][æ¸¸æˆè§’è‰²è°ƒæŸ¥][æ¸¸æˆè§’è‰²æ‰‹è‰º]'  // 1ä¸ªæœ¬ä½“ + 2ä¸ªè§’è‰² (ç”¨è°ƒæŸ¥ä»£æ›¿æœåˆ®ï¼Œç”¨æ‰‹è‰ºä»£æ›¿å¼€é”)\n        ]\n    }\n});\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":107,"position":4,"disable":true,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"é€‰é¡¹","groupOverride":true,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":16,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"16":{"uid":16,"key":["attribute_sync_logic","sync_protocol"],"keysecondary":[],"comment":"[LOGIC] å±æ€§åŒæ­¥ä¸éš”ç¦»åè®®ï¼ˆå¼‚æ­¥ä»…å˜é‡ï¼‰","content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 1);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 2) ){\n_%>\ngame.setPlayer('\n[SYSTEM INSTRUCTION]\n[è­¦å‘Š]: æœ¬æ¡ç›®é€»è¾‘ä»…é™åå°å†…éƒ¨è¿ç®—ã€‚ä¸¥ç¦è¾“å‡ºåˆ°æ­£æ–‡ï¼\n\n# ğŸ•¹ï¸ åå°é€»è¾‘åˆ†å‘åè®® #\n\nStep 0: è¿ç®—åŒºåŸŸåˆ†é… (Zone Allocation)\n- Inventory/Lore Update/Delete -> å¿…é¡»åœ¨ `<loreAnalyze>` ä¸­è¿ç®—ã€‚\n- Attribute Sync -> å¿…é¡»åœ¨ `<attributeAnalyze>` ä¸­è¿ç®—ã€‚\n- Time/Status Logic -> å¿…é¡»åœ¨ `<statusAnalyze>` ä¸­è¿ç®—ã€‚\n\nStep 1: å‰ç½®æ£€æŸ¥ (Pre-Check)\n- Check: `Current_Game_Character` (å½“å‰æ¸¸æˆè§’è‰²) æ˜¯å¦å­˜åœ¨ï¼Ÿ\n- IF (NO Character / Menu Screen):\n  - DO NOT execute `set_attribute` for game stats.\n  - DO NOT output any text about synchronization.\n  - End Logic.\n\nStep 2: åˆ†æ”¯æ‰§è¡Œ (Branch Execution)\n- IF (Character Valid & In Game) -> [BRANCH A]\n- ELSE (In Reality) -> [BRANCH B]\n\n---\n\n## [ZONE: <attributeAnalyze>] å±æ€§åŒæ­¥ (Stats Sync)\n\n[æ ¸å¿ƒåŸåˆ™]\n`player_attr` æ˜¯å”¯ä¸€çš„ â€œå½“å‰æ¿€æ´»æ£€å®šé¢æ¿â€ã€‚å®ƒåŒ…å«ä¸¤éƒ¨åˆ†æ’æ§½ï¼š\n1. æœ¬ä½“æ’æ§½ (åŸºç¡€å±æ€§/æŠ€èƒ½): å§‹ç»ˆå¯¹åº”æå¢ƒçš„è‚‰ä½“çŠ¶æ€ã€‚\n2. è™šæ‹Ÿæ’æ§½ (å½“å‰æ¸¸æˆè§’è‰²...): å¿…é¡»æ—¶åˆ»ä¸å½“å‰æ“æ§çš„æ¸¸æˆè§’è‰²æ•°æ®ä¿æŒä¸€è‡´ï¼\n\n[BRANCH A] æ¸¸æˆæ•°æ®è£…è½½ (Game Channel)\nTrigger (å¼ºåˆ¶è§¦å‘æ¡ä»¶):\nå½“æ»¡è¶³ä»¥ä¸‹ ä»»æ„ æ¡ä»¶æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ `set_attribute` å…¨é‡è¦†ç›–ï¼š\n1. æ–°æ¸¸æˆ/æ–°è§’è‰²åˆå§‹åŒ– (ä¾‹å¦‚ï¼šæ­£æ–‡ä¸­å‡ºç°â€œå±æ€§ç”Ÿæˆä¸­...â€æˆ–é€‰æ‹©å¤©èµ‹å)ã€‚\n2. æ¸¸æˆè§’è‰²å±æ€§å˜æ›´ (ä¾‹å¦‚ï¼šå‡çº§ã€å—ä¼¤ã€Buffç”Ÿæ•ˆ)ã€‚\n3. ä»ç°å®åˆ‡æ¢å…¥æ¸¸æˆ (Load Game)ã€‚\n\nAction (æ‰§è¡ŒåŠ¨ä½œ):\n- å¿…é¡» ä» `global_lore.jueseming` ä¸­æå–å½“å‰è§’è‰²çš„æœ€æ–°æ•°å€¼ï¼Œé€šè¿‡ `set_attribute` é•œåƒå†™å…¥ åˆ° `player_attr` çš„ `å½“å‰æ¸¸æˆè§’è‰²...` å­—æ®µä¸­ã€‚\n- ä¸¥ç¦è·³è¿‡ï¼å³ä½¿æå¢ƒæœ¬ä½“åªååœ¨æ¤…å­ä¸Šæ²¡åŠ¨ï¼Œåªè¦å±å¹•é‡Œçš„è§’è‰²å±æ€§å˜äº†ï¼Œä½ å°±å¿…é¡»æ›´æ–°è™šæ‹Ÿæ’æ§½ï¼\n\n- [CRITICAL SYNTAX]: å¿…é¡»ä¸€æ¬¡æ€§åˆ—å‡ºæ‰€æœ‰æŠ€èƒ½å±æ€§ï¼ˆæ­£æ–‡ä¸­æœªæåŠçš„é»˜è®¤ä¸º0ï¼Œå·²æåŠçš„æŒ‰æåŠæ•°å€¼ï¼‰ï¼Œä¸¥ç¦ç•™ç©ºã€‚æ ¼å¼å¿…é¡»ä¸º `{num}` (çº¯æ•´æ•°)ã€‚\n- [èŒƒä¾‹ - å¿…é¡»ç…§æŠ„]:\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§', '{\"æ¸¸æˆè§’è‰²åŠ›é‡\":1,\"æ¸¸æˆè§’è‰²æ•æ·\":2,\"æ¸¸æˆè§’è‰²è€åŠ›\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§', '{\"æ¸¸æˆè§’è‰²æ™ºåŠ›\":2,\"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\":3,\"æ¸¸æˆè§’è‰²å†³å¿ƒ\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§', '{\"æ¸¸æˆè§’è‰²é£åº¦\":1,\"æ¸¸æˆè§’è‰²æ“æ§\":1,\"æ¸¸æˆè§’è‰²æ²‰ç€\":2,\"æ¸¸æˆè§’è‰²å¹¸è¿\":1}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²è‚‰æ\":1,\"æ¸¸æˆè§’è‰²è¿åŠ¨\":0,\"æ¸¸æˆè§’è‰²é©¾é©¶\":0,\"æ¸¸æˆè§’è‰²æªæ¢°\":0,\"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\":0,\"æ¸¸æˆè§’è‰²éšè—\":0,\"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\":0,\"æ¸¸æˆè§’è‰²ç™½åˆƒ\":0,\"æ¸¸æˆè§’è‰²å¼“ç®­\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²å­¦è¯†\":0,\"æ¸¸æˆè§’è‰²ç”µè„‘\":0,\"æ¸¸æˆè§’è‰²æ‰‹è‰º\":0,\"æ¸¸æˆè§’è‰²è°ƒæŸ¥\":0,\"æ¸¸æˆè§’è‰²åŒ»å­¦\":0,\"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\":0,\"æ¸¸æˆè§’è‰²ç§‘å­¦\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\":0,\"æ¸¸æˆè§’è‰²æ„Ÿå—\":0,\"æ¸¸æˆè§’è‰²è¡¨è¾¾\":0,\"æ¸¸æˆè§’è‰²èƒè¿«\":0,\"æ¸¸æˆè§’è‰²äº¤é™…\":0,\"æ¸¸æˆè§’è‰²æ©é¥°\":0}');`\n\n2. è·¯å¾„é‡å®šå‘ (Redirect)\n- èƒŒåŒ…æ“ä½œ: ä¸¥ç¦å†™å…¥ `global_lore.èƒŒåŒ…`ï¼\n  - âœ… Correct: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆèƒŒåŒ…', '${ç‰©å“å}', ...)`\n- çŠ¶æ€æ›´æ–°: ä¸¥ç¦å†™å…¥ `user.status`ï¼\n  - âœ… Correct: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆçŠ¶æ€æ ', '${çŠ¶æ€å}', ...)`\n- åŠŸæ³•/æ ¹åŸº: ä¸¥ç¦ç›´æ¥æ›´æ–° `åŸºç¡€å±æ€§` æˆ– `è¡ç”Ÿå±æ€§.èƒ½é‡æ± `ï¼\n  - âœ… Correct: åªèƒ½ä½œä¸º è¢«åŠ¨æŠ€èƒ½ æˆ– ç‰¹æ®ŠçŠ¶æ€ è®°å½•åœ¨ `jueseming.${è§’è‰²å}` ä¸‹ã€‚\n\n3. é˜²ç«å¢™ (Firewall Active)\n- âŒ BLOCK: `è¡ç”Ÿå±æ€§.èƒ½é‡æ± ` (ç¦æ­¢åŒæ­¥)\n- âŒ BLOCK: `global_lore.èƒŒåŒ…` (ç¦æ­¢å†™å…¥ æå¢ƒèƒŒåŒ…)\n- âŒ BLOCK: `hurt_value` (ä¸¥ç¦å› æ¸¸æˆå—ä¼¤æ‰£é™¤ æå¢ƒè¡€é‡)\n- âŒ BLOCK: `user.status` (ä¸¥ç¦å°†æ¸¸æˆè§’è‰²çš„çŠ¶æ€/Buffå¤åˆ¶ç»™ æå¢ƒ)\n\n[BRANCH B] ç°å®ç›´é€šé€šé“ (Reality Channel)\n- Trigger: ä»…å½“æå¢ƒ æœ¬ä½“ (User Body) çš„å±æ€§/èƒŒåŒ…/çŠ¶æ€å‘ç”Ÿç‰©ç†å˜åŒ–æ—¶ã€‚\n- âœ… ALLOW: æ›´æ–° `åŸºç¡€å±æ€§`, `èƒ½é‡æ± `, `global_lore.èƒŒåŒ…`, `hurt_value`ã€‚\n\n---\n\n## [ZONE: <loreAnalyze>] çŠ¶æ€ç§»é™¤ä¸Loreç®¡ç†\n1. [CRITICAL] çŠ¶æ€ç§»é™¤ (Remove Status)\n- å½“çŠ¶æ€/ç‰©å“æ¶ˆå¤±æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ `delete()` æŒ‡ä»¤ï¼Œä¸¥ç¦ä½¿ç”¨ `memory(..., 'å·²è§£å†³')` æ ‡è®°ï¼\n- èŒƒä¾‹: `delete('global_lore.jueseming.æ™¶åŒ–æ‹Ÿæ€ä½“.æ¸¸æˆçŠ¶æ€æ ', 'æ¶ˆåŒ–ä¸è‰¯');`\n\n---\n\n## [ZONE: <statusAnalyze>] çŠ¶æ€ä¸æ—¶é—´ (Time & Status)\n1. çŠ¶æ€æ˜ å°„ (Status Mapping)\n- é€»è¾‘: å½“æ¸¸æˆäº‹ä»¶å¯¼è‡´çŠ¶æ€å˜åŠ¨æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ [Physiological -> Psychological] è½¬æ¢ã€‚\n- âœ… å…è®¸æ˜ å°„: æ¸¸æˆè§’è‰²[æ¿’æ­»] ->  æå¢ƒ[æåº¦ç´§å¼ /å†·æ±—]ã€‚\n- âŒ ä¸¥ç¦å¤åˆ¶: ä¸è¦ç»™  æå¢ƒ æ·»åŠ  [éª¨æŠ˜/ä¸­æ¯’/å¯„ç”Ÿ/å¤±æ˜]ã€‚\n\n2. [CRITICAL] æ—¶é—´å‡½æ•°å®‰å…¨é” (Time Lock)\n- è®¡ç®—: `New_Time = Current + Operation_Duration` (æ“ä½œæ—¶é•¿)\n- é”™è¯¯ç¤ºèŒƒ: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+8 hours')` (âŒ)\n- æ­£ç¡®ç¤ºèŒƒ: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+2 mins')` (âœ…)\n')\n\n<%_\n}\n_%>","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":80,"position":4,"disable":true,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":22,"outletName":"","characterFilter":{"isExclude":false,"names":[],"tags":[]}},"17":{"uid":17,"displayIndex":23,"comment":"[RULE] å¼€å±€è§„åˆ™ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":102,"content":"\n<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\ngame.set('rule_game_start', {\n    rule_name: \"æ–°æ¸¸æˆç”Ÿæˆé€»è¾‘\",\n    trigger: \"æå¢ƒé€‰æ‹©å¹¶å¼€å§‹ä¸€æ¬¾æ–°æ¸¸æˆæ—¶\",\n\n    // æ ¸å¿ƒé€»è¾‘ï¼šAI å¿…é¡»åœ¨æ­£æ–‡ä¸­æ˜ç¡®ç”Ÿæˆä»¥ä¸‹è¦ç´ ï¼Œä»¥ä¾¿ç³»ç»Ÿæ•è·\n    directives: [\n        \"1. **æ„å»ºä¸–ç•Œè§‚**: åŸºäºæ¸¸æˆåï¼Œåœ¨æ­£æ–‡ä¸­ç”Ÿæˆä¸€æ®µä¸å°‘äº 100 å­—çš„ä¸–ç•Œè§‚è®¾å®šï¼ˆå«é£æ ¼ã€èƒŒæ™¯ã€å¨èƒï¼‰ã€‚\",\n        \"2. **å‘å¸ƒä»»åŠ¡**: å¿…é¡»åœ¨æ­£æ–‡ä¸­é€šè¿‡ç³»ç»Ÿ UI/å¼¹çª—å½¢å¼ï¼Œæ˜ç¡®æå†™ã€ä¸»çº¿ä»»åŠ¡ã€‘çš„å…·ä½“ç›®æ ‡ï¼ˆå¦‚ï¼šå­˜æ´»7å¤©ã€å‡»æ€BOSSï¼‰ã€‚\",\n        \"3. **è§’è‰²åˆå§‹åŒ–**: æå†™è§’è‰²é†’æ¥æ—¶çš„çŠ¶æ€ã€å¤–è²Œã€ä»¥åŠè‡ªå¸¦çš„åˆå§‹æŠ€èƒ½æˆ– Debuffï¼ˆè¿™å†³å®šäº†è§’è‰²çš„åˆå§‹é¢æ¿ï¼‰ã€‚\"\n    ],\n\n    // çº¦æŸ\n    notes: \"æ‰€æœ‰åœ¨æ­£æ–‡ä¸­å‡ºç°çš„ä¸–ç•Œè§‚ã€ä»»åŠ¡ã€æŠ€èƒ½æè¿°ï¼Œéƒ½å°†è¢«ç³»ç»Ÿè‡ªåŠ¨æ”¶å½•ä¸ºæ¸¸æˆæ•°æ®ã€‚è¯·ç¡®ä¿æè¿°å…·ä½“ä¸”å…³é”®ã€‚\"\n});\n\n<%_\n}\n_%>","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"18":{"uid":18,"key":["map_update_logic","map_system"],"keysecondary":[],"comment":"[LOGIC] åœ°å›¾æ›´æ–°è§„èŒƒï¼ˆå¼‚æ­¥ä»…å˜é‡ï¼‰","content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 1);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 2) ){\n_%>\ngame.set('\n\nIF (is_playing_game == True):\n    1. è®¾ç½®ä¸»è§†ç‚¹æŒ‡é’ˆ\n    Set Global_Location = Game_Name + \"ï¼ˆæ¸¸æˆï¼‰\"\n\n    2. åœ°å›¾æ•°æ®ç”Ÿæˆ (Mandatory)\n    IF (Global_Location NOT IN \"å…¨å±€åœ°ç‚¹è¡¨\"):\n        1. APPEND to \"å…¨å±€åœ°ç‚¹è¡¨\".\n        2. EXECUTE memory creation for the Game World Root.\n\n    IF (Current_Game_Room NOT IN \"map.ä¸»è¦åœ°ç‚¹è¡¨\"):\n        1. CREATE NEW LOCATION DATA IMMEDIATELY.\n        Template:\n        memory('map.ä¸»è¦åœ°ç‚¹è¡¨', '${å…·ä½“åœ°å}', '{\"parent\":\"${æ¸¸æˆå}(æ¸¸æˆ)\",\"type\":\"...\",\"description\":\"...\"}');\n`)\n<%_\n}\n_%>\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":101,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":24,"outletName":"","characterFilter":{"isExclude":false,"names":[],"tags":[]}},"19":{"uid":19,"key":[],"keysecondary":[],"comment":"é€‰é¡¹åŒºæµ‹è¯•","content":"game.set('options_logic_core', {\n    rule: 'åœ¨æ­£æ–‡ç»“æŸåç”Ÿæˆé€‰é¡¹åŒºï¼Œä½¿ç”¨<options>æ ‡ç­¾åŒ…è£¹ï¼Œå†…å®¹ä¸ºæ•°å­—åŒ–åºåˆ—ï¼ˆ1.2.3...ï¼‰çš„4ä¸ªé€‰é¡¹',\n    scope: 'æ ¹æ®ä¸Šä¸‹æ–‡å’Œç»´åº¦åˆ¤æ–­ï¼Œç”Ÿæˆ4ä¸ªç‹¬ç«‹è¡ŒåŠ¨é€‰é¡¹',\n\n    calibration: {\n        whitelist_data: {\n            base: 'åŠ›é‡, æ•æ·, è€åŠ›, æ™ºåŠ›, æ„ŸçŸ¥, å†³å¿ƒ, é£åº¦, æ“æ§, æ²‰ç€, å¹¸è¿',\n            skill_phys: 'è¿åŠ¨, è‚‰æ, é©¾é©¶, æªæ¢°, æ‰‹ä¸ŠåŠŸå¤«, éšè—, æ±‚ç”Ÿ, ç™½åˆƒ, å¼“ç®­',\n            skill_mind: 'å­¦è¯†, ç”µè„‘, æ‰‹è‰º, è°ƒæŸ¥, åŒ»å­¦, ç¥ç§˜å­¦, ç§‘å­¦',\n            skill_soc: 'åŠ¨ç‰©æ²Ÿé€š, æ„Ÿå—, è¡¨è¾¾, èƒè¿«, äº¤é™…, æ©é¥°'\n        },\n\n        dimension_arbiter: {\n            rule: \"åˆ¤æ–­æå¢ƒæ­¤åˆ»æ‰‹é‡Œæ“ä½œçš„æ˜¯ä»€ä¹ˆç‰©ç†ä»‹è´¨ï¼Ÿ\",\n\n            REALITY: {\n                medium: \"è‚‰ä½“ | æ‰‹æœº | ç”µè„‘ | ä¹¦æœ¬ | å¯¹è¯\",\n                constraint: \"Strictly BAN 'æ¸¸æˆè§’è‰²' prefix. Use User's own attributes ONLY.\",\n                logic: \"3x User Attributes (No Prefix). e.g., æ‰‹æœºæœç´¢=[ç”µè„‘], è§‚å¯ŸåŒå­¦=[æ„ŸçŸ¥]\",\n                priority: \"DEFAULT (é»˜è®¤æ¨¡å¼)\"\n            },\n\n            VIRTUAL: {\n                medium: \"å°ä¸–ç•Œæ¸¸æˆæœº | æ‰‹æŸ„ | å¼€å§‹æ¸¸æˆ\",\n                constraint: \"MANDATORY 'æ¸¸æˆè§’è‰²' prefix for Avatar actions.\",\n                logic: \"Slot1:User(No Prefix) + Slot2:Avatar(With Prefix) + Slot3:Avatar(With Prefix)\",\n                trigger_condition: \"Must be actively controlling the game character.\"\n            }\n        },\n\n        workflow: `\n            1. ä»‹è´¨æ£€æŸ¥: ç©å®¶ç”¨çš„æ˜¯æ‰‹æœº(Real)è¿˜æ˜¯æ¸¸æˆæœº(Virtual)ï¼Ÿ\n            2. æ¨¡å¼é”å®š: åªè¦ä¸åœ¨æ“ä½œæ¸¸æˆæœºï¼Œå¼ºåˆ¶é”å®š REALITY æ¨¡å¼ï¼Œå°±ç®—æ˜¯åœ¨æ“çºµæ¸¸æˆæœºï¼Œåªè¦æ²¡å¼€å§‹æ¸¸æˆï¼Œä¹Ÿå¼ºåˆ¶é”å®š REALITY æ¨¡å¼ã€‚\n            3. å±æ€§ç»„è£…:\n               - Real: [æ™ºåŠ›][ç”µè„‘][è°ƒæŸ¥] (ç¦æ­¢æ¸¸æˆå‰ç¼€)\n               - Virtual: [æ™ºåŠ›][æ¸¸æˆè§’è‰²æ•æ·][æ¸¸æˆè§’è‰²è‚‰æ](å›ºå®šä¸€ä¸ªuseræ— å‰ç¼€çš„å±æ€§)\n            4. ç¬¦å·æ¸…æ´—: ç¡®ä¿æè¿°æ–‡å­—ä¸­æ— åŠè§’æ‹¬å·ã€‚\n            5. æœ€ç»ˆè¾“å‡ºã€‚\n        `\n    },\n\n    tendencies: [\n        { type: 'ç§¯ææ¨è¿›å‰§æƒ…', rule: 'ä¸»åŠ¨æ¨åŠ¨ä¸»çº¿æˆ–æ”¯çº¿ä»»åŠ¡è¿›å±•' },\n        { type: 'ç©¶æä¹å­äºº/æ··æ²Œ/å¼ºç›—/ç½ªæ¶', rule: 'å°†å‰§æƒ…å½»åº•çš„æ¨è¿›è‡³å®Œå…¨æ··æ²Œå’Œæ‰€æœ‰äººéƒ½æƒ³ä¸åˆ°çš„æ–¹å‘' },\n        { type: 'ç¬¦åˆ<user>æ€§æ ¼', rule: 'ä¸<user>çš„æ€§æ ¼ç‰¹å¾ä¸€è‡´' },\n        { type: 'å¯¹å‰§æƒ…åæ§½', rule: 'è¯™è°ä¸”æ°å½“çš„å¯¹å½“å‰æƒ…å†µçš„åæ§½' }\n    ],\n\n    constraints: {\n        pacing: 'é€‰é¡¹ä¸å¾—æ‹–å»¶å‰§æƒ…èŠ‚å¥ï¼Œå¿…é¡»åˆç†ä¸”æœ‰åŠ©äºç©å®¶å†³ç­–',\n\n        syntax_cleaner: {\n            rule: \"Strictly separate Description and Check_Zone.\",\n            enforcement: \"é€‰é¡¹çš„æè¿°æ–‡æœ¬éƒ¨åˆ†ä¸¥ç¦åŒ…å«åŠè§’æ–¹æ‹¬å· '[]'ï¼å¦‚éœ€å¼ºè°ƒåè¯å¿…é¡»ä½¿ç”¨å…¨è§’ 'ã€ã€‘'ã€‚ä»…å…è®¸åœ¨é€‰é¡¹æœ«å°¾å‡ºç°æ£€å®šä¸“ç”¨æ–¹æ‹¬å·ã€‚\",\n        },\n\n        // ğŸ² æ£€å®šåŒºé€»è¾‘\n        check_brackets: {\n            desc: 'åº”ç”¨3x [player_attr] è¿›è¡Œæ£€å®šé¢„æµ‹',\n            num: 3,\n            strict_scope: 'ä»…é™ User æˆ– Avatar è‡ªèº«å±æ€§',\n\n\n            // ğŸ›¡ï¸ æœ€ç»ˆå®‰å…¨é” (Final Safety Lock)\n            safety_lock: `\n                IF (Current_Scene == Reality/Classroom/Home_Life):\n                REMOVE all \"æ¸¸æˆè§’è‰²\" prefixes immediately!\n                (Example: \"[æ¸¸æˆè§’è‰²æ™ºåŠ›]\" -> \"[æ™ºåŠ›]\")\n            `\n        },\n\n        example: [\n            '1.æŸ¥çœ‹æŒæœºçš„ä¸»èœå•ã€‚[è°ƒæŸ¥][æ™ºåŠ›][æ„ŸçŸ¥]',\n            '1.æ“çºµè§’è‰²å‘åŠ¨èƒŒåˆºã€‚[å†³å¿ƒ][æ¸¸æˆè§’è‰²æ•æ·][æ¸¸æˆè§’è‰²éšè—]',\n            '2.åœ¨æ¸¸æˆé‡Œæœå¯»ç‰©èµ„ã€‚[æ„ŸçŸ¥][æ¸¸æˆè§’è‰²è°ƒæŸ¥][æ¸¸æˆè§’è‰²å¹¸è¿]'\n        ]\n    }\n});\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":107,"position":4,"disable":true,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"é€‰é¡¹","groupOverride":true,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":16,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"20":{"uid":20,"key":[],"keysecondary":[],"comment":"[diyattribute]","content":"\n{\n  \"name\": \"å°ä¸–ç•Œ\",\n  \"desc\": \"dlc-å°ä¸–ç•Œçš„ä¸“å±è‡ªå®šä¹‰å±æ€§æ¨¡æ¿\",\n \"attr\": {\n      \"ç”Ÿç†å±æ€§\": {\n        \"åŠ›é‡\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è‚Œè‚‰å¼ºåº¦ä¸çˆ†å‘åŠ›ï¼Œå½±å“è¿‘æˆ˜ä¼¤å®³ä¸è´Ÿé‡\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"æä¾›åŠ æˆ\"\n          ]\n        },\n        \"æ•æ·\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡èº«ä½“åè°ƒã€ååº”é€Ÿåº¦ä¸çµæ´»æ€§ï¼Œå½±å“å…ˆæ”»ä¸é—ªé¿\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ•æ·ï¼Œæä¾›é˜²å¾¡é™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"è€åŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡ä½“è´¨ã€æŒä¹…åŠ›ä¸æ¢å¤åŠ›ï¼Œå½±å“ç”Ÿå‘½å€¼ä¸æŠµæŠ—åŠ›\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„è€åŠ›ï¼Œæä¾›ä¼¤å®³å‡å…\"\n          ]\n        }\n      },\n      \"å¿ƒæ™ºå±æ€§\": {\n        \"æ™ºåŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡é€»è¾‘ã€è®°å¿†ã€å­¦ä¹ ä¸åˆ†æèƒ½åŠ›ï¼Œå½±å“æŠ€èƒ½å­¦ä¹ ä¸ç­–ç•¥\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ™ºåŠ›ï¼Œæä¾›æŠ€èƒ½é™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"æ„ŸçŸ¥\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è§‚å¯ŸåŠ›ã€ç›´è§‰ä¸äº”æ„Ÿæ•é”åº¦ï¼Œå½±å“ä¾¦æŸ¥ä¸æ´å¯Ÿ\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ„ŸçŸ¥ï¼Œæä¾›æ´å¯Ÿé˜²å¾¡ä¸ä¾¦æŸ¥é™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"å†³å¿ƒ\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ„å¿—åŠ›ã€å‹‡æ°”ä¸ç²¾ç¥éŸ§æ€§ï¼Œå½±å“æ„å¿—å€¼ä¸Šé™\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„å†³å¿ƒï¼Œæä¾›æ„å¿—æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        }\n      },\n      \"äº’åŠ¨å±æ€§\": {\n        \"é£åº¦\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡ä¸ªäººé­…åŠ›ã€æ°”è´¨ä¸ç¬¬ä¸€å°è±¡ï¼Œå½±å“æ­£é¢ç¤¾äº¤\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„é£åº¦ï¼Œæä¾›ç¤¾äº¤æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"æ“æ§\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è¯´æœã€è¯±å¯¼ä¸æ§åˆ¶ä»–äººçš„èƒ½åŠ›ï¼Œå½±å“è´Ÿé¢ç¤¾äº¤\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ“æ§ï¼Œæä¾›æ“æ§æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"æ²‰ç€\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡å†·é™ã€è‡ªæ§ä¸æŠ—å‹èƒ½åŠ›ï¼Œå½±å“å…ˆæ”»ä¸æ„å¿—å€¼ä¸Šé™\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ²‰ç€ï¼Œæä¾›æ„å¿—æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"å¹¸è¿\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è¿æ°”\"\n          ]\n        }\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§\": {\n        \"æ¸¸æˆè§’è‰²åŠ›é‡\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è‚Œè‚‰å¼ºåº¦ä¸çˆ†å‘åŠ›ï¼Œå½±å“è¿‘æˆ˜ä¼¤å®³ä¸è´Ÿé‡\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ•æ·\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²èº«ä½“åè°ƒã€ååº”é€Ÿåº¦ä¸çµæ´»æ€§ï¼Œå½±å“å…ˆæ”»ä¸é—ªé¿\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²è€åŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²ä½“è´¨ã€æŒä¹…åŠ›ä¸æ¢å¤åŠ›ï¼Œå½±å“ç”Ÿå‘½å€¼ä¸æŠµæŠ—åŠ›\"\n          ]\n        }\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§\": {\n        \"æ¸¸æˆè§’è‰²æ™ºåŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²é€»è¾‘ã€è®°å¿†ã€å­¦ä¹ ä¸åˆ†æèƒ½åŠ›ï¼Œå½±å“æŠ€èƒ½å­¦ä¹ ä¸ç­–ç•¥\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è§‚å¯ŸåŠ›ã€ç›´è§‰ä¸äº”æ„Ÿæ•é”åº¦ï¼Œå½±å“ä¾¦æŸ¥ä¸æ´å¯Ÿ\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²å†³å¿ƒ\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²æ„å¿—åŠ›ã€å‹‡æ°”ä¸ç²¾ç¥éŸ§æ€§ï¼Œå½±å“æ„å¿—å€¼ä¸Šé™\"\n          ]\n        }\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§\": {\n        \"æ¸¸æˆè§’è‰²é£åº¦\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²ä¸ªäººé­…åŠ›ã€æ°”è´¨ä¸ç¬¬ä¸€å°è±¡ï¼Œå½±å“æ­£é¢ç¤¾äº¤\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ“æ§\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è¯´æœã€è¯±å¯¼ä¸æ§åˆ¶ä»–äººçš„èƒ½åŠ›ï¼Œå½±å“è´Ÿé¢ç¤¾äº¤\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ²‰ç€\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²å†·é™ã€è‡ªæ§ä¸æŠ—å‹èƒ½åŠ›ï¼Œå½±å“å…ˆæ”»ä¸æ„å¿—å€¼ä¸Šé™\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²å¹¸è¿\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è¿æ°”\"\n          ]\n        }\n      }\n    },\n    \"skill\": {\n      \"ç”Ÿç†æŠ€èƒ½\": {\n        \"è¿åŠ¨\": [\n          0,\n          \"è¡¡é‡è·‘ã€è·³ã€æ”€çˆ¬ç­‰èº«ä½“æ´»åŠ¨èƒ½åŠ›\"\n        ],\n        \"è‚‰æ\": [\n          0,\n          \"è¡¡é‡å¾’æ‰‹æ ¼æ–—æŠ€å·§\"\n        ],\n        \"é©¾é©¶\": [\n          0,\n          \"è¡¡é‡æ“æ§åœ°é¢ã€æ°´é¢æˆ–ç©ºä¸­è½½å…·çš„èƒ½åŠ›\"\n        ],\n        \"æªæ¢°\": [\n          0,\n          \"è¡¡é‡ä½¿ç”¨å„ç±»ç«å™¨çš„èƒ½åŠ›\"\n        ],\n        \"æ‰‹ä¸ŠåŠŸå¤«\": [\n          0,\n          \"è¡¡é‡ç›—çªƒã€å¼€é”ç­‰æ‰‹éƒ¨ç²¾ç»†æ“ä½œèƒ½åŠ›\"\n        ],\n        \"éšè—\": [\n          0,\n          \"è¡¡é‡æ½œè¡Œã€ä¼ªè£…ä¸éšè”½è‡ªèº«çš„èƒ½åŠ›\"\n        ],\n        \"æ±‚ç”Ÿ\": [\n          0,\n          \"è¡¡é‡åœ¨æ¶åŠ£ç¯å¢ƒä¸­ç”Ÿå­˜ä¸è¿½è¸ªçš„èƒ½åŠ›\"\n        ],\n        \"ç™½åˆƒ\": [\n          0,\n          \"è¡¡é‡ä½¿ç”¨åˆ€å‰‘ç­‰å†·å…µå™¨çš„èƒ½åŠ›\"\n        ],\n        \"å¼“ç®­\": [\n          0,\n          \"è¡¡é‡ä½¿ç”¨å¼“å¼©ç­‰æŠ›å°„æ­¦å™¨çš„èƒ½åŠ›\"\n        ]\n      },\n      \"å¿ƒæ™ºæŠ€èƒ½\": {\n        \"å­¦è¯†\": [\n          0,\n          \"è¡¡é‡äººæ–‡ã€å†å²ã€åœ°ç†ç­‰çŸ¥è¯†å¹¿åº¦\"\n        ],\n        \"ç”µè„‘\": [\n          0,\n          \"è¡¡é‡æ“ä½œã€ç¼–ç¨‹ä¸é»‘å®¢æŠ€æœ¯\"\n        ],\n        \"æ‰‹è‰º\": [\n          0,\n          \"è¡¡é‡åˆ¶ä½œçš„çŸ¥è¯†\"\n        ],\n        \"è°ƒæŸ¥\": [\n          0,\n          \"è¡¡é‡æœé›†çº¿ç´¢ã€åˆ†æç°åœºçš„èƒ½åŠ›\"\n        ],\n        \"åŒ»å­¦\": [\n          0,\n          \"è¡¡é‡è¯Šæ–­ã€æ²»ç–—ä¸è¯ç†çŸ¥è¯†\"\n        ],\n        \"ç¥ç§˜å­¦\": [\n          0,\n          \"è¡¡é‡å¯¹è¶…è‡ªç„¶ç°è±¡ä¸é­”æ³•çš„çŸ¥è¯†\"\n        ],\n        \"ç§‘å­¦\": [\n          0,\n          \"è¡¡é‡ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ç­‰è‡ªç„¶ç§‘å­¦çŸ¥è¯†\"\n        ]\n      },\n      \"äº’åŠ¨æŠ€èƒ½\": {\n        \"åŠ¨ç‰©æ²Ÿé€š\": [\n          0,\n          \"è¡¡é‡ä¸åŠ¨ç‰©äº¤æµå’Œé©¯æœçš„èƒ½åŠ›\"\n        ],\n        \"æ„Ÿå—\": [\n          0,\n          \"è¡¡é‡æ´å¯Ÿä»–äººæƒ…ç»ªä¸æ„å›¾çš„èƒ½åŠ›\"\n        ],\n        \"è¡¨è¾¾\": [\n          0,\n          \"è¡¡é‡æ„ŸæŸ“ä»–äººçš„èƒ½åŠ›\"\n        ],\n        \"èƒè¿«\": [\n          0,\n          \"è¡¡é‡é€šè¿‡å¨èƒä¸æå“è¾¾æˆç›®çš„çš„èƒ½åŠ›\"\n        ],\n        \"äº¤é™…\": [\n          0,\n          \"è¡¡é‡ç¤¾äº¤ã€ç¤¼ä»ªä¸å»ºç«‹äººè„‰çš„èƒ½åŠ›\"\n        ],\n        \"æ©é¥°\": [\n          0,\n          \"è¡¡é‡éšè—çœŸç›¸ã€ä¼ªè£…èº«ä»½ä¸æ¬ºéª—ä»–äººçš„èƒ½åŠ›\"\n        ]\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½\": {\n        \"æ¸¸æˆè§’è‰²è¿åŠ¨\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²è·‘ã€è·³ã€æ”€çˆ¬ç­‰èº«ä½“æ´»åŠ¨èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²è‚‰æ\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²å¾’æ‰‹æ ¼æ–—æŠ€å·§\"\n        ],\n        \"æ¸¸æˆè§’è‰²é©¾é©¶\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ“æ§åœ°é¢ã€æ°´é¢æˆ–ç©ºä¸­è½½å…·çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æªæ¢°\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä½¿ç”¨å„ç±»ç«å™¨çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ç›—çªƒã€å¼€é”ç­‰æ‰‹éƒ¨ç²¾ç»†æ“ä½œèƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²éšè—\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ½œè¡Œã€ä¼ªè£…ä¸éšè”½è‡ªèº«çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²åœ¨æ¶åŠ£ç¯å¢ƒä¸­ç”Ÿå­˜ä¸è¿½è¸ªçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç™½åˆƒ\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä½¿ç”¨åˆ€å‰‘ç­‰å†·å…µå™¨çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²å¼“ç®­\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä½¿ç”¨å¼“å¼©ç­‰æŠ›å°„æ­¦å™¨çš„èƒ½åŠ›\"\n        ]\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½\": {\n        \"æ¸¸æˆè§’è‰²å­¦è¯†\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²äººæ–‡ã€å†å²ã€åœ°ç†ç­‰çŸ¥è¯†å¹¿åº¦\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç”µè„‘\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ“ä½œã€ç¼–ç¨‹ä¸é»‘å®¢æŠ€æœ¯\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ‰‹è‰º\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²åˆ¶ä½œçš„çŸ¥è¯†\"\n        ],\n        \"æ¸¸æˆè§’è‰²è°ƒæŸ¥\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æœé›†çº¿ç´¢ã€åˆ†æç°åœºçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²åŒ»å­¦\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²è¯Šæ–­ã€æ²»ç–—ä¸è¯ç†çŸ¥è¯†\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²å¯¹è¶…è‡ªç„¶ç°è±¡ä¸é­”æ³•çš„çŸ¥è¯†\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç§‘å­¦\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ç­‰è‡ªç„¶ç§‘å­¦çŸ¥è¯†\"\n        ]\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½\": {\n        \"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä¸åŠ¨ç‰©äº¤æµå’Œé©¯æœçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ„Ÿå—\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ´å¯Ÿä»–äººæƒ…ç»ªä¸æ„å›¾çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²è¡¨è¾¾\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ„ŸæŸ“ä»–äººçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²èƒè¿«\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²é€šè¿‡å¨èƒä¸æå“è¾¾æˆç›®çš„çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²äº¤é™…\": [\n          0,\n          \"æè¿°æ¸¸æˆè§’è‰²è¡¡é‡ç¤¾äº¤ã€ç¤¼ä»ªä¸å»ºç«‹äººè„‰çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ©é¥°\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²éšè—çœŸç›¸ã€ä¼ªè£…èº«ä»½ä¸æ¬ºéª—ä»–äººçš„èƒ½åŠ›\"\n        ]\n      }\n    }}","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":100,"position":0,"disable":true,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":4,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":null,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":30,"characterFilter":{"isExclude":false,"names":[],"tags":[]}}}}