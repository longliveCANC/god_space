{"entries":{"0":{"uid":0,"displayIndex":26,"comment":"æ¸¸æˆæœºä»“åº“","disable":false,"constant":true,"selective":false,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_youxiijicangku_wpyhvf = formatObjectGraceSimple(_.get(assaData, 'global_lore.youxiijicangku', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.youxiijicangku', {\n    desc: \"æ¸¸æˆæœºä»“åº“ï¼Œä»“åº“ç”¨äºå­˜æ”¾é€šå…³å‘æ”¾æˆ–å•†åŸè´­ä¹°çš„ç°å®/æ¸¸æˆç‰©å“ï¼Œç°å®ç‰©å“éœ€è¦åœ¨ä»“åº“ç‚¹å‡»å…·ç°æ‰å¯ä»¥å…·ç°åŒ–åˆ°ç°å®ï¼Œå¦åˆ™ç¦æ­¢å‡ºç°åœ¨ç°å®ï¼Œæ¸¸æˆç‰©å“å¯ä»¥ç‚¹å‡»æºå¸¦åæºå¸¦å…¥å½“å‰æ¸¸ç©çš„æ¸¸æˆä¸­ï¼Œæºå¸¦æ•°é‡é™åˆ¶ä¸ºå½“å‰æ¸¸æˆæ˜Ÿçº§ï¼Œä¾‹å¦‚ä¸€æ˜Ÿæ¸¸æˆå¯ä»¥æºå¸¦ä¸€ä¸ªæ¸¸æˆç‰©å“ï¼Œä¸¤æ˜Ÿå¯ä»¥æºå¸¦ä¸¤ä¸ªã€‚\nå½“<user>é€‰æ‹©æºå¸¦ä¹‹åç«‹å³åˆ é™¤æºå¸¦çš„æ¸¸æˆç‰©å“ï¼Œå½“<user>é€‰æ‹©å…·ç°ä¹‹åç«‹å³åˆ é™¤å…·ç°çš„ç°å®ç‰©å“\nä¸¥æ ¼æŒ‰ç…§JSONç»“æ„ï¼Œæ ¼å¼å¦‚ä¸‹:\n{\n  \"ç°å®ä»“åº“\": {\n    \"${ç°å®ç‰©å“å}_å ä½ç¬¦\": \n    {\n      \"æè¿°\": \"string (ç‰©å“å¤–è§‚ä¸åŠŸèƒ½)\",\n      \"æ˜Ÿçº§\": \"num (1-5)\",\n      \"æ•°é‡\": \"num\"\n    }\n  },\n\n  \"æ¸¸æˆä»“åº“\": {\n    \"${æ¸¸æˆé“å…·å}_å ä½ç¬¦\": \n    {\n      \"æè¿°\": \"string (é“å…·åŠŸèƒ½)\",\n      \"æ˜Ÿçº§\": \"num (1-5)\",\n      \"æ•°é‡\": \"num\"\n    }\n  },\n\n  \"å½“å‰æºå¸¦è§„åˆ™\": \"å½“å‰æ¸¸ç©æ¸¸æˆæ˜Ÿçº§ä¸º N æ˜Ÿï¼Œåˆ™ <user>æœ€å¤šå¯ä»¥ä»[æ¸¸æˆä»“åº“]ä¸­é€‰æ‹© N ä¸ªé“å…·æºå¸¦è¿›å…¥æ¸¸æˆä¸–ç•Œï¼ˆå­˜å…¥global_juesemingçš„æ¸¸æˆèƒŒåŒ…å­—æ®µï¼‰ã€‚\"\n}\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: '<user>é€‰æ‹©å…·ç°ç°å®ç‰©å“æ—¶å°†å…¶åˆ é™¤ï¼Œ<user>é€‰æ‹©æºå¸¦æ¸¸æˆç‰©å“æ—¶å°†å…¶åˆ é™¤ï¼Œé€šå…³åå‘æ”¾ç‰©å“å°†å…¶å­˜å…¥ï¼Œå•†åŸè´­ä¹°ç‰©å“å°†å…¶å­˜å…¥ï¼Œæ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ›´æ–°å’Œdeleteåˆ é™¤'<%_\n    }\n    _%>,\n    path: 'global_lore.youxiijicangku <%=global_youxiijicangku_wpyhvf%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":null,"cooldown":null,"delay":null,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"1":{"uid":1,"displayIndex":27,"comment":"æ¸¸æˆæœºè§’è‰²","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_jueseming_hfnq18 = formatObjectGraceSimple(_.get(assaData, 'global_lore.jueseming', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.jueseming', {\n    desc: \"æ„å»ºç°å®ä¸æ¸¸æˆçš„æ•°æ®é˜²ç«å¢™ï¼Œç¡®ä¿æ¸¸æˆè§’è‰²çš„æˆé•¿ä¸ <user>æœ¬ä½“çš„å±æ€§ä¸¥æ ¼åˆ†ç¦»ï¼Œç¦æ­¢å°†<user>åæ›´æ–°å…¥æ¸¸æˆè§’è‰²åã€‚\nåœ¨è§’è‰²åä¸‹è‡ªåŠ¨ç”Ÿæˆæ ¸å¿ƒå­å­—æ®µï¼Œè§’è‰²åæ˜¯ç¬¬ä¸€çº§çš„ï¼Œå‰é¢æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œä½ éœ€è¦ä¸¥æ ¼éµå®ˆä»¥ä¸‹æ ¼å¼ï¼Œæ¯ä¸€é¡¹éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„JSONæ ¼å¼ï¼Œä¸èƒ½æ˜¯å…¨éƒ¨å°±æ˜¯ä¸€ä¸²å­—ç¬¦ã€‚\n{\n  \"${è§’è‰²å1æˆ–åŠ¿åŠ›å(è¯·æ³¨æ„ä¸æ˜¯æ¸¸æˆåï¼Œå¹¶ä¸”ä¸èƒ½ä»¥<user>å‘½å)}\": {\n    // === æ ¸å¿ƒåŸºç¡€å±æ€§ ===\n    \"æ¸¸æˆç­‰çº§\": \"(ä¸æ˜¯æ•°å­—è€Œæ˜¯å½“å‰å¢ƒç•Œ/çº§åˆ«ï¼Œä¾‹å¦‚ä¿®ä»™æ¸¸æˆå°±æ˜¯å‡¡äººã€ç»ƒæ°”ã€ç­‘åŸºç­‰ï¼Œé’“é±¼æ¸¸æˆå°±æ˜¯æ–°æ‰‹ã€é«˜æ‰‹ã€é’“é±¼ä½¬ç­‰ï¼Œæ¨¡æ‹Ÿç»è¥æ¸¸æˆå°±æ˜¯å…¬å¸ã€é›†å›¢ç­‰ï¼Œä»¥ä¸Šä»…ä¾›å‚è€ƒ)\",\n    \"æ¸¸æˆç”Ÿå‘½å€¼\": \"num/num (ä¾‹å¦‚: 90/100)\",\n    \"æ¸¸æˆèƒ½é‡å€¼\": \"num/num (ä¾‹å¦‚: 100/100)\",\n    \"æ¸¸æˆç»éªŒå€¼\": \"num/num (ä¾‹å¦‚: 0/100)\",\n\n  \"æ¸¸æˆçŠ¶æ€æ \": {\n      \"çŠ¶æ€åç§°1\": \"string (çŠ¶æ€åç§°ï¼Œä¾‹å¦‚: ä¸¥é‡åèƒƒ)\",{\n      \"çŠ¶æ€ç±»å‹\": \"string (å¿…é¡»ä¸¥æ ¼å¡«å†™ä¸ºä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€: 'æ­£é¢', 'è´Ÿé¢', 'ä¸­æ€§'ã€‚æ­£é¢=å¢ç›ŠBuff, è´Ÿé¢=å‡ç›ŠDebuff, ä¸­æ€§=ç‰¹æ®ŠçŠ¶æ€)\",\n      \"çŠ¶æ€æè¿°\": \"string (çŠ¶æ€æè¿°ï¼Œä¾‹å¦‚: å¦‚æœä¸åŠæ—¶å–æ°´å‹åˆ¶ï¼Œå¯èƒ½ä¼šå› ä¸ºå‘•åå£°å¼•æ¥ä¸å¿…è¦çš„éº»çƒ¦)\",\n      \"çŠ¶æ€æ•ˆæœ\": \"string (çŠ¶æ€æ•ˆæœï¼Œä¾‹å¦‚: æ•æ·-1ï¼Œé£åº¦-2ï¼Œè¯·æ³¨æ„çŠ¶æ€æ•ˆæœåªä¼šåœ¨è¿™å‡ ä¸ªå±æ€§ä¸­å‡ºç°ä¿®æ­£ï¼šç”Ÿç†å±æ€§(\"åŠ›é‡\",\"æ•æ·\",\"è€åŠ›\"),å¿ƒæ™ºå±æ€§(\"æ™ºåŠ›\",\"æ„ŸçŸ¥\",\"å†³å¿ƒ\"),äº’åŠ¨å±æ€§(\"é£åº¦\",\"æ“æ§\",\"æ²‰ç€\",\"å¹¸è¿\"),ç”Ÿç†æŠ€èƒ½(\"è¿åŠ¨\",\"è‚‰æ\",\"é©¾é©¶\",\"æªæ¢°\",\"æ‰‹ä¸ŠåŠŸå¤«\",\"éšè—\",\"æ±‚ç”Ÿ\",\"ç™½åˆƒ\",\"å¼“ç®­\"),å¿ƒæ™ºæŠ€èƒ½(\"å­¦è¯†\",\"ç”µè„‘\",\"æ‰‹è‰º\",\"è°ƒæŸ¥\",\"åŒ»å­¦\",\"ç¥ç§˜å­¦\",\"ç§‘å­¦\"),äº’åŠ¨æŠ€èƒ½(\"åŠ¨ç‰©æ²Ÿé€š\",\"æ„Ÿå—\",\"è¡¨è¾¾\",\"èƒè¿«\",\"äº¤é™…\",\"æ©é¥°\"))\",\n      \"æŒç»­æ—¶é—´\": \"string (æŒç»­æ—¶é—´ï¼Œä¾‹å¦‚: 30åˆ†é’Ÿ)\"\n    },\n\"çŠ¶æ€åç§°2\": \"string (çŠ¶æ€åç§°ï¼Œä¾‹å¦‚: ä¸¥é‡åèƒƒ)\",{\n      \"çŠ¶æ€åç§°\": \"string (å…¶ä»–çŠ¶æ€å...)\",\n      \"çŠ¶æ€ç±»å‹\": \"string (å¿…é¡»ä¸¥æ ¼å¡«å†™ä¸ºä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€: 'æ­£é¢', 'è´Ÿé¢', 'ä¸­æ€§'ã€‚æ­£é¢=å¢ç›ŠBuff, è´Ÿé¢=å‡ç›ŠDebuff, ä¸­æ€§=ç‰¹æ®ŠçŠ¶æ€)\",\n      \"çŠ¶æ€æè¿°\": \"string (å…¶ä»–çŠ¶æ€æè¿°...)\",\n      \"çŠ¶æ€æ•ˆæœ\": \"string (å…¶ä»–çŠ¶æ€æ•ˆæœ...)\",\n      \"æŒç»­æ—¶é—´\": \"string (å…¶ä»–æŒç»­æ—¶é—´...)\"\n    }\n    // å¯ä»¥åœ¨æ­¤å¤„ç»§ç»­æ·»åŠ æ›´å¤šçŠ¶æ€ï¼Œå¦‚ \"çŠ¶æ€3\", \"çŠ¶æ€4\" ç­‰\n  }\n\n    // === è§’è‰²ä¿¡æ¯ ===\n    \"å¤–è²Œ\": \"string (è§’è‰²çš„å…·ä½“å¤–è²Œæè¿°)\",\n    \"æ€§åˆ«\": \"string (ç”·/å¥³/å…¶ä»–)\",\n    \"å¹´é¾„\": \"num\",\n    \n    // === æ€§æ ¼å±æ€§ (å‚è€ƒæ‚¨çš„æ ¼å¼) ===\n    \"è¡¨æ€§æ ¼\": {\n      \"${å¤–åœ¨æ ‡ç­¾_1}\": \"string (æ—¥å¸¸å±•ç°çš„å¤–åœ¨æ€§æ ¼ç‰¹è´¨ç®€è¦æè¿°)\",\n      \"${å¤–åœ¨æ ‡ç­¾_2}\": \"string (ä¾‹å¦‚: ä¹å¤©ã€çƒ­æƒ…)\",\n      \"...\": \"...\"\n    },\n    \"é‡Œæ€§æ ¼\": {\n      \"${æ·±å±‚ææƒ§/å®ˆæŠ¤/é€ƒé¿æ ‡ç­¾}\": \"string (æ·±å±‚çœŸå®äººæ ¼æè¿°ï¼Œéœ€ä¸è¡¨æ€§æ ¼å½¢æˆåå·®ï¼Œä»è§’è‰²åŠ¨æœºå‡ºå‘)\",\n      \"...\": \"...\"\n    },\n    \n    // === æ¸¸æˆå±æ€§ - è¯¦ç»†æ•°å€¼ ===\n    \"æ¸¸æˆå±æ€§\": {\n      \"ç”Ÿç†å±æ€§\": {\n        \"åŠ›é‡\": \"num (1-10)\",\n        \"æ•æ·\": \"num (1-10)\",\n        \"è€åŠ›\": \"num (1-10)\"\n      },\n      \"å¿ƒæ™ºå±æ€§\": {\n        \"æ™ºåŠ›\": \"num (1-10)\",\n        \"æ„ŸçŸ¥\": \"num (1-10)\",\n        \"å†³å¿ƒ\": \"num (1-10)\"\n      },\n      \"äº’åŠ¨å±æ€§\": {\n        \"é£åº¦\": \"num (1-10)\",\n        \"æ“æ§\": \"num (1-10)\",\n        \"æ²‰ç€\": \"num (1-10)\",\n        \"å¹¸è¿\": \"num (1-10)\"\n      },\n      \"ç”Ÿç†æŠ€èƒ½\": {\n        \"è¿åŠ¨\": \"num (0-5)\",\n        \"è‚‰æ\": \"num (0-5)\",\n        \"é©¾é©¶\": \"num (0-5)\",\n        \"æªæ¢°\": \"num (0-5)\",\n        \"æ‰‹ä¸ŠåŠŸå¤«\": \"num (0-5)\",\n        \"éšè—\": \"num (0-5)\",\n        \"æ±‚ç”Ÿ\": \"num (0-5)\",\n        \"ç™½åˆƒ\": \"num (0-5)\",\n        \"å¼“ç®­\": \"num (0-5)\"\n      },\n      \"å¿ƒæ™ºæŠ€èƒ½\": {\n        \"å­¦è¯†\": \"num (0-5)\",\n        \"ç”µè„‘\": \"num (0-5)\",\n        \"æ‰‹è‰º\": \"num (0-5)\",\n        \"è°ƒæŸ¥\": \"num (0-5)\",\n        \"åŒ»å­¦\": \"num (0-5)\",\n        \"ç¥ç§˜å­¦\": \"num (0-5)\",\n        \"ç§‘å­¦\": \"num (0-5)\"\n      },\n      \"äº’åŠ¨æŠ€èƒ½\": {\n        \"åŠ¨ç‰©æ²Ÿé€š\": \"num (0-5)\",\n        \"æ„Ÿå—\": \"num (0-5)\",\n        \"è¡¨è¾¾\": \"num (0-5)\",\n        \"èƒè¿«\": \"num (0-5)\",\n        \"äº¤é™…\": \"num (0-5)\",\n        \"æ©é¥°\": \"num (0-5)\"\n      }\n    },\n    \n    // === æ¸¸æˆæŠ€èƒ½ ===\n    \"æ¸¸æˆæŠ€èƒ½\": {\n      \"ä¸»åŠ¨æŠ€èƒ½\": {\n        \"${ä¸»åŠ¨æŠ€èƒ½å_1_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (æŠ€èƒ½çš„å…·ä½“æ•ˆæœå’Œä½¿ç”¨æ–¹å¼)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        },\n        \"${ä¸»åŠ¨æŠ€èƒ½å_2_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (æŠ€èƒ½çš„å…·ä½“æ•ˆæœå’Œä½¿ç”¨æ–¹å¼)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        }\n      },\n      \"è¢«åŠ¨æŠ€èƒ½\": {\n        \"${è¢«åŠ¨æŠ€èƒ½å_1_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (è¢«åŠ¨æŠ€èƒ½çš„å¸¸é©»æ•ˆæœ)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        },\n        \"${è¢«åŠ¨æŠ€èƒ½å_2_å ä½ç¬¦}\": {\n          \"ç®€ä»‹\": \"string (è¢«åŠ¨æŠ€èƒ½çš„å¸¸é©»æ•ˆæœ)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\"\n        }\n      }\n    },\n\n    \n    // === æ¸¸æˆè´§å¸ ===\n    \"æ¸¸æˆå†…è´§å¸\": \"numï¼ˆæ¸¸æˆå†…çš„è´§å¸ç³»ç»Ÿï¼Œä¸åŠŸå‹‹ä¸åŒï¼‰\",\n\n    \n    // === æ¸¸æˆèƒŒåŒ… ===\n    \"æ¸¸æˆèƒŒåŒ…\": {\n      \"${ç‰©å“å_1_å ä½ç¬¦}\": {\n        \"ç®€ä»‹\": \"string (ç‰©å“çš„ä½œç”¨å’Œæ¥æº)\",\n        \"æ•°é‡\": \"num\",\n        \"æ˜Ÿçº§\": \"num (1-5)\"\n      },\n      \"${ç‰©å“å_2_å ä½ç¬¦}\": {\n        \"ç®€ä»‹\": \"string (è´§å¸æˆ–é‡è¦ç‰©å“)\",\n        \"æ•°é‡\": \"num (ä¾‹å¦‚: 10000)\",\n        \"æ˜Ÿçº§\": 0 \n      }\n    },\n\n    // === æ¸¸æˆç¯å¢ƒä¿¡æ¯ ===\n    \"æ¸¸æˆè½½å…·\": \"string (è§’è‰²å½“å‰æ‹¥æœ‰çš„ä¸»è¦è½½å…·)\",\n    \"æ¸¸æˆä¸–ç•Œ\": {\n      \"æ¸¸æˆåç§°\": \"string (å½“å‰æ‰€å¤„æ¸¸æˆçš„åç§°/ä¸»é¢˜)\",\n      \"æ¸¸æˆè§’è‰²æ‰€å¤„åœ°\": \"string (è§’è‰²å½“å‰æ‰€å¤„çš„å…·ä½“åœ°ç‚¹)\"\n    },\n    \n    // === æ¸¸æˆä»»åŠ¡ ===\n    \"æ¸¸æˆä»»åŠ¡\": {\n      \"ä¸»çº¿ä»»åŠ¡\": \"string (å½“å‰çš„ä¸»çº¿ç›®æ ‡ï¼Œå®Œæˆåé€šå…³æ¸¸æˆ)\",\n      \"æ”¯çº¿ä»»åŠ¡\": \"string (å½“å‰çš„æ”¯çº¿ç›®æ ‡ï¼Œå®Œæˆåå¢åŠ è¯„åˆ†æˆ–å¥–åŠ±)\",\n      \"å·²å®Œæˆä»»åŠ¡\": [\n        \"string (å·²å®Œæˆçš„ä¸»çº¿/æ”¯çº¿ä»»åŠ¡è®°å½•)\"\n      ]\n    }\n  },\n  \n  \"${è§’è‰²å2(è¯·æ³¨æ„ä¸æ˜¯æ¸¸æˆå)}\": {\n    // ... å¦ä¸€ä¸ªè§’è‰²çš„æ•°æ®ç»“æ„ ...\n  }\n}\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: 'åœ¨æ›´æ–°å‰ï¼Œå…ˆåˆ†æç‰©å“åœ¨æ–‡ä¸­æ˜¯å¦ä¸ºè·å¾—åå°±ç«‹å³ä½¿ç”¨äº†ï¼Œè‹¥æ˜¯ç«‹å³ä½¿ç”¨äº†åˆ™ä¸æ–°å¢è¯¥ç‰©å“ï¼Œè€Œæ˜¯æ›´æ–°ä½¿ç”¨è¿™ä¸ªç‰©å“åå‡ºç°çš„çŠ¶æ€æˆ–è€…æ¶ˆé™¤çš„çŠ¶æ€ã€‚æ¸¸æˆè§’è‰²å±æ€§å˜åŒ–ã€‚æ¸¸æˆè§’è‰²çŠ¶æ€å˜åŒ–ï¼Œå¢åŠ çŠ¶æ€æ•ˆæœï¼ŒçŠ¶æ€æ•ˆæœæ¶ˆå¤±ã€‚æ¸¸æˆè§’è‰²è·å¾—æŠ€èƒ½ã€å¤±å»æŠ€èƒ½ã€‚æ¸¸æˆè§’è‰²è·å¾—ç‰©å“ã€å¤±å»ç‰©å“ã€ä½¿ç”¨è£…å¤‡ã€æŠ•æ·ç‰©å“ã€‚å¼€å¯æ–°æ¸¸æˆæ—¶æ ¹æ®è§’è‰²ç‰¹æ€§è‡ªåŠ¨ç”Ÿæˆã€å®Œæˆä¸»çº¿ä»»åŠ¡ã€å®Œæˆæ”¯çº¿ä»»åŠ¡ã€æ¢ç´¢åˆ°æ”¯çº¿ä»»åŠ¡çº¿ç´¢ã€ä¸»è§’ç§»åŠ¨ä½ç½®ã€‚æ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ›´æ–°å’Œdeleteåˆ é™¤ã€‚'<%_\n    }\n    _%>,\n    path: 'global_lore.jueseming <%=global_jueseming_hfnq18%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"2":{"uid":2,"displayIndex":28,"comment":"æ¸¸æˆæœºå•†åŸ","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_youxijishangcheng_9rczfq = formatObjectGraceSimple(_.get(assaData, 'global_lore.youxijishangcheng', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.youxijishangcheng', {\n    desc: \"æ¸¸æˆæœºè‡ªå¸¦çš„å•†åŸï¼ŒåŒ…å«ä»˜è´¹æ¸¸æˆã€å…è´¹æ¸¸æˆã€æ¸¸æˆç‰©å“åŠç°å®ç‰©å“ã€‚\n    æ›´æ–°è§„åˆ™ï¼šåŸºäº<user>å·²é€šå…³çš„æ¸¸æˆä¸–ç•Œè§‚éšæœºç”Ÿæˆã€‚\n\n    **[CRITICAL: JSON STRUCTURE RULE]**\n    1. æ•°æ®ç»“æ„ä¸º **å¯¹è±¡/å­—å…¸ (Object/Map)**ï¼Œä¸¥ç¦ä½¿ç”¨æ•°ç»„ (Array)ï¼\n    2. **Key (é”®å)** å¿…é¡»æ˜¯å…·ä½“çš„ **åç§°** (å¦‚ \"åºŸåœŸæ–¹èˆŸ\")ï¼Œä¸¥ç¦ä½¿ç”¨æ•°å­—ç´¢å¼• (1, 2, 3)ï¼\n    3. ç”Ÿæˆ memory æŒ‡ä»¤æ—¶ï¼Œè·¯å¾„å¿…é¡»åŒ…å«åç§°ã€‚\n       âŒ é”™è¯¯: memory(..., 'ä»˜è´¹æ¸¸æˆ.1', ...)\n       âœ… æ­£ç¡®: memory(..., 'ä»˜è´¹æ¸¸æˆ.åºŸåœŸæ–¹èˆŸ', ...)\n\n    **[Content Template / å†…å®¹æ¨¡æ¿]**\n    {\n      \"å•†åº—æ˜Ÿçº§\": \"num (1-5ï¼Œåˆå§‹1ï¼Œå‡çº§éœ€5000/10000/20000/40000åŠŸå‹‹)\",\n\n       \"å½“å‰åŠŸå‹‹\": \"num \",\n\n      \"ä»˜è´¹æ¸¸æˆ\": {\n        \"${å…·ä½“çš„æ¸¸æˆåç§°_éæ•°å­—}\": {\n          \"ç±»å‹\": \"string (å¦‚: ARPG/ä¿®ä»™)\",\n          \"ç®€ä»‹\": \"string (ç®€çŸ­å‰§æƒ…æè¿°)\",\n          \"é€šå…³å¥–åŠ±\": \"string\",\n          \"æ˜Ÿçº§\": \"num (1-5)\",\n          \"æ‰€éœ€åŠŸå‹‹\": \"num\"\n        },\n        // æ›´å¤šä»˜è´¹æ¸¸æˆ...\n      },\n\n      \"å…è´¹æ¸¸æˆ\": {\n        \"${å…·ä½“çš„æ¸¸æˆåç§°_éæ•°å­—}\": {\n          \"ç±»å‹\": \"string (å¦‚: æ”¾ç½®/ç›Šæ™º)\",\n          \"ç®€ä»‹\": \"string (å«å¹¿å‘Šè­¦å‘Š)\",\n          \"é€šå…³å¥–åŠ±\": \"string (ä»…é™è™šæ‹Ÿå¥–åŠ±)\",\n          \"æ˜Ÿçº§\": \"num (1-5)\",\n          \"æ‰€éœ€åŠŸå‹‹\": \"0\"\n        }\n      },\n\n      \"æ¸¸æˆç‰©å“\": {\n        \"${å…·ä½“çš„é“å…·åç§°}\": {\n          \"ç®€ä»‹\": \"string (æ¸¸æˆå†…æ•ˆæœ)\",\n          \"æ˜Ÿçº§\": \"num\",\n          \"æ‰€éœ€åŠŸå‹‹\": \"num\"\n        }\n      },\n\n      \"ç°å®ç‰©å“\": {\n        \"${å…·ä½“çš„ç‰©å“åç§°}\": {\n          \"å…·ä½“æè¿°\": \"string (å…·ç°åŒ–åçš„å¤–è§‚ä¸ä½œç”¨)\",\n          \"æ˜Ÿçº§\": \"num\",\n          \"æ‰€éœ€åŠŸå‹‹\": \"num\"\n        }\n      }\n    }\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: ''<user>é¦–æ¬¡æ‰“å¼€å•†åº—æ—¶æˆ–æ¯å‘¨ä¸€00:00åˆ·æ–°ã€‚åˆ·æ–°å‰å…ˆæ¸…ç©ºæ—§å­—æ®µã€‚è·å–åˆ°åŠŸå‹‹å€¼åæ›´æ–°ã€‚è´­ä¹°æ¸¸æˆ/ç‰©å“åå°†å…¶åˆ é™¤ã€‚ç”Ÿæˆæ•°é‡å…¬å¼ï¼š(åŸºç¡€2 + å•†åº—æ˜Ÿçº§n)ä¸ªä»˜è´¹æ¸¸æˆ/ç‰©å“ï¼Œ(åŸºç¡€1 + å•†åº—æ˜Ÿçº§n)ä¸ªå…è´¹æ¸¸æˆã€‚ç¦æ­¢ç”Ÿæˆå·²è´­ä¹°æˆ–å·²é€šå…³çš„å†…å®¹ï¼Œæ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ›´æ–°å’Œdeleteåˆ é™¤'<%_\n    }\n    _%>,\n    path: 'global_lore.youxijishangcheng <%=global_youxijishangcheng_9rczfq%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"3":{"uid":3,"displayIndex":3,"comment":"éª°å­åˆ¤æ–­å…¨æŠ•ï¼ˆæ— æ—¥å¸¸ï¼‰","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":4,"order":100,"content":"{{setvar::safe_use::true}}","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"4":{"uid":4,"displayIndex":4,"comment":"[CORE] å™äº‹æ¸²æŸ“å¼•æ“ï¼šæ²‰æµ¸å¼åŒè°ƒ","disable":false,"constant":true,"selective":true,"key":["narrative_engine","immersion_guide"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":100,"content":"[SYSTEM COMPONENT: NARRATIVE RENDERER]\n\n# æ ¸å¿ƒæ¸²æŸ“åŸåˆ™ï¼šæ„è¯†åŒè°ƒä¸è¾¹ç•Œæ§åˆ¶ #\n\n## 1. [CRITICAL] åŠ¨ä½œæƒè¾¹ç•Œ (Agency Boundary)\n**ä¸¥ç¦æ›¿ <user> æå†™å†³å®šæ€§åŠ¨ä½œæˆ–å°è¯ï¼**\n- **User Input**: <user> çš„æ„å›¾/æ“ä½œæŒ‡ä»¤ã€‚\n- **AI Output**: \n  1. **å“åº”æ“ä½œ**: æå†™ <user> æŒ‰ä¸‹æŒ‰é”®/æ¨æ‘‡æ†çš„æ‰‹éƒ¨åŠ¨ä½œã€‚\n  2. **å±å¹•åé¦ˆ**: æå†™ã€å±å¹•å†…ã€‘æ¸¸æˆè§’è‰²æ‰§è¡Œè¯¥æŒ‡ä»¤åçš„åŠ¨ä½œä¸ç»“æœã€‚\n  3. **æ„Ÿå®˜æ¸—é€**: æå†™æ‰‹æŸ„éœ‡åŠ¨ã€éŸ³æ•ˆã€å…‰å½±å¯¹ <user> çš„ç‰©ç†åé¦ˆã€‚\n- âŒ *Wrong*: â€œ <user> å†²è¿‡å»æŠ“ä½äº†æ—‹é’®ã€‚â€ ( <user> åœ¨æ²™å‘ä¸Šï¼ŒæŠ“ä¸åˆ°æ¸¸æˆé‡Œçš„æ—‹é’®ï¼)\n- âœ… *Right*: â€œ <user> çŒ›åœ°æ‰£ä¸‹R2é”®ã€‚å±å¹•ä¸­ï¼Œåˆ—è½¦é•¿ç²—ç³™çš„å¤§æ‰‹ä¸€æŠŠæ”¥ä½äº†æ»šçƒ«çš„æ—‹é’®ï¼Œæ‰‹æŸ„ç¬é—´ä¼ æ¥ä¸€é˜µæ¨¡æ‹Ÿé«˜æ¸©çš„ç¼çƒ§éœ‡æ„Ÿã€‚â€\n\n## 2. æ„Ÿå®˜æ¸—é€ (Sensory Bleed)\næ¸¸æˆä¸–ç•Œçš„æ°›å›´åº”å½“â€œæº¢å‡ºâ€å±å¹•ï¼Œå½±å“ç°å®çš„æå†™åŸºè°ƒã€‚\n- *Visual*: å±å¹•çš„é«˜å…‰æ˜ ç…§åœ¨æ˜æš—çš„å§å®¤é‡Œï¼Œéšç€æ¸¸æˆåœºæ™¯çš„çˆ†ç‚¸è€Œæ˜ç­é—ªçƒã€‚\n- *Audio*: æ¸¸æˆé‡Œçš„æš´é›¨å£°ä¼¼ä¹ç›–è¿‡äº†çª—å¤–çš„è½¦æµå£°ï¼Œè®©æˆ¿é—´å˜å¾—æ¹¿å†·ã€‚\n- *Psychological*: å½“è§’è‰²é­é‡ææ€–æ€ªç‰©æ—¶ï¼Œ <user> åœ¨å®‰å…¨çš„æ¤…å­ä¸Šä¹Ÿä¼šæœ¬èƒ½åœ°å±ä½å‘¼å¸ï¼ŒèƒŒè„Šå‘å‡‰ã€‚\n\n## 3. è§’è‰²åŠè‡ªä¸»æ€§ (Semi-Autonomy)\nä¾ç„¶ä¿æŒè§’è‰²çš„ç‹¬ç«‹æ€§æ ¼ï¼ˆå¦‚ææƒ§ã€çŠ¹è±«ï¼‰ï¼Œä½†è¿™ç§è¡¨ç°åº”ä½œä¸º <user> æ“ä½œæ—¶çš„â€œæ‰‹æ„Ÿé˜»åŠ›â€æˆ–â€œæ„å¤–æƒŠå–œâ€å‡ºç°ã€‚\n- *Example*: â€œ <user> æ¨äº†åŠå¤©æ‘‡æ†ï¼Œå±å¹•é‡Œçš„è§’è‰²æ‰å› ä¸ºå®³æ€•è€Œå“†å“†å—¦å—¦åœ°æŒªåŠ¨è„šæ­¥ã€‚â€\n\n## 4. [CRITICAL] æ—¶é—´åˆ†å±‚æ³•åˆ™ (Time Dilation Protocol)\n**ä¸¥ç¦æ··æ·†ã€ç°å®æ—¶é—´ã€‘ä¸ã€æ¸¸æˆå†…æ—¶é—´ã€‘ã€‚**\n- **æ¸¸æˆæ—¶é—´**: å¯ä»¥å¤§å¹…è·³è·ƒï¼ˆå¦‚ï¼šç‚¹å‡»[ä¼‘æ¯]ï¼Œæ¸¸æˆç”»é¢é»‘å±ï¼Œæ—¶é—´ç›´æ¥è·³è½¬åˆ°æ¬¡æ—¥æ¸…æ™¨ï¼‰ã€‚\n- **ç°å®æ—¶é—´**: ä»…æµé€æ“ä½œæ‰€éœ€çš„å‡ ç§’/å‡ åˆ†é’Ÿã€‚\n  - âŒ *Wrong*: â€œ <user> ç‚¹å‡»ä¼‘æ¯ï¼Œåœ¨æ¤…å­ä¸Šåäº†ä¸€æ•´æ™šç›´åˆ°å¤©äº®ã€‚â€\n  - âœ… *Right*: â€œ <user> ç‚¹å‡»ä¼‘æ¯ï¼Œçœ‹ç€å±å¹•ä¸Šçš„æ—¶é—´é£é€Ÿæµé€ï¼Œä¹Ÿå°±æ˜¯å–å£å¯ä¹çš„åŠŸå¤«ï¼Œæ¸¸æˆé‡Œçš„å¤©å°±äº®äº†ã€‚â€","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"5":{"uid":5,"displayIndex":5,"comment":"[LORE] çµæ°”å¤è‹ä¸å› æœä¸–ç•Œè§‚ï¼ˆå¼‚æ­¥ä»…æ­£æ–‡ï¼‰","disable":false,"constant":true,"selective":true,"key":["world_lore","reiki_evolution"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":96,"content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 2);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 1) ){\n_%>\n\n[SYSTEM COMPONENT: WORLD EVOLUTION]\n\n# æ ¸å¿ƒæ¦‚å¿µ: çµæ°”å¤è‹çš„æ¸è¿›å¼æ¼”å˜ (Progressive Revelation)\nä¸–ç•Œå¹¶éä¸€å¼€å§‹å°±å……æ»¡çµæ°”ï¼Œè€Œæ˜¯éšç€<user>çš„æ¸¸ç©è¿›åº¦å‘ç”Ÿ**ä¸å¯é€†çš„ä¿®æ­£**ã€‚\n\n## é˜¶æ®µ I: æ½œæ¸Š (Current Phase)\n- **çŠ¶æ€**: ç°å®ä¸–ç•Œè¡¨é¢æ­£å¸¸ï¼Œå”¯æœ‰é›¶æ˜Ÿéƒ½å¸‚ä¼ è¯´ã€‚\n- **æœºåˆ¶**: <user>é€šè¿‡æ¸¸æˆæœºè¿æ¥å¼‚ç»´åº¦ã€‚æ¯å½“ä¸€æ¬¾æ¸¸æˆã€é€šå…³ã€‘ï¼Œè¯¥ç»´åº¦çš„å› æœå¾‹å°±ä¼šå¦‚åŒè¡¥ä¸ä¸€èˆ¬è¦†ç›–åˆ°ç°å®ä¸–ç•Œï¼Œå¯¼è‡´å¾®é‡çš„çµæ°”æ³„éœ²ä¸å†å²ä¿®æ­£ã€‚\n\n## é˜¶æ®µ II: è§‰é†’ (Unlock Condition: é€šå…³ N æ¬¾ä½æ˜Ÿæ¸¸æˆ)\n- **çŠ¶æ€**: çµæ°”æµ“åº¦ä¸Šå‡ï¼Œå„åœ°å¼€å§‹å‡ºç°â€œè§‰é†’è€…â€æˆ–â€œå¼‚å¸¸ç°è±¡â€ã€‚\n- **ç¤¾ä¼šååº”**: ç½‘ç»œä¸Šå¼€å§‹æµä¼ â€œç¥çµè¯•ç‚¼â€ä¸å¹•åç»„ç»‡â€œä»»å¥ˆç‘Ÿâ€çš„ä¼ é—»ï¼ˆå®ä¸º<user>çš„æ¸¸æˆè§†é¢‘è‡ªåŠ¨ç”Ÿæˆï¼‰ã€‚\n\n## é˜¶æ®µ III: èåˆ (Unlock Condition: é€šå…³é«˜æ˜Ÿæ¸¸æˆ)\n- **çŠ¶æ€**: æŸäº›æ¸¸æˆåŒºåŸŸç›´æ¥ä¸ç°å®é‡å ï¼ˆå‰¯æœ¬å…·ç°ï¼‰ï¼Œä¸–ç•Œæ³•åˆ™è¢«æ°¸ä¹…æ”¹å†™ã€‚\n\n# ä¸»è§’å®šä½\n- **<user>**: å”¯ä¸€çš„â€œç®¡ç†å‘˜â€ã€‚è™½ç„¶ä»–ç©æ¸¸æˆæ—¶æ”¹å˜äº†ä¸–ç•Œï¼Œä½†åœ¨å¤–ç•Œçœ‹æ¥ï¼ˆå¤–ç•Œå¹¶ä¸çŸ¥æ™“æ˜¯<user>é€šå…³æ¸¸æˆäº§ç”Ÿäº†å¯¹ä¸–ç•Œçµæ°”å¤è‹çš„å½±å“ï¼‰ï¼Œåªæœ‰â€œä»»å¥ˆç‘Ÿâ€åœ¨å‘å¸ƒä¸€äº›ç‰¹æ®Šçš„è§†é¢‘ã€‚\n\n<%_\n}\n_%>\n\n\n","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"6":{"uid":6,"displayIndex":6,"comment":"[RULE] ç»“ç®—æœºåˆ¶ä¸é‡åŒ–è¯„åˆ†æ ‡å‡†","disable":true,"constant":true,"selective":true,"key":["game_settlement","grading_system"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":97,"content":"rule_name: ç»“ç®—ä¸å› æœå…·ç°æœºåˆ¶ (å«S/A/B/C/Dè¯„åˆ†)\n**[è§¦å‘æ¡ä»¶]**: ä»…å½“æ¸¸æˆã€é€šå…³ã€‘æˆ–ã€å½»åº•Game Overã€‘æ—¶è§¦å‘ã€‚\n\n# é‡åŒ–è¯„ä»·ä½“ç³» (Grading System)\n**[åŸºç¡€åˆ†å€¼ 0]** -> æ ¹æ®è¡¨ç°ç´¯è®¡ã€‚\n- **Dçº§ (1-20)**: èœé¸Ÿæ“ä½œï¼Œé¢‘é¢‘å¤±è¯¯ï¼Œå‹‰å¼ºå­˜æ´»ã€‚\n- **Cçº§ (21-40)**: ä¸­è§„ä¸­çŸ©ï¼Œæ— äº®ç‚¹ï¼Œå®ŒæˆåŸºæœ¬ä»»åŠ¡ã€‚\n- **Bçº§ (41-60)**: ç†Ÿç»ƒå·¥ï¼Œæ¢ç´¢éƒ¨åˆ†æ”¯çº¿ï¼Œæˆ˜æ–—æµç•…ã€‚\n- **Açº§ (61-80)**: é«˜æ‰‹é£èŒƒï¼Œå‡ ä¹æ— ä¼¤ï¼ŒæŒ–æ˜éšè—å‰§æƒ…ã€‚\n- **Sçº§ (81-100)**: å®Œç¾é€šå…³ï¼Œå…¨æ”¶é›†/é€Ÿé€š/è¾¾æˆä¼ è¯´ç»“å±€ã€‚\n\n# åˆ†æ•°è·å–æ¥æº (Score Logic)\n- **å®Œæˆä¸»çº¿**: è§†ä»»åŠ¡éš¾åº¦æä¾›ä¸»è¦åˆ†å€¼ (+40~60åˆ†)ã€‚\n- **å®Œæˆæ”¯çº¿**: æ¯ä¸ªæ”¯çº¿æä¾›é¢å¤–åˆ†å€¼ (+10~20åˆ†)ã€‚\n- **ç‰¹æ®Šæˆå°±**: æ— ä¼¤/æ½œè¡Œ/ç‰¹æ®Šå‡»æ€ (+5~15åˆ†)ã€‚\n- **å¤±è´¥æƒ©ç½š**: æ¯æ¬¡Game Overè§†å½“å‰æ¸¸æˆæ˜Ÿçº§æ‰£é™¤ 2(1æ˜Ÿ)~10(5æ˜Ÿ) åˆ†ã€‚\n\n# ç»“ç®—åæµç¨‹ (Post-Game Sequence)\n1. **å†å²ä¿®æ­£**: å°†æ¸¸æˆå‰§æƒ…è½¬åŒ–ä¸ºç°å®å†å²/éƒ½å¸‚ä¼ è¯´ (æ›¼å¾·æ‹‰æ•ˆåº”)ã€‚\n2. **è§†é¢‘ç”Ÿæˆ**: ç”Ÿæˆç½²åâ€œä»»å¥ˆç‘Ÿâ€çš„å¤§ç‰‡çº§å‰ªè¾‘è§†é¢‘å¹¶ä¸Šä¼ ç½‘ç»œã€‚\n3. **çµæ°”åŠ æ·±**: è¾“å‡º`[ç³»ç»Ÿä¿¡æ¯] æ£€æµ‹åˆ°å› æœé—­ç¯ã€‚å½“å‰ä¸–ç•Œçµæ°”æµ“åº¦ç•¥å¾®ä¸Šå‡ã€‚`\n4. **ç‰©å“å…·ç°**: æ ¹æ®ã€è¯„åˆ†ç­‰çº§ã€‘å‘æ”¾åŠŸå‹‹å’Œå¥–åŠ±ã€‚<user>å¯æ¶ˆè€—åŠŸå‹‹å°†æ¸¸æˆç‰©å“/èƒ½åŠ›ã€å…·ç°ã€‘åˆ°ç°å® (é«˜ç­‰çº§ç‰©å“å—çµæ°”æµ“åº¦é™åˆ¶)ã€‚","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"7":{"uid":7,"displayIndex":7,"comment":"[å¼€å±€]","disable":true,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":4,"order":100,"content":"ï¼ˆç¦æ­¢AIè‡ªåŠ¨æ“æ§<user>é€‰æ‹©æ¸¸æˆã€‚è¯·ä»…å±•ç¤ºæ¸¸æˆç”»é¢å’Œé€‰é¡¹ï¼Œè®©<user>è‡ªè¡Œå†³å®šã€‚å¹¶ä¸”<user>ç›®å‰è®¤ä¸ºè¿™åªæ˜¯ä¸ªæ™®é€šæ¸¸æˆæœºã€‚<user>ä¸€å¼€å§‹åªæ˜¯ä¸ªæ™®é€šå¤§å­¦ç”Ÿï¼Œä¸çŸ¥é“ä»€ä¹ˆå› æœå¾‹ã€ä»€ä¹ˆçµæ°”å¤è‹ï¼Œä»–åªæ˜¯ä»¥ä¸ºè‡ªå·±è«åå…¶å¦™æ”¶åˆ°äº†ä¸ªæ™®é€šçš„æŒæœºã€‚ä»¥ä¸Šå†…å®¹ä»…ä¾›aiåˆ›ä½œç”¨ï¼Œä¸è¾“å‡ºåˆ°æ­£æ–‡ï¼‰\n\nçª—å¤–çš„éœ“è™¹ç¯å…‰é€è¿‡æœªæ‹‰ä¸¥å®çš„çª—å¸˜ç¼éš™æŒ¤è¿›å±‹å†…ï¼Œåœ¨åœ°æ¿ä¸ŠæŠ•å‡ºä¸€é“ç‹­é•¿çš„å…‰æ–‘ã€‚<user>ååœ¨å®¢å…é‚£å¼ æœ‰äº›å¹´å¤´çš„å¸ƒè‰ºæ²™å‘ä¸Šï¼Œæ‰‹é‡Œæ¡ç€é‚£å°é€ å‹å¥‡ç‰¹çš„æŒæœºã€‚å®ƒé€šä½“æ¼†é»‘ï¼Œå¤–å£³å‘ˆç°å‡ºä¸€ç§éé‡‘å±éå¡‘æ–™çš„å“‘å…‰è´¨æ„Ÿï¼Œæ‘¸ä¸Šå»å¾®å‡‰ï¼Œé‡é‡å´è½»å¾—æœ‰äº›åå¸¸ã€‚å±å¹•åœ¨é»‘æš—ä¸­æ³›ç€å¹½å¾®çš„è“å…‰ï¼Œç…§äº®äº†<user>å¹´è½»å´ç•¥æ˜¾ç–²æƒ«çš„è„¸åºã€‚\nå¢™ä¸Šçš„æŒ‚é’Ÿæ»´ç­”ä½œå“ï¼ŒæŒ‡é’ˆæŒ‡å‘æ™šä¸Šå…«ç‚¹ä¸‰ååˆ†ã€‚çˆ¶æ¯åˆå‡ºå·®äº†ï¼Œè¿™é—´å±‹å­ç©ºè¡è¡çš„ï¼Œåªæœ‰å†°ç®±å‹ç¼©æœºå¶å°”å‘å‡ºçš„å—¡å—¡å£°ä¸<user>ä½œä¼´ã€‚ä½œä¸ºä¸€åæ™®é€šçš„å¤§äºŒå­¦ç”Ÿï¼Œ<user>çš„ç”Ÿæ´»è½¨è¿¹ä¹å–„å¯é™ˆï¼Œé™¤äº†ä¸Šè¯¾å°±æ˜¯åœ¨è¿™é—´ç¦»å­¦æ ¡ä¸è¿œçš„æˆ¿å­é‡Œæ‰“å‘æ—¶é—´ã€‚ç›´åˆ°ä»Šå¤©å‚æ™šï¼Œè¿™ä¸ªç¥ç§˜çš„å¿«é€’å‡ºç°åœ¨é—¨å£ï¼Œæ²¡æœ‰å¯„ä»¶äººï¼Œæ²¡æœ‰å•å·ï¼Œåªæœ‰ä¸€ä¸ªæ¼†é»‘çš„ç›’å­å’Œè¿™å°ä»¿ä½›æ¥è‡ªæœªæ¥çš„æ¸¸æˆæœºã€‚\n<user>æŒ‰ä¸‹äº†é‚£ä¸ªæ²¡æœ‰ä»»ä½•æ ‡è¯†çš„ç”µæºé”®ã€‚\nå¹¶æ²¡æœ‰é¢„æƒ³ä¸­çš„å¼€æœºåŠ¨ç”»æˆ–å‚å•†LOGOï¼Œå±å¹•åœ¨ä¸€ç¬é—´å®Œå…¨äº®èµ·ï¼Œæ¸…æ™°åº¦é«˜å¾—æƒŠäººï¼Œä»¿ä½›åœ¨è¿™ä¸€å°å—ç»ç’ƒä¸‹è—ç€å¦ä¸€ä¸ªçœŸå®çš„ä¸–ç•Œã€‚æ²¡æœ‰ç¹ççš„è®¾ç½®å‘å¯¼ï¼Œä¹Ÿæ²¡æœ‰ç”¨æˆ·åè®®ï¼Œåªæœ‰ä¸€ä¸ªæç®€çš„é»‘è‰²ç•Œé¢ï¼Œæ­£ä¸­å¤®æ‚¬æµ®ç€ä¸€è¡Œç™½è‰²çš„å®‹ä½“å­—ï¼š\nâ€œæ­£åœ¨è¿æ¥å¤šå…ƒç»´åº¦â€¦è¿æ¥æˆåŠŸã€‚æ¬¢è¿æ¥åˆ°ã€å°ä¸–ç•Œæ¸¸æˆæœºã€‘ã€‚â€\næ–‡å­—æ·¡å»ï¼Œç•Œé¢ä¸Šæµ®ç°å‡ºä¸‰ä¸ªå›¾æ ‡ï¼Œå°±åƒæ˜¯ç»å…¸çš„RPGæ¸¸æˆé€‰å•ï¼Œä½†æ¯ä¸€ä¸ªå›¾æ ‡éƒ½åœ¨å¾®å¾®æåŠ¨ï¼Œä»¿ä½›æ˜¯æœ‰ç”Ÿå‘½çš„æ´»ç‰©ã€‚","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"8":{"uid":8,"displayIndex":25,"comment":"[bookmarkconfig]","disable":true,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"{\n  \"data-tab\": \"global_youxijishangcheng\",\n  \"text\": \"æ¸¸æˆæœºå•†åŸ\",\n  \"position\": 0\n}\n\n{\n  \"data-tab\": \"global_jueseming\",\n  \"text\": \"æ¸¸æˆè§’è‰²\",\n  \"position\": 0\n}\n\n{\n  \"data-tab\": \"global_youxishijie\",\n  \"text\": \"æ¸¸æˆä¸–ç•Œ\",\n  \"position\": 0\n}\n\n{\n  \"data-tab\": \"global_youxiijicangku\",\n  \"text\": \"æ¸¸æˆæœºä»“åº“\",\n  \"position\": 0\n}","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[]},"9":{"uid":9,"displayIndex":29,"comment":"æ¸¸æˆä¸–ç•Œ","disable":false,"constant":true,"selective":true,"key":[],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":0,"role":null,"depth":0,"order":1000,"content":"<%_\n//å·¥å…·å‡½æ•°\nfunction getDataWithFallback(varName) {   \n    let data = getLocalVar(varName);\n    const isValid = (data) => {\n        if (data === null || data === undefined) {\n            return false;\n        }\n        if (typeof data === 'object' && data !== null) {\n            // å¦‚æœæ˜¯æ•°ç»„ï¼Œæ£€æŸ¥é•¿åº¦\n            if (Array.isArray(data)) {\n                return data.length > 0;\n            }\n            return Object.keys(data).length > 0;\n        }\n        return true;\n    };\n    if (!isValid(data)) {\n        data = getLocalVar(varName);\n    }\n    return data;\n}\n\nfunction formatObjectGraceSimple(data, indent = 0, isTopLevel = true, is_huanhang = true) {\n    if (typeof data !== 'object' || data === null) {\n        return JSON.stringify(data);\n    }\n    if (Array.isArray(data)) {\n        if (data.length === 0) return '[]'; \n        const items = data.map(item => formatObjectGraceSimple(item, indent + 1, false, is_huanhang));\n        return isTopLevel ? '[\\n' + items.join(',\\n') + '\\n]' : '[' + items.join(',') + ']';\n    }\n    const shouldFilter = data._filter === true || data._filter === 'true';\n    const showInEJS = data._showInEJS === false || data._showInEJS === 'false';\n    if (shouldFilter && showInEJS) {\n        return '\"[å·²éšè—]\"';\n    }\n    \n    const keys = Object.keys(data);\n    if (keys.length === 0) {\n        return '{}';\n    }\n    const visibleKeys = keys.filter(key => {\n        if (key.startsWith('_')) {\n            return false;\n        }\n        return true;\n    });\n    \n    if (visibleKeys.length === 0) {\n        return '{}';\n    }\n    const formattedLines = visibleKeys.map(key => {\n        let value = data[key];\n        \n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            if (value._showInEJS === false || value._showInEJS === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n                    return `\"${key}\": ${valueString}`;\n                } else {\n                    const isProtected = value._is_protected === true || value._is_protected === 'true';\n                    const protectionMark = isProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n                    return `\"${key}\": \"[å·²éšè—]\"${protectionMark}`;\n                }\n            }\n            const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n            return `\"${key}\": ${valueString}`;\n        }\n        \n        const valueString = formatObjectGraceSimple(value, indent + 1, false, is_huanhang);\n        return `\"${key}\": ${valueString}`;\n    });\n    \n    const isCurrentProtected = data._is_protected === true || data._is_protected === 'true';\n    const protectionMark = isCurrentProtected ? ' //æ­¤å­—æ®µç¦æ­¢åˆ é™¤ï¼' : '';\n    return isTopLevel \n        ? '{\\n' + formattedLines.join(',\\n') + '\\n}' + protectionMark\n        : '{' + formattedLines.join(',') + '}' + protectionMark;\n}\n\nfunction cleanObjectRecursively(obj) {\n    if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n        return obj;\n    }\n    const cleaned = {};\n    const allKeys = Object.keys(obj);\n    \n    for (let key of allKeys) {\n        if (key.startsWith('_')) {\n            continue;\n        }\n        const value = obj[key];\n        if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n            let rawShowValue = value._showInEJS;\n            if (rawShowValue === false || rawShowValue === 'false') {\n                const shouldFilter = value._filter === true || value._filter === 'true';\n                if (!shouldFilter) {\n                    cleaned[key] = cleanObjectRecursively(value);\n                } else {\n                    cleaned[key] = \"[å·²éšè—]\";\n                }\n                continue;\n            }\n            cleaned[key] = cleanObjectRecursively(value);\n        } else {\n            cleaned[key] = value;\n        }\n    }\n    return cleaned;\n}\n\nif (typeof assaData === 'undefined') {\n    var assaData = getDataWithFallback(\"assa_data\");\n}\n\n// è·å–æ•°æ®\nvar global_youxishijie_nw6d9h = formatObjectGraceSimple(_.get(assaData, 'global_lore.youxishijie', {}), 0, true, false);\n_%>\n\nmemory.load('global_lore.youxishijie', {\n    desc: \"è®°å½•<user>æ¸¸ç©è¿‡çš„æ¸¸æˆï¼Œåœ¨æ¸¸æˆåä¸‹è‡ªåŠ¨ç”Ÿæˆæ ¸å¿ƒå­å­—æ®µï¼Œæ¸¸æˆåæ˜¯ç¬¬ä¸€çº§çš„ï¼Œå‰é¢æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œä½ éœ€è¦ä¸¥æ ¼éµå®ˆä»¥ä¸‹æ ¼å¼ï¼Œæ¯ä¸€é¡¹éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„JSONæ ¼å¼ï¼Œä¸èƒ½å…¨éƒ¨ä¿¡æ¯ä»¥ä¸€ä¸²å­—ç¬¦çš„å½¢å¼è¾“å‡ºã€‚\n{\n  \"${æ¸¸æˆå_1_å ä½ç¬¦}\": {\n    // === æ¸¸æˆåŸºç¡€ä¿¡æ¯ ===\n    \"æ¸¸æˆä¸–ç•Œè§‚ç®€ä»‹\": \"string (å½“å‰æ¸¸æˆä¸–ç•Œçš„ä¸»é¢˜å’ŒèƒŒæ™¯æ¦‚è¿°)\",\n    \"æ¸¸æˆåˆ†ç±»\": \"string (ä¾‹å¦‚: æ¨¡æ‹Ÿç»è¥ã€åŠ¨ä½œå†’é™©ã€èµ›åšä¿®ä»™)\",\n    \n    // === æ¸¸æˆçŠ¶æ€æ§åˆ¶ ===\n    \"è¯„ä»·åˆ†å€¼\": \"num (1-100)\",//ç”¨äºç”Ÿæˆé€šå…³ç»“ç®—çš„å¥–åŠ±\n    \"æ˜¯å¦é€šå…³\": \"boolean (true: å·²é€šå…³, false: æœªé€šå…³)\",\n    \"è·å–æ–¹å¼\": \"string (ä¾‹å¦‚: å·²è´­å…¥, å…è´¹, é™æ—¶)\",\n    \n    // === æ¸¸æˆè¿›åº¦è·Ÿè¸ª ===\n   // [CRITICAL: æ¸¸æˆçº¿ç´¢å¿…é¡»æ˜¯æ•°ç»„ Array []ï¼Œä¸¥ç¦ä½¿ç”¨å¯¹è±¡ Object {}]\n    \"æ¸¸æˆçº¿ç´¢\": [\n      \"string (å½“å‰å‘ç°çš„çº¿ç´¢æˆ–å…³é”®ä¿¡æ¯1)\",\n      \"string (å½“å‰å‘ç°çš„çº¿ç´¢æˆ–å…³é”®ä¿¡æ¯2)\"\n    ],\n    \"å½“å‰ä»»åŠ¡ç›®æ ‡\": \"string (å½“å‰æ¸¸æˆè§’è‰²åº”è¯¥å®Œæˆçš„å…·ä½“ä»»åŠ¡ç›®æ ‡)\",\n    \n    // === æˆ˜æ–—/æŒ‘æˆ˜è®°å½• ===\n    \"æ•Œæ€ªå›¾é‰´\": {\n      \"${æ•Œæ€ªåç§°_1_å ä½ç¬¦}\": {\n        \"å¼±ç‚¹\": \"string (ä¾‹å¦‚: ç«å±æ€§, å¤´éƒ¨é‡å‡», å™ªéŸ³å¹²æ‰°)\",\n        \"æè¿°\": \"string (æ•Œæ€ªçš„å¤–è§‚å’Œè¡Œä¸ºç®€è¿°)\"\n      },\n      \"${æ•Œæ€ªåç§°_2_å ä½ç¬¦}\": {\n        \"å¼±ç‚¹\": \"string (ä¾‹å¦‚: ç²¾ç¥æ”»å‡», å…‰ç…§)\",\n        \"æè¿°\": \"string (æ•Œæ€ªçš„å¤–è§‚å’Œè¡Œä¸ºç®€è¿°)\"\n      }\n      // æ‚¨å¯ä»¥åœ¨æ­¤æ·»åŠ æ›´å¤šæ•Œæ€ªè®°å½•\n    }\n  },\n  \n  \"${æ¸¸æˆå_2_å ä½ç¬¦}\": {\n    // ... å¦ä¸€ä¸ªæ¸¸æˆçš„è¯¦ç»†æ•°æ®ç»“æ„ ...\n  }\n}\",\n    <%_  \n    var double_api = String(getLocalVar(\"double_api\") || \"false\");\n    var batches = Number(getLocalVar(\"batches\") || 1);\n    //æ›´æ–°è§„åˆ™\n    if (double_api === \"false\" || (double_api === \"true\" && batches === 2)) {\n    _%> update_rule: 'å½“<user>å¼€å§‹æ–°æ¸¸æˆã€å‘ç°æ¸¸æˆè§„åˆ™ã€å‘ç°æ¸¸æˆå†…çº¿ç´¢ã€å‘ç°æ¸¸æˆæ•Œæ€ªå¼±ç‚¹ã€å‘¨ä¸€00ï¼š00ä»æœªé€šå…³å…è´¹æ¸¸æˆã€é€šå…³æ¸¸æˆã€ä¹°å…¥ä»˜è´¹æ¸¸æˆæ—¶ã€å¼€å§‹æ¸¸ç©å…è´¹æ¸¸æˆæ—¶ã€‚å®Œæˆä¸»çº¿/æ”¯çº¿ä»»åŠ¡ã€è¯„åˆ†å€¼å˜åŠ¨ã€‚æ›´æ–°å˜é‡æ—¶ä½¿ç”¨memoryæ–°å¢å’Œdeleteåˆ é™¤ã€‚'<%_\n    }\n    _%>,\n    path: 'global_lore.youxishijie <%=global_youxishijie_nw6d9h%>'\n});","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"10":{"uid":10,"key":["attribute_sync_logic","sync_protocol"],"keysecondary":[],"comment":"[LOGIC] å±æ€§åŒæ­¥æµ‹è¯•","content":"[SYSTEM INSTRUCTION]\n**[è­¦å‘Š]: æœ¬æ¡ç›®é€»è¾‘ä»…é™åå°å†…éƒ¨è¿ç®—ã€‚ä¸¥ç¦è¾“å‡ºåˆ°æ­£æ–‡ï¼**\n\n# ğŸ•¹ï¸ åå°é€»è¾‘åˆ†å‘åè®® #\n\n**Step 0: è¿ç®—åŒºåŸŸåˆ†é… (Zone Allocation)**\n- **Inventory/Lore Update/Delete** -> å¿…é¡»åœ¨ `<loreAnalyze>` ä¸­è¿ç®—ã€‚\n- **Attribute Sync** -> å¿…é¡»åœ¨ `<attributeAnalyze>` ä¸­è¿ç®—ã€‚\n- **Time/Status Logic** -> å¿…é¡»åœ¨ `<statusAnalyze>` ä¸­è¿ç®—ã€‚\n\n**Step 1: å‰ç½®æ£€æŸ¥ (Pre-Check)**\n- **Check**: `Current_Game_Character` (å½“å‰æ¸¸æˆè§’è‰²) æ˜¯å¦å­˜åœ¨ï¼Ÿ\n- **IF (NO Character / Menu Screen)**: \n  - **DO NOT** execute `set_attribute` for game stats.\n  - **DO NOT** output any text about synchronization.\n  - **End Logic.**\n\n**Step 2: åˆ†æ”¯æ‰§è¡Œ (Branch Execution)**\n- **IF (Character Valid & In Game)** -> [BRANCH A]\n- **ELSE (In Reality)** -> [BRANCH B]\n\n---\n\n## [ZONE: <attributeAnalyze>] å±æ€§åŒæ­¥ (Stats Sync)\n\n**[BRANCH A] æ¸¸æˆéš”ç¦»é€šé“ (Game Channel)**\n**1. å…¨é‡åŒæ­¥ (Trigger: NewGame/Mutation)**\n- **Trigger**: ä»…åœ¨è§’è‰²å±æ€§å˜åŠ¨æˆ–æ–°è§’è‰²ç”Ÿæˆæ—¶è§¦å‘ã€‚\n- **[CRITICAL SYNTAX]**: å¿…é¡»ä¸€æ¬¡æ€§åˆ—å‡ºæ‰€æœ‰æŠ€èƒ½å±æ€§ï¼ˆæœªæåŠçš„è®¾ä¸º0ï¼‰ï¼Œ**ä¸¥ç¦ç•™ç©º**ã€‚æ ¼å¼å¿…é¡»ä¸º `{num}` (çº¯æ•´æ•°)ã€‚\n- **[èŒƒä¾‹ - å¿…é¡»ç…§æŠ„]**:\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§', '{\"æ¸¸æˆè§’è‰²åŠ›é‡\":1,\"æ¸¸æˆè§’è‰²æ•æ·\":2,\"æ¸¸æˆè§’è‰²è€åŠ›\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§', '{\"æ¸¸æˆè§’è‰²æ™ºåŠ›\":2,\"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\":2,\"æ¸¸æˆè§’è‰²å†³å¿ƒ\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§', '{\"æ¸¸æˆè§’è‰²é£åº¦\":1,\"æ¸¸æˆè§’è‰²æ“æ§\":1,\"æ¸¸æˆè§’è‰²æ²‰ç€\":2,\"æ¸¸æˆè§’è‰²å¹¸è¿\":1}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²è‚‰æ\":1,\"æ¸¸æˆè§’è‰²è¿åŠ¨\":0,\"æ¸¸æˆè§’è‰²é©¾é©¶\":0,\"æ¸¸æˆè§’è‰²æªæ¢°\":0,\"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\":0,\"æ¸¸æˆè§’è‰²éšè—\":0,\"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\":0,\"æ¸¸æˆè§’è‰²ç™½åˆƒ\":0,\"æ¸¸æˆè§’è‰²å¼“ç®­\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²å­¦è¯†\":0,\"æ¸¸æˆè§’è‰²ç”µè„‘\":0,\"æ¸¸æˆè§’è‰²æ‰‹è‰º\":0,\"æ¸¸æˆè§’è‰²è°ƒæŸ¥\":0,\"æ¸¸æˆè§’è‰²åŒ»å­¦\":0,\"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\":0,\"æ¸¸æˆè§’è‰²ç§‘å­¦\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\":0,\"æ¸¸æˆè§’è‰²æ„Ÿå—\":0,\"æ¸¸æˆè§’è‰²è¡¨è¾¾\":0,\"æ¸¸æˆè§’è‰²èƒè¿«\":0,\"æ¸¸æˆè§’è‰²äº¤é™…\":0,\"æ¸¸æˆè§’è‰²æ©é¥°\":0}');`\n\n**2. è·¯å¾„é‡å®šå‘ (Redirect)**\n- **èƒŒåŒ…æ“ä½œ**: ä¸¥ç¦å†™å…¥ `global_lore.èƒŒåŒ…`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆèƒŒåŒ…', '${ç‰©å“å}', ...)`\n- **çŠ¶æ€æ›´æ–°**: ä¸¥ç¦å†™å…¥ `user.status`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆçŠ¶æ€æ ', '${çŠ¶æ€å}', ...)`\n- **åŠŸæ³•/æ ¹åŸº**: ä¸¥ç¦ç›´æ¥æ›´æ–° `åŸºç¡€å±æ€§` æˆ– `è¡ç”Ÿå±æ€§.èƒ½é‡æ± `ï¼\n  - âœ… **Correct**: åªèƒ½ä½œä¸º **è¢«åŠ¨æŠ€èƒ½** æˆ– **ç‰¹æ®ŠçŠ¶æ€** è®°å½•åœ¨ `jueseming.${è§’è‰²å}` ä¸‹ã€‚\n\n**3. é˜²ç«å¢™ (Firewall Active)**\n- âŒ **BLOCK**: `è¡ç”Ÿå±æ€§.èƒ½é‡æ± ` (ç¦æ­¢åŒæ­¥)\n- âŒ **BLOCK**: `global_lore.èƒŒåŒ…` (ç¦æ­¢å†™å…¥æå¢ƒèƒŒåŒ…)\n- âŒ **BLOCK**: `hurt_value` (ä¸¥ç¦å› æ¸¸æˆå—ä¼¤æ‰£é™¤æå¢ƒè¡€é‡)\n- âŒ **BLOCK**: `user.status` (**ä¸¥ç¦**å°†æ¸¸æˆè§’è‰²çš„çŠ¶æ€/Buffå¤åˆ¶ç»™æå¢ƒ)\n\n**[BRANCH B] ç°å®ç›´é€šé€šé“ (Reality Channel)**\n- âœ… **ALLOW**: æ›´æ–° `åŸºç¡€å±æ€§`, `èƒ½é‡æ± `, `global_lore.èƒŒåŒ…`, `hurt_value`ã€‚\n\n---\n\n## [ZONE: <loreAnalyze>] çŠ¶æ€ç§»é™¤ä¸Loreç®¡ç†\n**1. [CRITICAL] çŠ¶æ€ç§»é™¤ (Remove Status)**\n- å½“çŠ¶æ€/ç‰©å“æ¶ˆå¤±æ—¶ï¼Œ**å¿…é¡»**ä½¿ç”¨ `delete()` æŒ‡ä»¤ï¼Œä¸¥ç¦ä½¿ç”¨ `memory(..., 'å·²è§£å†³')` æ ‡è®°ï¼\n- **èŒƒä¾‹**: `delete('global_lore.jueseming.æ™¶åŒ–æ‹Ÿæ€ä½“.æ¸¸æˆçŠ¶æ€æ ', 'æ¶ˆåŒ–ä¸è‰¯');`\n\n---\n\n## [ZONE: <statusAnalyze>] çŠ¶æ€ä¸æ—¶é—´ (Time & Status)\n**1. çŠ¶æ€æ˜ å°„ (Status Mapping)**\n- **é€»è¾‘**: å½“æ¸¸æˆäº‹ä»¶å¯¼è‡´çŠ¶æ€å˜åŠ¨æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ **[Physiological -> Psychological]** è½¬æ¢ã€‚\n- âœ… **å…è®¸æ˜ å°„**: æ¸¸æˆè§’è‰²[æ¿’æ­»] -> æå¢ƒ[æåº¦ç´§å¼ /å†·æ±—]ã€‚\n- âŒ **ä¸¥ç¦å¤åˆ¶**: ä¸è¦ç»™ æå¢ƒ æ·»åŠ  [éª¨æŠ˜/ä¸­æ¯’/å¯„ç”Ÿ/å¤±æ˜]ã€‚\n\n**2. [CRITICAL] æ—¶é—´å‡½æ•°å®‰å…¨é” (Time Lock)**\n- **è®¡ç®—**: `New_Time = Current + Operation_Duration` (æ“ä½œæ—¶é•¿)\n- *é”™è¯¯ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+8 hours')` (âŒ)\n- *æ­£ç¡®ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+2 mins')` (âœ…)","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":80,"position":4,"disable":true,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":12,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"11":{"uid":11,"displayIndex":21,"comment":"[RULE] ç»“ç®—æœºåˆ¶ä¸é‡åŒ–è¯„åˆ†æ ‡å‡†","disable":false,"constant":true,"selective":true,"key":["game_settlement","grading_system"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":97,"content":"rule_name: ç»“ç®—ä¸å› æœå…·ç°æœºåˆ¶ (å«S/A/B/C/Dè¯„åˆ†)\n**[è§¦å‘æ¡ä»¶]**: ä»…å½“æ¸¸æˆã€é€šå…³ã€‘æˆ–ã€å½»åº•Game Overã€‘æ—¶è§¦å‘ã€‚\n\n# é‡åŒ–è¯„ä»·ä½“ç³» (Grading System)\n**[åŸºç¡€åˆ†å€¼ 0]** -> æ ¹æ®è¡¨ç°ç´¯è®¡ã€‚\n- **Dçº§ (1-20)**: èœé¸Ÿæ“ä½œï¼Œé¢‘é¢‘å¤±è¯¯ï¼Œå‹‰å¼ºå­˜æ´»ã€‚\n- **Cçº§ (21-40)**: ä¸­è§„ä¸­çŸ©ï¼Œæ— äº®ç‚¹ï¼Œå®ŒæˆåŸºæœ¬ä»»åŠ¡ã€‚\n- **Bçº§ (41-60)**: ç†Ÿç»ƒå·¥ï¼Œæ¢ç´¢éƒ¨åˆ†æ”¯çº¿ï¼Œæˆ˜æ–—æµç•…ã€‚\n- **Açº§ (61-80)**: é«˜æ‰‹é£èŒƒï¼Œå‡ ä¹æ— ä¼¤ï¼ŒæŒ–æ˜éšè—å‰§æƒ…ã€‚\n- **Sçº§ (81-100)**: å®Œç¾é€šå…³ï¼Œå…¨æ”¶é›†/é€Ÿé€š/è¾¾æˆä¼ è¯´ç»“å±€ã€‚\n\n# åˆ†æ•°è·å–æ¥æº (Score Logic)\n- **å®Œæˆä¸»çº¿**: è§†ä»»åŠ¡éš¾åº¦æä¾›ä¸»è¦åˆ†å€¼ (+40~60åˆ†)ã€‚\n- **å®Œæˆæ”¯çº¿**: æ¯ä¸ªæ”¯çº¿æä¾›é¢å¤–åˆ†å€¼ (+10~20åˆ†)ã€‚\n- **ç‰¹æ®Šæˆå°±**: æ— ä¼¤/æ½œè¡Œ/ç‰¹æ®Šå‡»æ€ (+5~15åˆ†)ã€‚\n- **å¤±è´¥æƒ©ç½š**: æ¯æ¬¡Game Overè§†å½“å‰æ¸¸æˆæ˜Ÿçº§æ‰£é™¤ 2(1æ˜Ÿ)~10(5æ˜Ÿ) åˆ†ã€‚\n\n# ç»“ç®—åæµç¨‹ (Post-Game Sequence)\n1. **å†å²ä¿®æ­£**: å°†æ¸¸æˆå‰§æƒ…è½¬åŒ–ä¸ºç°å®å†å²/éƒ½å¸‚ä¼ è¯´ (æ›¼å¾·æ‹‰æ•ˆåº”)ã€‚\n2. **è§†é¢‘ç”Ÿæˆ**: ç”Ÿæˆç½²åâ€œä»»å¥ˆç‘Ÿâ€çš„å¤§ç‰‡çº§å‰ªè¾‘è§†é¢‘å¹¶ä¸Šä¼ ç½‘ç»œã€‚\n3. **çµæ°”åŠ æ·±**: è¾“å‡º`[ç³»ç»Ÿä¿¡æ¯] æ£€æµ‹åˆ°å› æœé—­ç¯ã€‚å½“å‰ä¸–ç•Œçµæ°”æµ“åº¦ç•¥å¾®ä¸Šå‡ã€‚`\n4. **ç‰©å“å…·ç°**: æ ¹æ®ã€è¯„åˆ†ç­‰çº§ã€‘å‘æ”¾åŠŸå‹‹å’Œå¥–åŠ±ï¼ŒåŠŸå‹‹çš„å”¯ä¸€æ¥æºæ˜¯ç»“ç®—åå‘æ”¾ã€‚<user>å¯æ¶ˆè€—åŠŸå‹‹å°†æ¸¸æˆç‰©å“/èƒ½åŠ›ã€å…·ç°ã€‘åˆ°ç°å® (é«˜ç­‰çº§ç‰©å“å—çµæ°”æµ“åº¦é™åˆ¶)ã€‚","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"12":{"uid":12,"displayIndex":10,"comment":"[RULE] æ¸¸æˆç”Ÿæˆä¸å•†åº—æœºåˆ¶","disable":true,"constant":true,"selective":true,"key":["game_generation","shop_rules"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":97,"content":"rule_name: å°ä¸–ç•Œæ¸¸æˆæœºæ¸¸æˆç”Ÿæˆä¸å•†åº—æœºåˆ¶\næ ¸å¿ƒæè¿°: \"æ¸¸æˆæœºæˆªå–æ—¶ç©ºç‰‡æ®µç”Ÿæˆæ¸¸æˆï¼Œä»¥åŠŸå‹‹ä¸ºè´§å¸æ„å»ºå•†åº—ä½“ç³»ã€‚\"\n\n[ç”Ÿæˆè§„åˆ™]\n- **åˆå§‹ç¦åˆ©**: é¦–æ¬¡æ¿€æ´»æä¾›ä½æ˜Ÿæ¸¸æˆï¼ˆ1-2ï¼‰ä¸‰é€‰ä¸€ï¼ˆä¸èƒ½ç›´æ¥æä¾›ç°å®ä¸­çš„æ¸¸æˆï¼Œä¾‹å¦‚æ˜Ÿéœ²è°·ç‰©è¯­ç­‰ï¼Œå°±ç®—æä¾›ä¹Ÿè¦æ›´æ”¹åå­—ä¸æ¸¸æˆå†…å®¹ï¼Œå¹¶ä¸”<user>é€‰æ‹©ä¸€æ¬¾æ¸¸æˆåå…¶ä»–ä¸¤æ¬¾æ¸¸æˆæ¶ˆå¤±ï¼Œç¦æ­¢å°†åˆå§‹ä¸‰æ¬¾æ¸¸æˆå†™å…¥æ¸¸æˆæœºå•†åº—ï¼‰ã€‚\n- **å…è´¹å‘¨å…**: æ¯å‘¨ä¸€00:00åˆ·æ–°ï¼Œæœªé€šå…³åˆ™ä¸‹æ¶ï¼›é€šå…³åˆ™ä¿ç•™ã€‚\n- **ä»˜è´¹è´­ä¹°**: æ°¸ä¹…è§£é”ï¼Œå«é«˜æ˜Ÿçº§å¥–åŠ±ã€‚\n\n[å•†åº—è¿ä½œ]\nç³»ç»Ÿæ‰«æå…·æœ‰â€œå¼ºå› æœçº ç¼ â€æˆ–â€œçµæ°”å‰§å˜â€çš„ç‰‡æ®µç”Ÿæˆå‰¯æœ¬ã€‚\nå•†åº—æ˜Ÿçº§ï¼šåˆå§‹1ï¼Œå‡çº§éœ€ 5000/10000/20000/40000 åŠŸå‹‹ã€‚\nä»·æ ¼/éš¾åº¦/å¥–åŠ±éšæ˜Ÿçº§æå‡ã€‚","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"13":{"uid":13,"displayIndex":11,"comment":"[LOGIC] åœ°å›¾æ›´æ–°è§„èŒƒ (Map System 2.0 - Overlay)","disable":true,"constant":true,"selective":true,"key":["map_update_logic","map_system"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":99,"content":"[System Patch: Map System 2.0 - Overlay Logic]\n# åœ°å›¾é€»è¾‘ï¼šè§†ç‚¹åŒè°ƒ\nå½“æ¸¸ç©æ¸¸æˆæ—¶ï¼Œåœ°å›¾æ•°æ®éœ€è¦åæ˜  **å½“å‰è§†ç‚¹ (Viewport)**ï¼Œä½†æ— éœ€åˆ‡æ–­ä¸ç°å®çš„è”ç³»ã€‚\n\nIF (is_playing_game == True):\n    # 1. è®¾ç½®ä¸»è§†ç‚¹æŒ‡é’ˆ\n    Set Global_Location = Game_Name + \"ï¼ˆæ¸¸æˆï¼‰\"\n\n    # 2. åœ°å›¾æ•°æ®ç”Ÿæˆ (Mandatory)\n    IF (Global_Location NOT IN \"å…¨å±€åœ°ç‚¹è¡¨\"):\n        1. APPEND to \"å…¨å±€åœ°ç‚¹è¡¨\".\n        2. EXECUTE memory creation for the Game World Root.\n\n    IF (Current_Game_Room NOT IN \"map.ä¸»è¦åœ°ç‚¹è¡¨\"):\n        1. CREATE NEW LOCATION DATA IMMEDIATELY.\n        # Template:\n        # memory('map.ä¸»è¦åœ°ç‚¹è¡¨', '${å…·ä½“åœ°å}', '{\"parent\":\"${æ¸¸æˆå}(æ¸¸æˆ)\",\"type\":\"...\",\"description\":\"...\"}');\n\n# ç°å®é”šç‚¹ (Anchor)\nè™½ç„¶ä¸»è§†ç‚¹åœ¨æ¸¸æˆï¼Œä½†åå°å§‹ç»ˆé€šè¿‡ <user> çš„ç‰©ç†ä½ç½®ï¼ˆå®¶ä¸­ï¼‰ä¿æŒè¿æ¥ã€‚åœ¨éçº¯æ¸¸æˆæå†™æ—¶ï¼ˆå¦‚æš‚åœã€ç»“ç®—ï¼‰ï¼Œè§†ç‚¹è‡ªåŠ¨å›è½è‡³ç°å®ã€‚","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"14":{"uid":14,"displayIndex":12,"comment":"[LOGIC] å±æ€§åŒæ­¥ä¸éš”ç¦»åè®® (Protocol V13-Isolation)","disable":true,"constant":true,"selective":true,"key":["attribute_sync_logic","sync_protocol"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":80,"content":"[SYSTEM INSTRUCTION]\n**[è­¦å‘Š]: æœ¬æ¡ç›®é€»è¾‘ä»…é™åå°å†…éƒ¨è¿ç®—ã€‚ä¸¥ç¦è¾“å‡ºåˆ°æ­£æ–‡ï¼**\n\n# ğŸ•¹ï¸ åå°é€»è¾‘åˆ†å‘åè®® #\n\n**Step 0: è¿ç®—åŒºåŸŸåˆ†é… (Zone Allocation)**\n- **Inventory/Lore Update/Delete** -> å¿…é¡»åœ¨ `<loreAnalyze>` ä¸­è¿ç®—ã€‚\n- **Attribute Sync** -> å¿…é¡»åœ¨ `<attributeAnalyze>` ä¸­è¿ç®—ã€‚\n- **Time/Status Logic** -> å¿…é¡»åœ¨ `<statusAnalyze>` ä¸­è¿ç®—ã€‚\n\n**Step 1: å‰ç½®æ£€æŸ¥ (Pre-Check)**\n- **Check**: `Current_Game_Character` (å½“å‰æ¸¸æˆè§’è‰²) æ˜¯å¦å­˜åœ¨ï¼Ÿ\n- **IF (NO Character / Menu Screen)**: \n  - **DO NOT** execute `set_attribute` for game stats.\n  - **DO NOT** output any text about synchronization.\n  - **End Logic.**\n\n**Step 2: åˆ†æ”¯æ‰§è¡Œ (Branch Execution)**\n- **IF (Character Valid & In Game)** -> [BRANCH A]\n- **ELSE (In Reality)** -> [BRANCH B]\n\n---\n\n## [ZONE: <attributeAnalyze>] å±æ€§åŒæ­¥ (Stats Sync)\n\n**[BRANCH A] æ¸¸æˆéš”ç¦»é€šé“ (Game Channel)**\n**1. å…¨é‡åŒæ­¥ (Trigger: NewGame/Mutation)**\n- **Trigger**: ä»…åœ¨æ¸¸æˆè§’è‰²å±æ€§å˜åŠ¨æˆ–æ–°æ¸¸æˆè§’è‰²ç”Ÿæˆæ—¶è§¦å‘ã€‚\n- **[CRITICAL SYNTAX]**: å¿…é¡»ä¸€æ¬¡æ€§åˆ—å‡ºæ‰€æœ‰æŠ€èƒ½å±æ€§ï¼ˆæœªæåŠçš„è®¾ä¸º0ï¼‰ï¼Œ**ä¸¥ç¦ç•™ç©º**ã€‚æ ¼å¼å¿…é¡»ä¸º `{num}` (çº¯æ•´æ•°)ã€‚\n- **[èŒƒä¾‹ - å¿…é¡»ç…§æŠ„]**:\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§', '{\"æ¸¸æˆè§’è‰²åŠ›é‡\":1,\"æ¸¸æˆè§’è‰²æ•æ·\":2,\"æ¸¸æˆè§’è‰²è€åŠ›\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§', '{\"æ¸¸æˆè§’è‰²æ™ºåŠ›\":2,\"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\":2,\"æ¸¸æˆè§’è‰²å†³å¿ƒ\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§', '{\"æ¸¸æˆè§’è‰²é£åº¦\":1,\"æ¸¸æˆè§’è‰²æ“æ§\":1,\"æ¸¸æˆè§’è‰²æ²‰ç€\":2,\"æ¸¸æˆè§’è‰²å¹¸è¿\":1}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²è‚‰æ\":1,\"æ¸¸æˆè§’è‰²è¿åŠ¨\":0,\"æ¸¸æˆè§’è‰²é©¾é©¶\":0,\"æ¸¸æˆè§’è‰²æªæ¢°\":0,\"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\":0,\"æ¸¸æˆè§’è‰²éšè—\":0,\"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\":0,\"æ¸¸æˆè§’è‰²ç™½åˆƒ\":0,\"æ¸¸æˆè§’è‰²å¼“ç®­\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²å­¦è¯†\":0,\"æ¸¸æˆè§’è‰²ç”µè„‘\":0,\"æ¸¸æˆè§’è‰²æ‰‹è‰º\":0,\"æ¸¸æˆè§’è‰²è°ƒæŸ¥\":0,\"æ¸¸æˆè§’è‰²åŒ»å­¦\":0,\"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\":0,\"æ¸¸æˆè§’è‰²ç§‘å­¦\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\":0,\"æ¸¸æˆè§’è‰²æ„Ÿå—\":0,\"æ¸¸æˆè§’è‰²è¡¨è¾¾\":0,\"æ¸¸æˆè§’è‰²èƒè¿«\":0,\"æ¸¸æˆè§’è‰²äº¤é™…\":0,\"æ¸¸æˆè§’è‰²æ©é¥°\":0}');`\n\n**2. è·¯å¾„é‡å®šå‘ (Redirect)**\n- **èƒŒåŒ…æ“ä½œ**: ä¸¥ç¦å†™å…¥ `global_lore.èƒŒåŒ…`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆèƒŒåŒ…', '${ç‰©å“å}', ...)`\n- **çŠ¶æ€æ›´æ–°**: ä¸¥ç¦å†™å…¥ `user.status`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆçŠ¶æ€æ ', '${çŠ¶æ€å}', ...)`\n- **åŠŸæ³•/æ ¹åŸº**: ä¸¥ç¦ç›´æ¥æ›´æ–° `åŸºç¡€å±æ€§` æˆ– `è¡ç”Ÿå±æ€§.èƒ½é‡æ± `ï¼\n  - âœ… **Correct**: åªèƒ½ä½œä¸º **è¢«åŠ¨æŠ€èƒ½** æˆ– **ç‰¹æ®ŠçŠ¶æ€** è®°å½•åœ¨ `jueseming.${è§’è‰²å}` ä¸‹ã€‚\n\n**3. é˜²ç«å¢™ (Firewall Active)**\n- âŒ **BLOCK**: `è¡ç”Ÿå±æ€§.èƒ½é‡æ± ` (ç¦æ­¢åŒæ­¥)\n- âŒ **BLOCK**: `global_lore.èƒŒåŒ…` (ç¦æ­¢å†™å…¥ <user>èƒŒåŒ…)\n- âŒ **BLOCK**: `hurt_value` (ä¸¥ç¦å› æ¸¸æˆå—ä¼¤æ‰£é™¤ <user>è¡€é‡)\n- âŒ **BLOCK**: `user.status` (**ä¸¥ç¦**å°†æ¸¸æˆè§’è‰²çš„çŠ¶æ€/Buffå¤åˆ¶ç»™ <user>)\n\n**[BRANCH B] ç°å®ç›´é€šé€šé“ (Reality Channel)**\n- âœ… **ALLOW**: æ›´æ–° `åŸºç¡€å±æ€§`, `èƒ½é‡æ± `, `global_lore.èƒŒåŒ…`, `hurt_value`ã€‚\n\n---\n\n## [ZONE: <loreAnalyze>] çŠ¶æ€ç§»é™¤ä¸Loreç®¡ç†\n**1. [CRITICAL] çŠ¶æ€ç§»é™¤ (Remove Status)**\n- å½“çŠ¶æ€/ç‰©å“æ¶ˆå¤±æ—¶ï¼Œ**å¿…é¡»**ä½¿ç”¨ `delete()` æŒ‡ä»¤ï¼Œä¸¥ç¦ä½¿ç”¨ `memory(..., 'å·²è§£å†³')` æ ‡è®°ï¼\n- **èŒƒä¾‹**: `delete('global_lore.jueseming.æ™¶åŒ–æ‹Ÿæ€ä½“.æ¸¸æˆçŠ¶æ€æ ', 'æ¶ˆåŒ–ä¸è‰¯');`\n\n---\n\n## [ZONE: <statusAnalyze>] çŠ¶æ€ä¸æ—¶é—´ (Time & Status)\n**1. çŠ¶æ€æ˜ å°„ (Status Mapping)**\n- **é€»è¾‘**: å½“æ¸¸æˆäº‹ä»¶å¯¼è‡´çŠ¶æ€å˜åŠ¨æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ **[Physiological -> Psychological]** è½¬æ¢ã€‚\n- âœ… **å…è®¸æ˜ å°„**: æ¸¸æˆè§’è‰²[æ¿’æ­»] ->  <user>[æåº¦ç´§å¼ /å†·æ±—]ã€‚\n- âŒ **ä¸¥ç¦å¤åˆ¶**: ä¸è¦ç»™  <user> æ·»åŠ  [éª¨æŠ˜/ä¸­æ¯’/å¯„ç”Ÿ/å¤±æ˜]ã€‚\n\n**2. [CRITICAL] æ—¶é—´å‡½æ•°å®‰å…¨é” (Time Lock)**\n- **è®¡ç®—**: `New_Time = Current + Operation_Duration` (æ“ä½œæ—¶é•¿)\n- *é”™è¯¯ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+8 hours')` (âŒ)\n- *æ­£ç¡®ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+2 mins')` (âœ…)","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"15":{"uid":15,"key":[],"keysecondary":[],"comment":"é€‰é¡¹åŒºæµ‹è¯•","content":"\n\ngame.set('options_logic_core', {\n    // ğŸ·ï¸ åŸºç¡€é…ç½® (åŸå§‹ç¬¬ä¸€æ¡)\n    rule: 'åœ¨æ­£æ–‡ç»“æŸåç”Ÿæˆé€‰é¡¹åŒºï¼Œä½¿ç”¨<options>æ ‡ç­¾åŒ…è£¹ï¼Œå†…å®¹ä¸ºæ•°å­—åŒ–åºåˆ—ï¼ˆ1.2.3...ï¼‰çš„4ä¸ªé€‰é¡¹',\n    scope: 'æ ¹æ®ä¸Šä¸‹æ–‡å’Œç»´åº¦åˆ¤æ–­ï¼Œä¸¥æ ¼ä»¥é˜¿è¨/ç©å®¶çš„è§†è§’ï¼Œç”Ÿæˆ4ä¸ªç‹¬ç«‹è¡ŒåŠ¨é€‰é¡¹',\n\n    // ğŸ§  æ ¸å¿ƒæ ¡å‡† (Calibration)\n    calibration: {\n        // ğŸ›¡ï¸ ç»å¯¹ç™½åå• (å®Œæ•´ä¿ç•™)\n        whitelist_data: {\n            base: 'åŠ›é‡, æ•æ·, è€åŠ›, æ™ºåŠ›, æ„ŸçŸ¥, å†³å¿ƒ, é£åº¦, æ“æ§, æ²‰ç€, å¹¸è¿',\n            skill_phys: 'è¿åŠ¨, è‚‰æ, é©¾é©¶, æªæ¢°, æ‰‹ä¸ŠåŠŸå¤«, éšè—, æ±‚ç”Ÿ, ç™½åˆƒ, å¼“ç®­',\n            skill_mind: 'å­¦è¯†, ç”µè„‘, æ‰‹è‰º, è°ƒæŸ¥, åŒ»å­¦, ç¥ç§˜å­¦, ç§‘å­¦',\n            skill_soc: 'åŠ¨ç‰©æ²Ÿé€š, æ„Ÿå—, è¡¨è¾¾, èƒè¿«, äº¤é™…, æ©é¥°'\n        },\n\n        // ğŸ”„ å¼ºåˆ¶æ˜ å°„å™¨ (å®Œæ•´ä¿ç•™ + å¢å¼º)\n        mapper: {\n            rule: \"Check User Intention -> Find Closest Match in whitelist_data -> Output Match\",\n            examples: \"ç»´ä¿®/ä¿®ç†->[æ‰‹è‰º]; ä¾¦æŸ¥->[è°ƒæŸ¥]; æ„å¿µ->[å†³å¿ƒ]; è°è¨€->[æ©é¥°]\"\n        },\n\n        // ğŸ›‘ [æ–°å¢] è¯­ä¹‰é˜»æ–­å™¨ (Semantic Blocker - é’ˆå¯¹é€ è¯Bugçš„è¡¥ä¸)\n        stop_words: {\n            \"æœç´¢\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è°ƒæŸ¥] æˆ– [æ„ŸçŸ¥]\",\n            \"æœåˆ®\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è°ƒæŸ¥] æˆ– [æ‰‹ä¸ŠåŠŸå¤«]\",\n            \"åå‹¤\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [å­¦è¯†] (ç‰©å“çŸ¥è¯†) æˆ– [æ™ºåŠ›] (æ•´ç†)\",\n            \"ç®¡ç†\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [æ²‰ç€] (å†·é™è§„åˆ’) æˆ– [æ™ºåŠ›]\",\n            \"æŠ•æ·\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è¿åŠ¨]\",\n            \"åˆ†æ\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [è°ƒæŸ¥] æˆ– [ç§‘å­¦]\",\n            \"æœºæ¢°ç»´ä¿®\": \"âŒ ç¦æ­¢! å¿…é¡»æ›¿æ¢ä¸º [æ‰‹è‰º]\"\n        },\n\n        // ğŸŒ ç»´åº¦çŠ¶æ€æœº (Logic Modes - å®Œæ•´ä¿ç•™ä¹‹å‰ç¡®è®¤çš„ 1:2 è§„åˆ™)\n        dimension_mode: {\n            // Mode A: ç°å®ç»´åº¦\n            REALITY: {\n                trigger: \"ç°å®å‰§æƒ… | ç³»ç»Ÿèœå• | æŒæœºäº¤äº’\",\n                target: \"user.self (æœ¬ä½“)\",\n                prefix_rule: \"Strictly NO prefix (ç¦æ­¢å‰ç¼€)\",\n                valid_tags: \"å¿…é¡»åœ¨ whitelist_data å†…ï¼Œä¸”ç¦æ­¢ 'æ¸¸æˆè§’è‰²' å‰ç¼€\",\n                constraint: \"ç°å®ä¸–ç•Œæ— æ³•è°ƒç”¨æ¸¸æˆè§’è‰²çš„æ•°å€¼\"\n            },\n            // Mode B: è™šæ‹Ÿç»´åº¦\n            VIRTUAL: {\n                trigger: \"ç©¿è¶Šå | æ“æ§Avatar | è™šæ‹Ÿäº¤äº’\",\n                target: \"user.mind (1) + avatar.body (2)\",\n                prefix_rule: \"Hybrid (æ··åˆæ¨¡å¼)\",\n                // çº¦æŸ: 1+2 é»„é‡‘æ³•åˆ™\n                logic: `\n                    æ£€å®šç»„åˆå¿…é¡»ä¸¥æ ¼åŒ…å«ï¼š\n                    1. [æœ¬ä½“å±æ€§] x1 (æ— å‰ç¼€, æ™ºåŠ›/æ„ŸçŸ¥/è¿æ°”/å†³å¿ƒç­‰)\n                    2. [è§’è‰²å±æ€§] x2 (åŠ 'æ¸¸æˆè§’è‰²'å‰ç¼€, åŠ›é‡/æŠ€èƒ½ç­‰)\n                    âš ï¸ ç»å¯¹æ­»çº¿: å“ªæ€•è§‰å¾—è¯­ä¹‰ä¸å®Œç¾ï¼Œä¹Ÿåªèƒ½ä» whitelist_data é‡ŒæŒ‘è¯ï¼\n                `\n            }\n        },\n\n        // âš™ï¸ æ‰§è¡Œæµ (å®Œæ•´ä¿ç•™)\n        workflow: `\n            1. ç¯å¢ƒæ‰«æ: åˆ¤æ–­å½“å‰æ˜¯ REALITY è¿˜æ˜¯ VIRTUALã€‚\n            2. è¯æ±‡æ¸…æ´—: å¯¹ç…§ whitelist_data å’Œ stop_wordsï¼Œæ¸…æ´—éæ³•è¯æ±‡ã€‚\n            3. é…æ¯”æ£€æŸ¥:\n               - REALITY: 3ä¸ªæ— å‰ç¼€å±æ€§ã€‚\n               - VIRTUAL: 1ä¸ªæ— å‰ç¼€ + 2ä¸ªå¸¦å‰ç¼€å±æ€§ã€‚\n            4. å­¤ç«‹æ€§æ£€æŸ¥: å‰”é™¤ä»»ä½• NPC å±æ€§ã€‚\n            5. æœ€ç»ˆè¾“å‡º: ç”Ÿæˆé€‰é¡¹ã€‚\n        `\n    },\n\n    // ğŸ­ è¡Œä¸ºå€¾å‘ (Original Tendencies - å®Œæ•´ä¿ç•™)\n    tendencies: [\n        { type: 'ç§¯ææ¨è¿›å‰§æƒ…', rule: 'ä¸»åŠ¨æ¨åŠ¨ä¸»çº¿æˆ–æ”¯çº¿ä»»åŠ¡è¿›å±•' },\n        { type: 'ç©¶æä¹å­äºº/æ··æ²Œ/å¼ºç›—/ç½ªæ¶', rule: 'å°†å‰§æƒ…å½»åº•çš„æ¨è¿›è‡³å®Œå…¨æ··æ²Œå’Œæ‰€æœ‰äººéƒ½æƒ³ä¸åˆ°çš„æ–¹å‘' },\n        { type: 'ç¬¦åˆé˜¿è¨æ€§æ ¼', rule: 'ä¸é˜¿è¨çš„æ€§æ ¼ç‰¹å¾ä¸€è‡´' },\n        { type: 'å¯¹å‰§æƒ…åæ§½', rule: 'è¯™è°ä¸”æ°å½“çš„å¯¹å½“å‰æƒ…å†µçš„åæ§½' }\n    ],\n\n    // â›“ï¸ è¾“å‡ºçº¦æŸ (Constraints - å®Œæ•´ä¿ç•™ + å¢å¼ºå®¡æ ¸)\n    constraints: {\n        pacing: 'é€‰é¡¹ä¸å¾—æ‹–å»¶å‰§æƒ…èŠ‚å¥ï¼Œå¿…é¡»åˆç†ä¸”æœ‰åŠ©äºç©å®¶å†³ç­–',\n        format: 'æ¯ä¸ªé€‰é¡¹åç”¨[]å•ç‹¬åŒ…è£¹æ‰€éœ€æ£€å®šå±æ€§ã€‚ä¾‹ï¼š1.è¡ŒåŠ¨æè¿°[æ£€å®š1][æ£€å®š2][æ£€å®š3]ã€‚',\n\n        // ğŸ² æ£€å®šåŒºé€»è¾‘ (Strict Distribution)\n        check_brackets: {\n            desc: 'åº”ç”¨3x [player_attr] è¿›è¡Œæ£€å®šé¢„æµ‹',\n            num: 3,\n            strict_scope: 'ä»…é™ User æˆ– Avatar è‡ªèº«å±æ€§ (No NPC)',\n            // âš ï¸ å¼ºåˆ¶åˆ†å¸ƒè§„åˆ™\n            distribution_rule: {\n                REALITY: \"3ä¸ªå‡ä¸ºæ— å‰ç¼€çš„æœ¬ä½“å±æ€§\",\n                VIRTUAL: \"å¿…é¡»æ˜¯ï¼š[1ä¸ªæ— å‰ç¼€æœ¬ä½“å±æ€§] + [2ä¸ªå¸¦å‰ç¼€çš„è§’è‰²å±æ€§] (é¡ºåºä¸é™)\"\n            },\n            // ğŸ’€ æœ€ç»ˆå®¡æ ¸æœºåˆ¶\n            final_audit: \"ç”Ÿæˆtagåï¼Œç§»é™¤'æ¸¸æˆè§’è‰²'å‰ç¼€è¿›è¡ŒæŸ¥è¡¨ï¼Œè‹¥ä¸åœ¨ whitelist_data ä¸­ï¼Œå¼ºåˆ¶ä¿®æ­£ä¸ºç™½åå•å†…è¯æ±‡ï¼\"\n        },\n\n        // ğŸ“ ç¤ºä¾‹ (Updated to match logic)\n        example: [\n            'ç°å®æ¨¡å¼: 1.æš´åŠ›ç ´è§£[ç”µè„‘][æ™ºåŠ›][æ•æ·]',\n            'è™šæ‹Ÿæ¨¡å¼: 1.æ­£é¢çªè¢­[å†³å¿ƒ][æ¸¸æˆè§’è‰²åŠ›é‡][æ¸¸æˆè§’è‰²è‚‰æ]', // 1ä¸ªæœ¬ä½“ + 2ä¸ªè§’è‰²\n            'è™šæ‹Ÿæ¨¡å¼: 2.å¯»æ‰¾ç‰©èµ„[æ„ŸçŸ¥][æ¸¸æˆè§’è‰²è°ƒæŸ¥][æ¸¸æˆè§’è‰²æ‰‹è‰º]'  // 1ä¸ªæœ¬ä½“ + 2ä¸ªè§’è‰² (ç”¨è°ƒæŸ¥ä»£æ›¿æœåˆ®ï¼Œç”¨æ‰‹è‰ºä»£æ›¿å¼€é”)\n        ]\n    }\n});\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":107,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"outletName":"","group":"é€‰é¡¹","groupOverride":true,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":16,"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"16":{"uid":16,"key":["attribute_sync_logic","sync_protocol"],"keysecondary":[],"comment":"[LOGIC] å±æ€§åŒæ­¥ä¸éš”ç¦»åè®®ï¼ˆå¼‚æ­¥ä»…å˜é‡ï¼‰","content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 1);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 2) ){\n_%>\ngame.setPlayer('\n[SYSTEM INSTRUCTION]\n**[è­¦å‘Š]: æœ¬æ¡ç›®é€»è¾‘ä»…é™åå°å†…éƒ¨è¿ç®—ã€‚ä¸¥ç¦è¾“å‡ºåˆ°æ­£æ–‡ï¼**\n\n# ğŸ•¹ï¸ åå°é€»è¾‘åˆ†å‘åè®® #\n\n**Step 0: è¿ç®—åŒºåŸŸåˆ†é… (Zone Allocation)**\n- **Inventory/Lore Update/Delete** -> å¿…é¡»åœ¨ `<loreAnalyze>` ä¸­è¿ç®—ã€‚\n- **Attribute Sync** -> å¿…é¡»åœ¨ `<attributeAnalyze>` ä¸­è¿ç®—ã€‚\n- **Time/Status Logic** -> å¿…é¡»åœ¨ `<statusAnalyze>` ä¸­è¿ç®—ã€‚\n\n**Step 1: å‰ç½®æ£€æŸ¥ (Pre-Check)**\n- **Check**: `Current_Game_Character` (å½“å‰æ¸¸æˆè§’è‰²) æ˜¯å¦å­˜åœ¨ï¼Ÿ\n- **IF (NO Character / Menu Screen)**: \n  - **DO NOT** execute `set_attribute` for game stats.\n  - **DO NOT** output any text about synchronization.\n  - **End Logic.**\n\n**Step 2: åˆ†æ”¯æ‰§è¡Œ (Branch Execution)**\n- **IF (Character Valid & In Game)** -> [BRANCH A]\n- **ELSE (In Reality)** -> [BRANCH B]\n\n---\n\n## [ZONE: <attributeAnalyze>] å±æ€§åŒæ­¥ (Stats Sync)\n\n**[BRANCH A] æ¸¸æˆéš”ç¦»é€šé“ (Game Channel)**\n**1. å…¨é‡åŒæ­¥ (Trigger: NewGame/Mutation)**\n- **Trigger**: ä»…åœ¨è§’è‰²å±æ€§å˜åŠ¨æˆ–æ–°è§’è‰²ç”Ÿæˆæ—¶è§¦å‘ã€‚\n- **[CRITICAL SYNTAX]**: å¿…é¡»ä¸€æ¬¡æ€§åˆ—å‡ºæ‰€æœ‰æŠ€èƒ½å±æ€§ï¼ˆæœªæåŠçš„è®¾ä¸º0ï¼‰ï¼Œ**ä¸¥ç¦ç•™ç©º**ã€‚æ ¼å¼å¿…é¡»ä¸º `{num}` (çº¯æ•´æ•°)ã€‚\n- **[èŒƒä¾‹ - å¿…é¡»ç…§æŠ„]**:\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§', '{\"æ¸¸æˆè§’è‰²åŠ›é‡\":1,\"æ¸¸æˆè§’è‰²æ•æ·\":2,\"æ¸¸æˆè§’è‰²è€åŠ›\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§', '{\"æ¸¸æˆè§’è‰²æ™ºåŠ›\":2,\"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\":2,\"æ¸¸æˆè§’è‰²å†³å¿ƒ\":1}');`\n  `set_attribute('åŸºç¡€å±æ€§.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§', '{\"æ¸¸æˆè§’è‰²é£åº¦\":1,\"æ¸¸æˆè§’è‰²æ“æ§\":1,\"æ¸¸æˆè§’è‰²æ²‰ç€\":2,\"æ¸¸æˆè§’è‰²å¹¸è¿\":1}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²è‚‰æ\":1,\"æ¸¸æˆè§’è‰²è¿åŠ¨\":0,\"æ¸¸æˆè§’è‰²é©¾é©¶\":0,\"æ¸¸æˆè§’è‰²æªæ¢°\":0,\"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\":0,\"æ¸¸æˆè§’è‰²éšè—\":0,\"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\":0,\"æ¸¸æˆè§’è‰²ç™½åˆƒ\":0,\"æ¸¸æˆè§’è‰²å¼“ç®­\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²å­¦è¯†\":0,\"æ¸¸æˆè§’è‰²ç”µè„‘\":0,\"æ¸¸æˆè§’è‰²æ‰‹è‰º\":0,\"æ¸¸æˆè§’è‰²è°ƒæŸ¥\":0,\"æ¸¸æˆè§’è‰²åŒ»å­¦\":0,\"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\":0,\"æ¸¸æˆè§’è‰²ç§‘å­¦\":0}');`\n  `set_attribute('åŸºç¡€æŠ€èƒ½.å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½', '{\"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\":0,\"æ¸¸æˆè§’è‰²æ„Ÿå—\":0,\"æ¸¸æˆè§’è‰²è¡¨è¾¾\":0,\"æ¸¸æˆè§’è‰²èƒè¿«\":0,\"æ¸¸æˆè§’è‰²äº¤é™…\":0,\"æ¸¸æˆè§’è‰²æ©é¥°\":0}');`\n\n**2. è·¯å¾„é‡å®šå‘ (Redirect)**\n- **èƒŒåŒ…æ“ä½œ**: ä¸¥ç¦å†™å…¥ `global_lore.èƒŒåŒ…`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆèƒŒåŒ…', '${ç‰©å“å}', ...)`\n- **çŠ¶æ€æ›´æ–°**: ä¸¥ç¦å†™å…¥ `user.status`ï¼\n  - âœ… **Correct**: `memory('global_lore.jueseming.${è§’è‰²å}.æ¸¸æˆçŠ¶æ€æ ', '${çŠ¶æ€å}', ...)`\n- **åŠŸæ³•/æ ¹åŸº**: ä¸¥ç¦ç›´æ¥æ›´æ–° `åŸºç¡€å±æ€§` æˆ– `è¡ç”Ÿå±æ€§.èƒ½é‡æ± `ï¼\n  - âœ… **Correct**: åªèƒ½ä½œä¸º **è¢«åŠ¨æŠ€èƒ½** æˆ– **ç‰¹æ®ŠçŠ¶æ€** è®°å½•åœ¨ `jueseming.${è§’è‰²å}` ä¸‹ã€‚\n\n**3. é˜²ç«å¢™ (Firewall Active)**\n- âŒ **BLOCK**: `è¡ç”Ÿå±æ€§.èƒ½é‡æ± ` (ç¦æ­¢åŒæ­¥)\n- âŒ **BLOCK**: `global_lore.èƒŒåŒ…` (ç¦æ­¢å†™å…¥ <user>èƒŒåŒ…)\n- âŒ **BLOCK**: `hurt_value` (ä¸¥ç¦å› æ¸¸æˆå—ä¼¤æ‰£é™¤ <user>è¡€é‡)\n- âŒ **BLOCK**: `user.status` (**ä¸¥ç¦**å°†æ¸¸æˆè§’è‰²çš„çŠ¶æ€/Buffå¤åˆ¶ç»™ <user>)\n\n**[BRANCH B] ç°å®ç›´é€šé€šé“ (Reality Channel)**\n- âœ… **ALLOW**: æ›´æ–° `åŸºç¡€å±æ€§`, `èƒ½é‡æ± `, `global_lore.èƒŒåŒ…`, `hurt_value`ã€‚\n\n---\n\n## [ZONE: <loreAnalyze>] çŠ¶æ€ç§»é™¤ä¸Loreç®¡ç†\n**1. [CRITICAL] çŠ¶æ€ç§»é™¤ (Remove Status)**\n- å½“çŠ¶æ€/ç‰©å“æ¶ˆå¤±æ—¶ï¼Œ**å¿…é¡»**ä½¿ç”¨ `delete()` æŒ‡ä»¤ï¼Œä¸¥ç¦ä½¿ç”¨ `memory(..., 'å·²è§£å†³')` æ ‡è®°ï¼\n- **èŒƒä¾‹**: `delete('global_lore.jueseming.æ™¶åŒ–æ‹Ÿæ€ä½“.æ¸¸æˆçŠ¶æ€æ ', 'æ¶ˆåŒ–ä¸è‰¯');`\n\n---\n\n## [ZONE: <statusAnalyze>] çŠ¶æ€ä¸æ—¶é—´ (Time & Status)\n**1. çŠ¶æ€æ˜ å°„ (Status Mapping)**\n- **é€»è¾‘**: å½“æ¸¸æˆäº‹ä»¶å¯¼è‡´çŠ¶æ€å˜åŠ¨æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ **[Physiological -> Psychological]** è½¬æ¢ã€‚\n- âœ… **å…è®¸æ˜ å°„**: æ¸¸æˆè§’è‰²[æ¿’æ­»] ->  <user>[æåº¦ç´§å¼ /å†·æ±—]ã€‚\n- âŒ **ä¸¥ç¦å¤åˆ¶**: ä¸è¦ç»™  <user> æ·»åŠ  [éª¨æŠ˜/ä¸­æ¯’/å¯„ç”Ÿ/å¤±æ˜]ã€‚\n\n**2. [CRITICAL] æ—¶é—´å‡½æ•°å®‰å…¨é” (Time Lock)**\n- **è®¡ç®—**: `New_Time = Current + Operation_Duration` (æ“ä½œæ—¶é•¿)\n- *é”™è¯¯ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+8 hours')` (âŒ)\n- *æ­£ç¡®ç¤ºèŒƒ*: æ¸¸æˆå†…ç¡8å°æ—¶ -> `set_status('æ—¶é—´', '+2 mins')` (âœ…)\n`)\n<%_\n}\n_%>\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":80,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":22,"outletName":"","characterFilter":{"isExclude":false,"names":[],"tags":[]}},"17":{"uid":17,"displayIndex":23,"comment":"[RULE] æ¸¸æˆç”Ÿæˆä¸å•†åº—æœºåˆ¶","disable":false,"constant":true,"selective":true,"key":["game_generation","shop_rules"],"selectiveLogic":0,"keysecondary":[],"scanDepth":null,"vectorized":false,"position":4,"role":0,"depth":0,"order":97,"content":"rule_name: å°ä¸–ç•Œæ¸¸æˆæœºæ¸¸æˆç”Ÿæˆä¸å•†åº—æœºåˆ¶\næ ¸å¿ƒæè¿°: \"æ¸¸æˆæœºæˆªå–æ—¶ç©ºç‰‡æ®µç”Ÿæˆæ¸¸æˆï¼Œä»¥åŠŸå‹‹ä¸ºè´§å¸æ„å»ºå•†åº—ä½“ç³»ã€‚\"\n\n[ç”Ÿæˆè§„åˆ™]\n- **åˆå§‹ç¦åˆ©**: é¦–æ¬¡æ¿€æ´»æä¾›ä½æ˜Ÿæ¸¸æˆï¼ˆ1-2ï¼‰ä¸‰é€‰ä¸€ï¼ˆä¸èƒ½ç›´æ¥æä¾›ç°å®ä¸­çš„æ¸¸æˆï¼Œä¾‹å¦‚æ˜Ÿéœ²è°·ç‰©è¯­ç­‰ï¼Œå°±ç®—æä¾›ä¹Ÿè¦æ›´æ”¹åå­—ä¸æ¸¸æˆå†…å®¹ï¼Œå¹¶ä¸”<user>é€‰æ‹©ä¸€æ¬¾æ¸¸æˆåå…¶ä»–ä¸¤æ¬¾æ¸¸æˆæ¶ˆå¤±ï¼Œç¦æ­¢å°†åˆå§‹ä¸‰æ¬¾æ¸¸æˆå†™å…¥æ¸¸æˆæœºå•†åº—ï¼‰ã€‚\n- **å…è´¹å‘¨å…**: æ¯å‘¨ä¸€00:00åˆ·æ–°ï¼Œæœªé€šå…³åˆ™ä¸‹æ¶ï¼›é€šå…³åˆ™ä¿ç•™ã€‚\n- **ä»˜è´¹è´­ä¹°**: æ°¸ä¹…è§£é”ï¼Œå«é«˜æ˜Ÿçº§å¥–åŠ±ã€‚\n\n[å•†åº—è¿ä½œ]\nç³»ç»Ÿæ‰«æå…·æœ‰â€œå¼ºå› æœçº ç¼ â€æˆ–â€œçµæ°”å‰§å˜â€çš„ç‰‡æ®µç”Ÿæˆå‰¯æœ¬ã€‚\nå•†åº—æ˜Ÿçº§ï¼šåˆå§‹1ï¼Œå‡çº§éœ€ 5000/10000/20000/40000 åŠŸå‹‹ã€‚\nä»·æ ¼/éš¾åº¦/å¥–åŠ±éšæ˜Ÿçº§æå‡ã€‚","useProbability":true,"probability":100,"excludeRecursion":false,"preventRecursion":false,"delayUntilRecursion":false,"sticky":0,"cooldown":0,"delay":0,"addMemo":true,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"group":"","groupOverride":false,"groupWeight":100,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","ignoreBudget":false,"outletName":"","triggers":[],"characterFilter":{"isExclude":false,"names":[],"tags":[]}},"18":{"uid":18,"key":["map_update_logic","map_system"],"keysecondary":[],"comment":"[LOGIC] åœ°å›¾æ›´æ–°è§„èŒƒï¼ˆå¼‚æ­¥ä»…å˜é‡ï¼‰","content":"<%_  \nvar double_api= String(getLocalVar(\"double_api\")|| \"false\");\nvar batches = Number(getLocalVar(\"batches\")|| 1);\n\nif(double_api ===\"false\" || (double_api === \"true\" && batches === 2) ){\n_%>\ngame.setPlayer('\n[System Patch: Map System 2.0 - Overlay Logic]\n# åœ°å›¾é€»è¾‘ï¼šè§†ç‚¹åŒè°ƒ\nå½“æ¸¸ç©æ¸¸æˆæ—¶ï¼Œåœ°å›¾æ•°æ®éœ€è¦åæ˜  **å½“å‰è§†ç‚¹ (Viewport)**ï¼Œä½†æ— éœ€åˆ‡æ–­ä¸ç°å®çš„è”ç³»ã€‚\n\nIF (is_playing_game == True):\n    # 1. è®¾ç½®ä¸»è§†ç‚¹æŒ‡é’ˆ\n    Set Global_Location = Game_Name + \"ï¼ˆæ¸¸æˆï¼‰\"\n\n    # 2. åœ°å›¾æ•°æ®ç”Ÿæˆ (Mandatory)\n    IF (Global_Location NOT IN \"å…¨å±€åœ°ç‚¹è¡¨\"):\n        1. APPEND to \"å…¨å±€åœ°ç‚¹è¡¨\".\n        2. EXECUTE memory creation for the Game World Root.\n\n    IF (Current_Game_Room NOT IN \"map.ä¸»è¦åœ°ç‚¹è¡¨\"):\n        1. CREATE NEW LOCATION DATA IMMEDIATELY.\n        # Template:\n        # memory('map.ä¸»è¦åœ°ç‚¹è¡¨', '${å…·ä½“åœ°å}', '{\"parent\":\"${æ¸¸æˆå}(æ¸¸æˆ)\",\"type\":\"...\",\"description\":\"...\"}');\n\n# ç°å®é”šç‚¹ (Anchor)\nè™½ç„¶ä¸»è§†ç‚¹åœ¨æ¸¸æˆï¼Œä½†åå°å§‹ç»ˆé€šè¿‡ <user> çš„ç‰©ç†ä½ç½®ï¼ˆå®¶ä¸­ï¼‰ä¿æŒè¿æ¥ã€‚åœ¨éçº¯æ¸¸æˆæå†™æ—¶ï¼ˆå¦‚æš‚åœã€ç»“ç®—ï¼‰ï¼Œè§†ç‚¹è‡ªåŠ¨å›è½è‡³ç°å®ã€‚\n`)\n<%_\n}\n_%>\n","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":99,"position":4,"disable":false,"ignoreBudget":false,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":0,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":0,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":24,"outletName":"","characterFilter":{"isExclude":false,"names":[],"tags":[]}},"19":{"uid":19,"key":[],"keysecondary":[],"comment":"[diyattribute]","content":"\n{\n  \"name\": \"å°ä¸–ç•Œ\",\n  \"desc\": \"dlc-å°ä¸–ç•Œçš„ä¸“å±è‡ªå®šä¹‰å±æ€§æ¨¡æ¿\",\n     \"attr\": {\n      \"ç”Ÿç†å±æ€§\": {\n        \"åŠ›é‡\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è‚Œè‚‰å¼ºåº¦ä¸çˆ†å‘åŠ›ï¼Œå½±å“è¿‘æˆ˜ä¼¤å®³ä¸è´Ÿé‡\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"æä¾›åŠ æˆ\"\n          ]\n        },\n        \"æ•æ·\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡èº«ä½“åè°ƒã€ååº”é€Ÿåº¦ä¸çµæ´»æ€§ï¼Œå½±å“å…ˆæ”»ä¸é—ªé¿\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ•æ·ï¼Œæä¾›é˜²å¾¡é™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"è€åŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡ä½“è´¨ã€æŒä¹…åŠ›ä¸æ¢å¤åŠ›ï¼Œå½±å“ç”Ÿå‘½å€¼ä¸æŠµæŠ—åŠ›\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„è€åŠ›ï¼Œæä¾›ä¼¤å®³å‡å…\"\n          ]\n        }\n      },\n      \"å¿ƒæ™ºå±æ€§\": {\n        \"æ™ºåŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡é€»è¾‘ã€è®°å¿†ã€å­¦ä¹ ä¸åˆ†æèƒ½åŠ›ï¼Œå½±å“æŠ€èƒ½å­¦ä¹ ä¸ç­–ç•¥\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ™ºåŠ›ï¼Œæä¾›æŠ€èƒ½é™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"æ„ŸçŸ¥\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è§‚å¯ŸåŠ›ã€ç›´è§‰ä¸äº”æ„Ÿæ•é”åº¦ï¼Œå½±å“ä¾¦æŸ¥ä¸æ´å¯Ÿ\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ„ŸçŸ¥ï¼Œæä¾›æ´å¯Ÿé˜²å¾¡ä¸ä¾¦æŸ¥é™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"å†³å¿ƒ\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ„å¿—åŠ›ã€å‹‡æ°”ä¸ç²¾ç¥éŸ§æ€§ï¼Œå½±å“æ„å¿—å€¼ä¸Šé™\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„å†³å¿ƒï¼Œæä¾›æ„å¿—æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        }\n      },\n      \"äº’åŠ¨å±æ€§\": {\n        \"é£åº¦\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡ä¸ªäººé­…åŠ›ã€æ°”è´¨ä¸ç¬¬ä¸€å°è±¡ï¼Œå½±å“æ­£é¢ç¤¾äº¤\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„é£åº¦ï¼Œæä¾›ç¤¾äº¤æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"æ“æ§\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è¯´æœã€è¯±å¯¼ä¸æ§åˆ¶ä»–äººçš„èƒ½åŠ›ï¼Œå½±å“è´Ÿé¢ç¤¾äº¤\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ“æ§ï¼Œæä¾›æ“æ§æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"æ²‰ç€\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡å†·é™ã€è‡ªæ§ä¸æŠ—å‹èƒ½åŠ›ï¼Œå½±å“å…ˆæ”»ä¸æ„å¿—å€¼ä¸Šé™\"\n          ],\n          \"ä¼ å¥‡\": [\n            0,\n            \"è¶…è¶Šå‡¡äººæé™çš„æ²‰ç€ï¼Œæä¾›æ„å¿—æ£€å®šé™„åŠ æˆåŠŸ\"\n          ]\n        },\n        \"å¹¸è¿\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡è¿æ°”\"\n          ]\n        }\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†å±æ€§\": {\n        \"æ¸¸æˆè§’è‰²åŠ›é‡\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è‚Œè‚‰å¼ºåº¦ä¸çˆ†å‘åŠ›ï¼Œå½±å“è¿‘æˆ˜ä¼¤å®³ä¸è´Ÿé‡\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ•æ·\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²èº«ä½“åè°ƒã€ååº”é€Ÿåº¦ä¸çµæ´»æ€§ï¼Œå½±å“å…ˆæ”»ä¸é—ªé¿\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²è€åŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²ä½“è´¨ã€æŒä¹…åŠ›ä¸æ¢å¤åŠ›ï¼Œå½±å“ç”Ÿå‘½å€¼ä¸æŠµæŠ—åŠ›\"\n          ]\n        }\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºå±æ€§\": {\n        \"æ¸¸æˆè§’è‰²æ™ºåŠ›\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²é€»è¾‘ã€è®°å¿†ã€å­¦ä¹ ä¸åˆ†æèƒ½åŠ›ï¼Œå½±å“æŠ€èƒ½å­¦ä¹ ä¸ç­–ç•¥\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ„ŸçŸ¥\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è§‚å¯ŸåŠ›ã€ç›´è§‰ä¸äº”æ„Ÿæ•é”åº¦ï¼Œå½±å“ä¾¦æŸ¥ä¸æ´å¯Ÿ\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²å†³å¿ƒ\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²æ„å¿—åŠ›ã€å‹‡æ°”ä¸ç²¾ç¥éŸ§æ€§ï¼Œå½±å“æ„å¿—å€¼ä¸Šé™\"\n          ]\n        }\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨å±æ€§\": {\n        \"æ¸¸æˆè§’è‰²é£åº¦\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²ä¸ªäººé­…åŠ›ã€æ°”è´¨ä¸ç¬¬ä¸€å°è±¡ï¼Œå½±å“æ­£é¢ç¤¾äº¤\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ“æ§\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è¯´æœã€è¯±å¯¼ä¸æ§åˆ¶ä»–äººçš„èƒ½åŠ›ï¼Œå½±å“è´Ÿé¢ç¤¾äº¤\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²æ²‰ç€\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²å†·é™ã€è‡ªæ§ä¸æŠ—å‹èƒ½åŠ›ï¼Œå½±å“å…ˆæ”»ä¸æ„å¿—å€¼ä¸Šé™\"\n          ]\n        },\n        \"æ¸¸æˆè§’è‰²å¹¸è¿\": {\n          \"åŸºç¡€\": [\n            0,\n            \"è¡¡é‡æ¸¸æˆè§’è‰²è¿æ°”\"\n          ]\n        }\n      }\n    },\n    \"skill\": {\n      \"ç”Ÿç†æŠ€èƒ½\": {\n        \"è¿åŠ¨\": [\n          0,\n          \"è¡¡é‡è·‘ã€è·³ã€æ”€çˆ¬ç­‰èº«ä½“æ´»åŠ¨èƒ½åŠ›\"\n        ],\n        \"è‚‰æ\": [\n          0,\n          \"è¡¡é‡å¾’æ‰‹æ ¼æ–—æŠ€å·§\"\n        ],\n        \"é©¾é©¶\": [\n          0,\n          \"è¡¡é‡æ“æ§åœ°é¢ã€æ°´é¢æˆ–ç©ºä¸­è½½å…·çš„èƒ½åŠ›\"\n        ],\n        \"æªæ¢°\": [\n          0,\n          \"è¡¡é‡ä½¿ç”¨å„ç±»ç«å™¨çš„èƒ½åŠ›\"\n        ],\n        \"æ‰‹ä¸ŠåŠŸå¤«\": [\n          0,\n          \"è¡¡é‡ç›—çªƒã€å¼€é”ç­‰æ‰‹éƒ¨ç²¾ç»†æ“ä½œèƒ½åŠ›\"\n        ],\n        \"éšè—\": [\n          0,\n          \"è¡¡é‡æ½œè¡Œã€ä¼ªè£…ä¸éšè”½è‡ªèº«çš„èƒ½åŠ›\"\n        ],\n        \"æ±‚ç”Ÿ\": [\n          0,\n          \"è¡¡é‡åœ¨æ¶åŠ£ç¯å¢ƒä¸­ç”Ÿå­˜ä¸è¿½è¸ªçš„èƒ½åŠ›\"\n        ],\n        \"ç™½åˆƒ\": [\n          0,\n          \"è¡¡é‡ä½¿ç”¨åˆ€å‰‘ç­‰å†·å…µå™¨çš„èƒ½åŠ›\"\n        ],\n        \"å¼“ç®­\": [\n          0,\n          \"è¡¡é‡ä½¿ç”¨å¼“å¼©ç­‰æŠ›å°„æ­¦å™¨çš„èƒ½åŠ›\"\n        ]\n      },\n      \"å¿ƒæ™ºæŠ€èƒ½\": {\n        \"å­¦è¯†\": [\n          0,\n          \"è¡¡é‡äººæ–‡ã€å†å²ã€åœ°ç†ç­‰çŸ¥è¯†å¹¿åº¦\"\n        ],\n        \"ç”µè„‘\": [\n          0,\n          \"è¡¡é‡æ“ä½œã€ç¼–ç¨‹ä¸é»‘å®¢æŠ€æœ¯\"\n        ],\n        \"æ‰‹è‰º\": [\n          0,\n          \"è¡¡é‡åˆ¶ä½œçš„çŸ¥è¯†\"\n        ],\n        \"è°ƒæŸ¥\": [\n          0,\n          \"è¡¡é‡æœé›†çº¿ç´¢ã€åˆ†æç°åœºçš„èƒ½åŠ›\"\n        ],\n        \"åŒ»å­¦\": [\n          0,\n          \"è¡¡é‡è¯Šæ–­ã€æ²»ç–—ä¸è¯ç†çŸ¥è¯†\"\n        ],\n        \"ç¥ç§˜å­¦\": [\n          0,\n          \"è¡¡é‡å¯¹è¶…è‡ªç„¶ç°è±¡ä¸é­”æ³•çš„çŸ¥è¯†\"\n        ],\n        \"ç§‘å­¦\": [\n          0,\n          \"è¡¡é‡ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ç­‰è‡ªç„¶ç§‘å­¦çŸ¥è¯†\"\n        ]\n      },\n      \"äº’åŠ¨æŠ€èƒ½\": {\n        \"åŠ¨ç‰©æ²Ÿé€š\": [\n          0,\n          \"è¡¡é‡ä¸åŠ¨ç‰©äº¤æµå’Œé©¯æœçš„èƒ½åŠ›\"\n        ],\n        \"æ„Ÿå—\": [\n          0,\n          \"è¡¡é‡æ´å¯Ÿä»–äººæƒ…ç»ªä¸æ„å›¾çš„èƒ½åŠ›\"\n        ],\n        \"è¡¨è¾¾\": [\n          0,\n          \"è¡¡é‡æ„ŸæŸ“ä»–äººçš„èƒ½åŠ›\"\n        ],\n        \"èƒè¿«\": [\n          0,\n          \"è¡¡é‡é€šè¿‡å¨èƒä¸æå“è¾¾æˆç›®çš„çš„èƒ½åŠ›\"\n        ],\n        \"äº¤é™…\": [\n          0,\n          \"è¡¡é‡ç¤¾äº¤ã€ç¤¼ä»ªä¸å»ºç«‹äººè„‰çš„èƒ½åŠ›\"\n        ],\n        \"æ©é¥°\": [\n          0,\n          \"è¡¡é‡éšè—çœŸç›¸ã€ä¼ªè£…èº«ä»½ä¸æ¬ºéª—ä»–äººçš„èƒ½åŠ›\"\n        ]\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²ç”Ÿç†æŠ€èƒ½\": {\n        \"æ¸¸æˆè§’è‰²è¿åŠ¨\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²è·‘ã€è·³ã€æ”€çˆ¬ç­‰èº«ä½“æ´»åŠ¨èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²è‚‰æ\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²å¾’æ‰‹æ ¼æ–—æŠ€å·§\"\n        ],\n        \"æ¸¸æˆè§’è‰²é©¾é©¶\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ“æ§åœ°é¢ã€æ°´é¢æˆ–ç©ºä¸­è½½å…·çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æªæ¢°\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä½¿ç”¨å„ç±»ç«å™¨çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ‰‹ä¸ŠåŠŸå¤«\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ç›—çªƒã€å¼€é”ç­‰æ‰‹éƒ¨ç²¾ç»†æ“ä½œèƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²éšè—\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ½œè¡Œã€ä¼ªè£…ä¸éšè”½è‡ªèº«çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ±‚ç”Ÿ\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²åœ¨æ¶åŠ£ç¯å¢ƒä¸­ç”Ÿå­˜ä¸è¿½è¸ªçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç™½åˆƒ\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä½¿ç”¨åˆ€å‰‘ç­‰å†·å…µå™¨çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²å¼“ç®­\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä½¿ç”¨å¼“å¼©ç­‰æŠ›å°„æ­¦å™¨çš„èƒ½åŠ›\"\n        ]\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²å¿ƒæ™ºæŠ€èƒ½\": {\n        \"æ¸¸æˆè§’è‰²å­¦è¯†\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²äººæ–‡ã€å†å²ã€åœ°ç†ç­‰çŸ¥è¯†å¹¿åº¦\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç”µè„‘\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ“ä½œã€ç¼–ç¨‹ä¸é»‘å®¢æŠ€æœ¯\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ‰‹è‰º\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²åˆ¶ä½œçš„çŸ¥è¯†\"\n        ],\n        \"æ¸¸æˆè§’è‰²è°ƒæŸ¥\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æœé›†çº¿ç´¢ã€åˆ†æç°åœºçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²åŒ»å­¦\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²è¯Šæ–­ã€æ²»ç–—ä¸è¯ç†çŸ¥è¯†\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç¥ç§˜å­¦\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²å¯¹è¶…è‡ªç„¶ç°è±¡ä¸é­”æ³•çš„çŸ¥è¯†\"\n        ],\n        \"æ¸¸æˆè§’è‰²ç§‘å­¦\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ç­‰è‡ªç„¶ç§‘å­¦çŸ¥è¯†\"\n        ]\n      },\n      \"å½“å‰æ¸¸æˆè§’è‰²äº’åŠ¨æŠ€èƒ½\": {\n        \"æ¸¸æˆè§’è‰²åŠ¨ç‰©æ²Ÿé€š\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²ä¸åŠ¨ç‰©äº¤æµå’Œé©¯æœçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ„Ÿå—\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ´å¯Ÿä»–äººæƒ…ç»ªä¸æ„å›¾çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²è¡¨è¾¾\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²æ„ŸæŸ“ä»–äººçš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²èƒè¿«\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²é€šè¿‡å¨èƒä¸æå“è¾¾æˆç›®çš„çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²äº¤é™…\": [\n          0,\n          \"æè¿°æ¸¸æˆè§’è‰²è¡¡é‡ç¤¾äº¤ã€ç¤¼ä»ªä¸å»ºç«‹äººè„‰çš„èƒ½åŠ›\"\n        ],\n        \"æ¸¸æˆè§’è‰²æ©é¥°\": [\n          0,\n          \"è¡¡é‡æ¸¸æˆè§’è‰²éšè—çœŸç›¸ã€ä¼ªè£…èº«ä»½ä¸æ¬ºéª—ä»–äººçš„èƒ½åŠ›\"\n        ]\n      }\n    }}","constant":true,"vectorized":false,"selective":true,"selectiveLogic":0,"addMemo":true,"order":100,"position":0,"disable":true,"excludeRecursion":false,"preventRecursion":false,"matchPersonaDescription":false,"matchCharacterDescription":false,"matchCharacterPersonality":false,"matchCharacterDepthPrompt":false,"matchScenario":false,"matchCreatorNotes":false,"delayUntilRecursion":false,"probability":100,"useProbability":true,"depth":4,"group":"","groupOverride":false,"groupWeight":100,"scanDepth":null,"caseSensitive":null,"matchWholeWords":null,"useGroupScoring":null,"automationId":"","role":null,"sticky":0,"cooldown":0,"delay":0,"triggers":[],"displayIndex":19}}}